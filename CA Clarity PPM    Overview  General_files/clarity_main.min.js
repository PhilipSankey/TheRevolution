/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
define("pfm/js/nkdate",["jquery"],function(){function a(){switch(arguments.length){case 1:if(typeof arguments[0]=="object"&&arguments[0]instanceof Date)this.julian=a.julian(arguments[0]);else if(typeof arguments[0]=="number")this.julian=arguments[0];break;case 3:this.julian=a.julian(arguments[0],arguments[1],arguments[2]);break;default:this.julian=a.julian(new Date)}}a.prototype.add=function(b){return b==0?this:b<0?sub(-b):new a(this.julian+b)};a.prototype.sub=function(b){return b==0?this:b<0?add(-b):
new a(this.julian-b)};a.MIN_VALUE=new a(2);a.MAX_VALUE=new a(65534);a.prototype.toString=function(){return a.toDate(this.julian)};a.prototype.compareTo=function(a){return!a||a==null?1:this.julian==a.julian?0:this.julian<a.julian?-1:1};a.julian=function(){var a=0,c=function(a,b,c){var d;a<82?a+=2E3:a<100&&(a+=1900);b>2?b-=3:(b+=9,--a);d=~~(a/100);return(146097*d>>>2)+(1461*(a-100*d)>>>2)+~~((153*b+2)/5)+c-693900};if(arguments&&arguments.length>0)switch(arguments.length){case 1:if(arguments[0]instanceof
Date)var a=arguments[0].getFullYear(),d=arguments[0].getMonth()+1,e=arguments[0].getDate(),a=c(a,d,e);break;case 3:a=c(arguments[0],arguments[1],arguments[2])}return a};a.toDate=function(a,c){var d,e,f,g;e=a+693900;g=Math.floor((e*4-1)/146097);d=Math.floor((e*4-1-146097*g)/4);e=Math.floor((d*4+3)/1461);d=Math.floor((d*4+3-1461*e+4)/4);f=Math.floor((5*d-3)/153);d=Math.floor((5*d-3-153*f+5)/5);g=100*g+e;f<10?f+=3:(f-=9,g+=1);c||(c=0);return new Date(g,f-1,d,c/3600,c%3600/60,c%60,0)};a.diff=function(a,
c){return c.julian-a.julian};a.current=function(){return new a};a.prototype.next=function(){return this.add(1)};a.prototype.prev=function(){return this.sub(1)};a.prototype.toString=function(){return"NkDate: "+a.toDate(this.julian,this.tod).toDateString()};a.SUNDAY=1;a.MONDAY=2;a.TUESDAY=3;a.WEDNESDAY=4;a.THURSDAY=5;a.FRIDAY=6;a.SATURDAY=7;return a});
define("pfm/js/nktime",["jquery","pfm/js/nkdate"],function(a,b){function c(){switch(arguments.length){case 1:if(typeof arguments[0]=="object"&&arguments[0]instanceof Date)this.julian=b.julian(arguments[0]),this.tod=c.computeTimeOfDay(arguments[0]);else if(typeof arguments[0]=="object"&&arguments[0]instanceof b)this.julian=arguments[0].julian,this.tod=arguments[0].tod;else if(typeof arguments[0]=="number")this.julian=arguments[0],this.tod=0;break;case 2:if(typeof arguments[0]=="number"&&typeof arguments[1]==
"number")this.julian=arguments[0],this.tod=arguments[1];else if(typeof arguments[0]=="object"&&arguments[0]instanceof b&&typeof arguments[1]=="number")this.julian=arguments[0].julian,this.tod=arguments[1];else if(typeof arguments[0]=="object"&&arguments[0]instanceof Date&&typeof arguments[1]=="number"){var a=new b(arguments[0]);this.julian=a.julian;this.tod=arguments[1]}else if(typeof arguments[0]=="object"&&arguments[0]instanceof Date&&typeof arguments[1]=="boolean")a=new b(arguments[0]),this.julian=
a.julian,this.tod=c.computeTimeOfDay(arguments[0]),arguments[1]==!0&&this.tod==0&&this.julian++;else if(typeof arguments[0]=="object"&&arguments[0]instanceof b&&typeof arguments[1]=="boolean")this.julian=arguments[0].julian,this.tod=c.computeTimeOfDay(arguments[0]),arguments[1]==!0&&this.tod==0&&this.julian++;break;case 3:this.julian=b.julian(arguments[0],arguments[1],arguments[2]);break;case 4:if(typeof arguments[0]=="object"&&arguments[0]instanceof b&&typeof arguments[1]=="number"&&typeof arguments[2]==
"number"&&typeof arguments[3]=="number")this.julian=arguments[0].julian,this.tod=arguments[1]*3600+arguments[2]*60+arguments[3];break;default:this.julian=b.julian(new Date),this.tod=0}}c.prototype.add=function(a){if(a==0)return this;if(a<0)return sub(-a);var e=this.julian*c.SecondsPerDay+this.tod+a,a=Math.floor(e/c.SecondsPerDay),e=Math.floor(e-a*c.SecondsPerDay);return a>b.MAX_VALUE.julian?null:new c(a,e)};c.prototype.sub=function(a){if(a==0)return this;if(a<0)return add(-a);var e=this.julian*c.SecondsPerDay+
this.tod-a,a=Math.floor(e/c.SecondsPerDay),e=Math.floor(e-a*c.SecondsPerDay);return a<b.MIN_VALUE.julian?null:new c(a,e)};c.prototype.getJulian=function(){return arguments&&arguments.length>0&&typeof arguments[0]=="boolean"?arguments[0]==!0&&this.tod==0?this.julian-1:this.julian:this.julian+this.tod/c.SecondsPerDay};c.prototype.compareTo=function(a){return a==void 0||a==null?1:this.julian<a.julian?-1:this.julian>a.julian?1:this.tod<a.tod?-1:this.tod>a.tod?1:0};c.diff=function(a,b){var f=!1;arguments&&
arguments.length>2&&typeof arguments[2]=="boolean"&&(f=arguments[2]);return(b.getJulian(f)-a.julian)*c.SecondsPerDay+(b.tod-a.tod)};c.prototype.MIN_VALUE=new c(2);c.prototype.MAX_VALUE=new c(65534);c.SecondsPerDay=86400;c.SECONDS_PER_HOUR=3600;c.min=function(a,b){return a==null?b:b==null?a:a.compareTo(b)<0?a:b};c.max=function(a,b){return a==null?b:b==null?a:a.compareTo(b)<0?b:a};c.computeTimeOfDay=function(a){var b=0;typeof a=="object"&&a instanceof Date&&(b=a.getHours()*3600+a.getMinutes()*60+a.getSeconds());
return b};c.prototype.toDate=function(){return b.toDate(this.julian,this.tod)};c.prototype.toString=function(){return"NkTime "+this.toDate().toDateString()};c.toNkTime=function(a,b){return new c(a,b||!1)};return c});
define("pfm/js/nkcalendar",["jquery","pfm/js/nkdate","pfm/js/nktime"],function(a,b){function c(){switch(arguments.length){case 1:if(typeof arguments[0]=="object")this.pattern=arguments[0].pattern||127,this.parent=arguments[0].parent||null,this.shiftlists=arguments[0].shiftlists||[],this.calendarExceptionList=arguments[0].calendarExceptionList||null;break;default:this.pattern=127,this.parent=null,this.shiftlists=[],this.calendarExceptionList=null}}c.prototype.getHoursPerDay=function(){for(var a=0,
c=b.SUNDAY;c<=b.SATURDAY;c++){var f=this.getShifts(c);if(f.shifts!="undefined"&&f.shifts.length>0){for(var g=0,h=0;h<f.shifts.length;h++)g+=f.shifts[h].finish-f.shifts[h].start;g>a&&(a=g)}}return a/3600};c.prototype.getShifts=function(a){return this.shiftlists[a-1]};c.prototype.diffWorkday=function(a,b){if(!a||!b||a.julian>b.julian)return 1;for(var c=a.julian,g=b.julian-1,h=0,h=0,j=[],k=0;k<this.shiftlists.length;k++){var m=this.shiftlists[k];m&&m.shifts&&m.shifts.length>0?(h++,j.push(new Boolean(!0))):
j.push(new Boolean)}k=Math.floor((g-c+1)/7);h*=k;for(var l=c+k*7;l<=g;l++){var o=(l+6)%7,o=j[o];o.valueOf()&&h++}if(this.calendarExceptionList!=null&&this.calendarExceptionList.exceptions!=null&&this.calendarExceptionList.exceptions.length>0)for(k=0;k<this.calendarExceptionList.exceptions.length;k++){var m=this.calendarExceptionList.exceptions[k],n=m.finish-1,l=m.start;if(!(n<c)){if(l>g)break;l<c&&(l=c);for(n>g&&(n=g);l<=n;l++){var o=(l+6)%7,o=j[o],q=m.shifts.shifts.length>0;o.valueOf()?q||h--:q&&
h++}}}return h};c.prototype.getFinishDate=function(a,c){if(a==null)return new Date;for(var f=[],g=0;g<this.shiftlists.length;g++){var h=this.shiftlists[g];h&&h.shifts&&h.shifts.length>0?f.push(new Boolean(!0)):f.push(new Boolean)}h=a;for(g=0;g<c&&a.compareTo(b.MAX_VALUE)<0;g++)h=this.nextWorkday(a,f),a=h!=null?h.next():b.MAX_VALUE;return h};c.prototype.isWorkingday=function(a,b){return this.getShiftsOfExceptions(a,b)};c.prototype.getShiftsOfExceptions=function(a,b){var c=this.getException(a);return c!=
null?c:this.getShiftsOfDay(a,b)};c.prototype.getShiftsOfDay=function(a,b){var c=b[(a.julian+6)%7];return c!=null&&c.valueOf()?!0:!1};c.prototype.getException=function(a){if(a==null)return null;a=this.getActualShiftsOfException(a);return a!=null?a:null};c.prototype.getActualShiftsOfException=function(a){if(this.calendarExceptionList!=null&&this.calendarExceptionList.exceptions!=null&&this.calendarExceptionList.exceptions.length>0)for(var b=0;b<this.calendarExceptionList.exceptions.length;b++){var c=
this.calendarExceptionList.exceptions[b];if(!(c.finish-1<a.julian)){if(c.start>a.julian)break;return c.shifts.shifts.length>0}}return null};c.prototype.nextWorkday=function(a,b){if(a==null)return a;for(;a!=null&&!this.isWorkingday(a,b);)a=a.next();return a};return c});
define("pfm/js/nksegment",["jquery","pfm/js/nkdate","pfm/js/nktime","pfm/js/nkcalendar"],function(a,b,c){function d(){switch(arguments.length){case 1:if(typeof arguments[0]=="object")this.rate=arguments[0].rate||0,this.start=arguments[0].start||{tod:0,julian:currentDate.julian},this.finish=arguments[0].finish||{tod:0,julian:currentDate.julian};break;case 3:if(typeof arguments[0]=="object"&&arguments[0]instanceof c&&typeof arguments[1]=="object"&&arguments[1]instanceof c&&typeof arguments[2]=="number")this.start=
arguments[0],this.finish=arguments[1],this.rate=arguments[2];break;case 4:if(typeof arguments[0]=="object"&&arguments[0]instanceof c&&typeof arguments[1]=="object"&&arguments[1]instanceof c&&typeof arguments[2]=="number"&&typeof arguments[3]=="object")this.start=arguments[0],this.finish=arguments[1],this.rate=arguments[2],this.calendar=arguments[3];break;default:this.rate=0,this.start={tod:0,julian:b.current().julian},this.finish={tod:0,julian:b.current().julian}}}d.prototype.set=function(b){a.extend(this,
b)};d.prototype.getSum=function(){var a=null,b=null;switch(arguments.length){case 2:typeof arguments[0]=="object"&&arguments[0]instanceof c&&typeof arguments[1]=="object"&&arguments[1]instanceof c&&(a=arguments[0],b=arguments[1]);break;default:a=this.getStart(),b=this.getFinish()}return this.rate*this.diffWorktime(a,b)};d.prototype.diffWorktime=function(a,b){if(a==null||a.compareTo(this.getStart())<0)a=this.getStart();if(b==null||b.compareTo(this.getFinish())>0)b=this.getFinish();return a.compareTo(b)>=
0||this.rate==0?0:Math.floor(c.diff(a,b))};d.prototype.compareTo=function(a){if(a==void 0||a==null)return 1;var b=0,b=this.getStartDate().compareTo(a.getStartDate());if(b!=0)return b;b=this.getFinishDate().compareTo(a.getFinishDate());return b!=0?b:0};d.prototype.getStart=function(){var b=new c;a.extend(b,this.start);return b};d.prototype.getStartDate=function(){var c=new b;a.extend(c,this.start);return c};d.prototype.getFinish=function(){var b=new c;a.extend(b,this.finish);return b};d.prototype.getFinishDate=
function(){var c=new b;a.extend(c,this.finish);return c};d.prototype.getRate=function(){return this.rate};d.prototype.map=function(){var a=!1;switch(arguments.length){case 1:a=arguments[0];a=a.compareTo(this.getStart())>=0&&a.compareTo(this.getFinish())<0;break;case 2:var a=arguments[0],b=arguments[1],a=(b==null||b.compareTo(this.getStart())>0)&&(a==null||a.compareTo(this.getFinish())<0)}return a};d.prototype.getFirstDate=function(a){a=getFirst(a);return a==null?null:a.toDate()};d.prototype.getFirst=
function(a){return a&&this.rate==0?null:this.getStart()};d.prototype.getLast=function(a){return a&&this.rate==0?null:this.getFinish()};d.prototype.getLastDate=function(a){return a&&this.rate==0?null:this.getFinish()};d.prototype.toString=function(){return"NkSegment rate: "+this.rate+" start: "+this.getStart().toString()+" finish: "+this.getFinish().toString()+" sum: "+this.getSum()};return d});
define("pfm/js/nksegmentlist",["jquery","pfm/js/nksegment","pfm/js/nkdate","pfm/js/nktime"],function(a,b,c,d){function e(){switch(arguments.length){case 1:if(typeof arguments[0]=="object")this.defaultRate=arguments[0].defaultRate||0,this.segments=arguments[0].segments||[];else if(typeof arguments[0]=="number")this.defaultRate=arguments[0],this.segments=[];break;default:this.defaultRate=0,this.segments=[]}}e.prototype.getDefaultRate=function(){return this.defaultRate};e.prototype.getSum=function(){var a=
null,b=null;switch(arguments.length){case 2:typeof arguments[0]=="object"&&arguments[0]instanceof d&&typeof arguments[1]=="object"&&arguments[1]instanceof d&&(a=arguments[0],b=arguments[1]);break;default:a=this.getStart(),b=this.getFinish()}if(a==null||b==null)return 0;if(a.compareTo(b)>0)return-this.getSum(b,a);if(a.compareTo(b)==0)return 0;for(var c=this.defaultRate*d.diff(a,b,!0),e=0,e=this.search(a);e<this.size();e++){var k=this.getSegment(e);if(!k.map(a,b))break;var m=d.max(k.getStart(),a),l=
d.min(k.getFinish(),b);c+=k.getSum(m,l)-this.defaultRate*d.diff(m,l,!0)}return c};e.prototype.setSegments=function(a){if(a!=null&&a instanceof e)for(var b=0;b<a.size();b++)this.setSegment(a.getSegment(b))};e.prototype.setSegment=function(a){a!=null&&a instanceof b&&(this.resetSegment(a.getStart(),a.getFinish()),this.add(a))};e.prototype.resetSegment=function(a,c){for(var d=this.search(a);d<this.size();d++){var e=this.getSegment(d);if(!e.map(a,c))break;c!=null&&e.getFinish().compareTo(c)>0&&this.add(d+
1,new b(c,e.getFinish(),e.getRate()));a!=null&&e.getStart().compareTo(a)<0?this.set(d,new b(e.getStart(),a,e.getRate())):this.remove(d--)}};e.prototype.addRate=function(a){if(a!=0){this.explode();this.defaultRate+=a;var c;for(c=0;c<size();c++){var d=getSegment(c);this.set(c,new b(d.getStart(),d.getFinish(),d.getRate()+a))}}};e.prototype.subRate=function(a){this.addRate(-a)};e.prototype.scaleRate=function(a){if(a==0)this.clear();else if(a!=1){var c;for(c=0;c<this.size();c++){var d=this.getSegment(c);
this.set(c,new b(d.getStart(),d.getFinish(),d.getRate()*a))}}};e.prototype.divideRate=function(a){this.scaleRate(a!=0?1/a:0)};e.prototype.add=function(){switch(arguments.length){case 1:if(typeof arguments[0]=="object"&&arguments[0]instanceof b){var a=arguments[0],c=this.search(a,0);this.segments.splice(c,0,a)}break;case 2:if(typeof arguments[0]=="number"&&typeof arguments[1]=="object"&&arguments[1]instanceof b){c=arguments[0];a=arguments[1];if(c<0||c>this.segments.length)break;this.segments.splice(c,
0,a)}}};e.prototype.append=function(a){this.segments.splice(this.segments.length,0,a)};e.prototype.set=function(a,b){a<0||a>this.segments.length||(this.segments[a]=b)};e.prototype.remove=function(a){a<0||a>this.segments.length||this.segments.splice(a,1)};e.prototype.clear=function(){this.segments.splice(0,this.segments.length)};e.prototype.search=function(){switch(arguments.length){case 1:if(typeof arguments[0]=="object"&&arguments[0]instanceof d)return this.searchOnTime(arguments[0]);break;case 2:if(typeof arguments[0]==
"object"&&arguments[0]instanceof b&&typeof arguments[1]=="number")return this.searchOnSegment(arguments[0],arguments[1])}};e.prototype.searchOnTime=function(a){if(a==null||a==void 0)return 0;var b=0,c=this.segments.length;if(c<=b)return b;if(this.getSegment(c-1).getFinish().compareTo(a)<=0)return c;if(this.getSegment(b).getStart().compareTo(a)>0)return b;for(;b<c;){var d=b+c>>1,e=this.getSegment(d);if(e.getFinish().compareTo(a)<=0)b=d+1;else if(e.getStart().compareTo(a)>0)c=d;else return d}return b};
e.prototype.searchOnSegment=function(a,b){var c=b,d=this.size();if(d<=c)return c;if(this.getSegment(d-1).compareTo(a)<0)return d;if(this.getSegment(c).compareTo(a)>0)return c;for(;c<d;){var e=c+d>>1;this.getSegment(e).compareTo(a)<0?c=e+1:d=e}return c};e.prototype.getSegment=function(c){if(this.segments==void 0||this.segments==null)return null;if(c>this.segments.length||c<0)return null;var d=new b;a.extend(d,this.segments[c]);return d};e.prototype.getStart=function(){return this.size()>0?this.getSegment(0).getStart():
null};e.prototype.getFinish=function(){return this.size()>0?this.getSegment(this.size()-1).getFinish():null};e.prototype.size=function(){return this.segments.length};e.prototype.addSegments=function(a){a.defaultRate==0?this.fixup(a):this.addRate(a.default_);for(var b=0,b=0;b<a.size();b++)segment=a.getSegment(b),this.addSegment(segment.getStart(),segment.getFinish(),segment.getRate()-a.defaultRate)};e.prototype.addSegment=function(a,c,d){if(d!=0){var e;for(e=this.search(a);e<this.size();e++){var k=
this.getSegment(e);if(!k.map(a,c))break;k.getStart().compareTo(a)>0&&(this.add(e++,new b(a,k.getStart(),d+this.defaultRate)),a=k.getStart());k.getStart().compareTo(a)<0&&(this.set(e++,new b(k.getStart(),a,k.getRate())),this.add(e,k=new b(a,k.getFinish(),k.getRate())));k.getFinish().compareTo(c)>0&&(this.add(e+1,new b(c,k.getFinish(),k.getRate())),this.set(e,k=new b(k.getStart(),c,k.getRate())));this.set(e,new b(k.getStart(),a=k.getFinish(),k.getRate()+d))}c.compareTo(a)>0&&this.add(e,new b(a,c,d+
this.defaultRate))}};e.prototype.subSegments=function(a){a.defaultRate==0?this.fixup(a):this.subRate(a.defaultRate);var b;for(b=0;b<a.size();b++){var c=a.getSegment(b);this.subSegment(c.getStart(),c.getFinish(),c.getRate()-a.defaultRate)}};e.prototype.subSegment=function(){switch(arguments.length){case 1:if(typeof arguments[0]=="object"&&arguments[0]instanceof b){var a=arguments[0];return this.subSegment(a.getStart(),a.getFinish(),a.getRate())}break;case 3:typeof arguments[0]=="object"&&arguments[0]instanceof
d&&typeof arguments[1]=="object"&&arguments[1]instanceof d&&typeof arguments[2]=="number"&&this.addSegment(arguments[0],arguments[1],-arguments[2])}};e.prototype.scaleSegments=function(a){a.normalize(this);if(a.defaultRate==0){this.defaultRate=0;this.clip(a);var b;for(b=0;b<a.size();b++)this.scaleSegment(a.getSegment(b))}else{this.scaleRate(a.defaultRate);for(b=0;b<a.size();b++){var c=a.getSegment(b);this.scaleSegment(c.getStart(),c.getFinish(),c.getRate()/a.defaultRate)}}};e.prototype.scaleSegment=
function(){var a,c,e;switch(arguments.length){case 1:typeof arguments[0]=="object"&&arguments[0]instanceof b&&(a=arguments[0].getStart(),c=arguments[0].getFinish(),e=arguments[0].getRate());break;case 3:typeof arguments[0]=="object"&&arguments[0]instanceof d&&typeof arguments[1]=="object"&&arguments[1]instanceof d&&typeof arguments[2]=="number"&&(a=arguments[0],c=arguments[1],e=arguments[2])}if(!(a==void 0||a==null||c==void 0||c==null||e==void 0||e==null))if(e==0)this.setSegment(a,c,0);else if(e!=
1){var j;for(j=this.search(a);j<this.size();j++){var k=this.getSegment(j);if(k.getStart()!=null&&k.getStart().compareTo(k.getFinish())==0)this.remove(j--);else{if(!k.map(a,c))break;k.getStart().compareTo(a)>0&&(this.add(j++,new b(a,k.getStart(),e*this.defaultRate)),a=k.getStart());k.getStart().compareTo(a)<0&&(this.set(j++,new b(k.getStart(),a,k.getRate())),this.add(j,k=new b(a,k.getFinish(),k.getRate())));k.getFinish().compareTo(c)>0&&(this.add(j+1,new b(c,k.getFinish(),k.getRate())),this.set(j,
k=new b(k.getStart(),c,k.getRate())));this.set(j,new b(k.getStart(),a=k.getFinish(),k.getRate()*e))}}c.compareTo(a)>0&&this.add(j,new b(a,c,e*this.defaultRate))}};e.prototype.divideSegments=function(a){a.normalize(this);if(a.getDefaultRate()==0){this.defaultRate=0;this.clip(a);var b;for(b=0;b<a.size();b++)this.divideSegment(a.getSegment(b))}else{this.divideRate(a.getDefaultRate());for(b=0;b<a.size();b++){var c=a.getSegment(b);this.divideSegment(c.getStart(),c.getFinish(),c.getRate()/a.getDefaultRate())}}};
e.prototype.divideSegment=function(a){switch(arguments.length){case 1:typeof arguments[0]=="object"&&arguments[0]instanceof b&&(a=arguments[0],this.scaleSegment(a.getStart(),a.getFinish(),a.getRate()!=0?1/a.getRate():0));case 3:if(typeof arguments[0]=="object"&&arguments[0]instanceof d&&typeof arguments[1]=="object"&&arguments[1]instanceof d&&typeof arguments[2]=="number"){var c=arguments[2];this.scaleSegment(arguments[0],arguments[1],c!=0?1/c:0)}}};e.prototype.clip=function(a){var c=new e(this.getDefaultRate()),
h;for(h=0;h<a.size();h++){var j=a.getSegment(h),k=j.getStart(),j=j.getFinish(),m;for(m=0;m<this.size();m++){var l=this.getSegment(m);if(l.map(k,j)){var o=d.max(l.getStart(),k),n=d.min(l.getFinish(),j);c.append(new b(o,n,l.getRate()))}}}this.clear();this.addAll(c)};e.prototype.addAll=function(a){var b;for(b=0;b<a.size();b++)this.append(a.getSegment(b))};e.prototype.clipSegment=function(a,c){var d;for(d=0;d<this.size();d++){var e=this.getSegment(d);e.map(a,c)?(a!=null&&e.getStart().compareTo(a)<0&&
this.set(d,e=new b(a,e.getFinish(),e.getRate())),c!=null&&e.getFinish().compareTo(c)>0&&this.set(d,new b(e.getStart(),c,e.getRate()))):this.remove(d--)}};e.prototype.fixup=function(a){this.normalize(a);a.normalize(this)};e.prototype.normalize=function(){switch(arguments.length){case 1:typeof arguments[0]=="object"&&arguments[0]instanceof b?this.normalizeSegment(arguments[0]):typeof arguments[0]=="object"&&arguments[0]instanceof e&&this.normalizeSegments(arguments[0]);break;case 2:typeof arguments[0]==
"object"&&arguments[0]instanceof d&&typeof arguments[1]=="object"&&arguments[1]instanceof d&&this.normalizeDates(arguments[0],arguments[1])}};e.prototype.normalizeSegments=function(a){for(var b=0,b=0;b<a.size();b++)a.normalizeSegment(a.getSegment(b))};e.prototype.normalizeSegment=function(a){a!=null&&this.normalizeDates(a.getStart(),a.getFinish())};e.prototype.normalizeDates=function(a,c){for(var d=0,d=this.search(a);d<this.size();d++){var e=this.getSegment(d);if(!e.map(a,c))break;e.getStart().compareTo(a)<
0&&(this.set(d++,new NkSegmet(e.getStart(),a,e.getRate())),this.add(d,e=new b(a,e.getFinish(),e.getRate())));e.getFinish().compareTo(c)>0&&(this.add(d+1,new b(c,e.getFinish(),e.getRate())),this.set(d,new b(e.getStart(),c,e.getRate())))}};e.prototype.getFirst=function(a){for(var b=0,b=0;b<this.size();b++){var c=this.getSegment(b).getFirst(a);if(c!=null)return c}};e.prototype.getLast=function(a){for(var b=0,b=this.size();b>0;b--){var c=this.getSegment(b-1).getLast(a);if(c!=null)return c}};e.prototype.clipSegment=
function(a,c){var d;for(d=0;d<this.size();d++){var e=this.getSegment(d);e.map(a,c)?(a!=null&&e.getStart().compareTo(a)<0&&this.set(d,e=new b(a,e.getFinish(),e.getRate())),c!=null&&e.getFinish().compareTo(c)>0&&this.set(d,new b(e.getStart(),c,e.getRate()))):this.remove(d--)}};e.prototype.optimize=function(){if(!(this.size()<2)){for(var a=this.getStart(),c=this.getFinish(),e=this.getSegment(0),j=1;j<this.size();j++){var k=this.getSegment(j);e.getFinish().julian==k.getStart().julian&&e.rate==k.rate&&
(k=new b(new d(e.getStart().julian),new d(k.getFinish().julian),e.rate),this.set(j-1,k),this.remove(j--));e=k}this.size()==0&&a&&a!="undefined"&&c&&c!="undefined"&&this.setSegment(new b(a,c,0))}};e.prototype.toString=function(){var c=new b;console.log("default rate: "+this.defaultRate+" number of segments: "+this.segments.length);a.each(this.segments,function(){c.set(this);console.log(c.toString())})};return e});
define("pfm/js/nkcurve",["jquery","pfm/js/nksegmentlist","pfm/js/nksegment","pfm/js/nkdate","pfm/js/nktime"],function(a,b,c,d,e){function f(){switch(arguments.length){case 1:typeof arguments[0]=="object"&&a.extend(this,arguments[0]);break;default:this.segmentList={defaultRate:0,segments:[]}}}f.prototype.getDefaultRate=function(){return this.segmentList.defaultRate};f.prototype.listSegments=function(){this.getSegments()};f.prototype.getSegments=function(){var c=new b;a.extend(c,this.segmentList||{});
return c};f.prototype.getRate=function(a){return getRate(e.toNkTime(a))};f.prototype.getRate=function(a){return segments_.getRate(a)};f.prototype.getSum=function(){switch(arguments.length){case 0:return this.getSegments().getSum();case 2:if(typeof arguments[0]=="object"&&arguments[0]instanceof Date&&typeof arguments[1]=="object"&&arguments[1]instanceof Date)return this.getSegments().getSum(e.toNkTime(arguments[0]),e.toNkTime(arguments[1]));else if(typeof arguments[0]=="object"&&arguments[0]instanceof
e&&typeof arguments[1]=="object"&&arguments[1]instanceof e)return this.getSegments().getSum(arguments[0],arguments[1]);break;default:return this.getSegments().getSum()}};f.prototype.addRate=function(a){a!=0&&this.getSegments().addRate(a)};f.prototype.subRate=function(a){a!=0&&this.getSegments().subRate(a)};f.prototype.scaleRate=function(a){a!=1&&this.getSegments().scaleRate(a)};f.prototype.divideRate=function(a){a!=1&&this.getSegments().divideRate(a)};f.prototype.getStart=function(){return this.getSegments().getFirst(!1)};
f.prototype.getStartDate=function(){return this.getSegments().getFirst(!1)==null?null:this.getSegments().getFirst(!1).toDate()};f.prototype.getFinish=function(){return this.getSegments().getLast(!1)};f.prototype.getFinishDate=function(){var a=null;this.getSegments().getLast(!1)!=null&&(a=this.getSegments().getLast(!1).toDate(!0));return a};f.prototype.addSegment=function(a,c,f){a instanceof d?a=e.toNkTime(a):a instanceof Date&&(a=new e(a));c instanceof d?c=e.toNkTime(c,!0):c instanceof Date&&(c=new e(c));
var k=new b;k.setSegment(this.segment(a,c,f));this.getSegments().addSegments(k)};f.prototype.setSegment=function(a,c,f,k){a instanceof d?a=e.toNkTime(a):a instanceof Date&&(a=new e(a));c instanceof d?c=e.toNkTime(c,!0):c instanceof Date&&(c=new e(c,!0));if(k&&k!="undefined"){for(var m=k.diffWorkday(a,c),l=new b,o=new e(a.julian),a=new e(a.julian+1);o.compareTo(c)<0;){var n=k.diffWorkday(o,a);n>0&&l.setSegment(this.segment(new e(o.julian),new e(a.julian),f*n/m));o.julian+=1;a.julian+=1}l.optimize();
this.getSegments().setSegments(l);this.getSegments().optimize()}else this.getSegments().setSegment(this.segment(a,c,f))};f.prototype.optimize=function(){this.getSegments().optimize()};f.prototype.clipSegment=function(a,b){a instanceof d?a=e.toNkTime(a):a instanceof Date&&(a=new e(a));b instanceof d?b=e.toNkTime(b):b instanceof Date&&(b=new e(b));this.getSegments().clipSegment(a,b)};f.prototype.resetSegment=function(a,b){a instanceof d?a=e.toNkTime(a):a instanceof Date&&(a=new e(a));b instanceof d?
b=e.toNkTime(b,!0):b instanceof Date&&(b=new e(b));this.getSegments().resetSegment(a,b)};f.prototype.scaleSegment=function(a,c,f){a instanceof d?a=e.toNkTime(a):a instanceof Date&&(a=new e(a));c instanceof d?c=e.toNkTime(c,!0):c instanceof Date&&(c=new e(c));var k=new b;k.setSegment(this.segment(a,c,f));this.getSegments().scaleSegments(k)};f.prototype.addCurve=function(a){a!=null&&this.getSegments().addSegments(a.getSegments())};f.prototype.subCurve=function(a){a!=null&&this.getSegments().subSegments(a.getSegments())};
f.prototype.scaleCurve=function(a){a!=null&&this.getSegments().scaleSegments(a.getSegments())};f.prototype.divideCurve=function(a){a!=null&&this.getSegments().divideSegments(a.getSegments())};f.prototype.segment=function(a,b,d,f){if(a.compareTo(b)>=0)return null;var m=e.diff(a,b);m==0&&(m=1);f&&(m=f.diffWorkday(a,b)*e.SecondsPerDay);return new c(a,b,d/m)};f.prototype.clone=function(){var a=new f;a.defaultRate=this.getDefaultRate();a.getSegments().addSegments(this.getSegments());return a};f.prototype.clear=
function(){this.getSegments().clear()};f.prototype.shift=function(a){var c=new b(this.getDefaultRate()),d=null,f=this.getSegments(),m;for(m=0;m<this.getSegments().size();m++){var l=f.getSegment(m),o=l.getStart(),o=a>=0?o.add(a):o.sub(-a);d!=null&&o.compareTo(d)<0&&(o=d);var n=l.getRate(),l=e.diff(l.getStart(),l.getFinish()),d=o.add(l);n*=l;c.setSegment(this.segment(o,d,n))}f.clear();f.addAll(c)};return f});
define("uif/js/clarity",["jquery","pfm/js/nkdate","pfm/js/nktime","pfm/js/nksegment","pfm/js/nksegmentlist","pfm/js/nkcurve","pfm/js/nkcalendar"],function(a,b,c,d,e,f,g){d={session:{},e1:{},e3:{},app:{},uif:{},uitk:{IMAGE_BASE:"ui/",SERVLET:"nu",SERVLET_Q:"nu?uitk.vxml=1",SERVICES_REL_PATH:"services/uif/",ODATA_REL_PATH:"odata",SPACER_SRC:"ui/uitk/images/s.gif",SPACER:'<img src="ui/uitk/images/s.gif" border="0" ',embeddedWidgets:{},templates:{},paginateInput:function(b,c,d,e,f){if((c.keyCode?c.keyCode:
c.which?c.which:c.charCode)==13)if(b=parseInt(a(b).val()),b!="NaN"&&b>0&&b<=d)return clarity.uitk.paginate(b-1,e,f,d),!1;return!0},paginate:function(a,b,c,d){var e=parseInt(a),a=parseInt(d);if(e!="NaN"&&e>=0&&a!="NaN"&&e<=a)a={},a.args=c,a.value=e,a.func=b,a.execute=function(){b=="gridSetPage"&&clarity.uitk.widgets.grid.builder.ListViewBuilder.removeListViewHandler("grid-content-"+c[0]);c.push(b=="gridSetPage"?e:"page="+e);window[b].apply(null,c)},clarity.uitk.validation.AjaxDirtyValidator.validate("grid-content-"+
c[0],a);return!1},chart:function(b,c,d){setTimeout(function(){clarity.log.isPerfEnabled()&&clarity.log.startPerf("Render["+b+"]","Chart");var e=a("#"+d),f=e.parent().width()-20;if(f>c.chart.width)c.chart.width=f;if(clarity&&clarity.uitk&&clarity.uitk.i18n&&clarity.uitk.i18n.constants&&clarity.uitk.i18n.constants.I18nDateTimeConstants){var g=clarity.uitk.i18n.constants.I18nDateTimeConstants.getInstance();if(g){var f=clarity.uitk.i18n.constants.I18nDateTimeConstants.shortMonths(g),n=clarity.uitk.i18n.constants.I18nDateTimeConstants.months(g),
g=clarity.uitk.i18n.constants.I18nDateTimeConstants.weekdays(g);f&&n&&g&&Highcharts.setOptions({lang:{shortMonths:f,weekdays:g,months:n}})}}var q=new Highcharts.Chart(c,function(b){setTimeout(function(){var c=null;if(b)switch(b.options.chart.type){case "bar":case "column":case "area":case "line":c=e.find("g.highcharts-axis, div.highcharts-axis").first();break;case "pie":case "donut":var d=e.find("g.highcharts-data-labels > text, div.highcharts-data-labels > span");if(d&&d.get(0)){var f=d.get(0).tagName==
"SPAN";d.each(function(){var b=a(this);if(f)b.attr("title",b.text());else{var c=a('<div style="white-space: nowrap; padding: 3px 6px; background-color: #efefef; border: 1px solid #767676; border-radius: 3px; position:absolute; display:none; z-index:200">'+b.text()+"</div>").appendTo(e);b.hover(function(a){c.show().position({my:"left bottom",at:"right top",offset:"0 0",of:a,collision:"none none"})},function(){c.hide()})}})}}c&&c.length&&(c.get(0).tagName=="DIV"?c.children("span").each(function(c){a(this).attr("title",
b.xAxis[0].categories[c])}):c.children("text").each(function(c){var d=a('<div style="white-space: nowrap; padding: 3px 6px; background-color: #efefef; border: 1px solid #767676; border-radius: 3px; position:absolute; display:none; z-index:200">'+b.xAxis[0].categories[c]+"</div>").appendTo(e);a(this).hover(function(a){d.show().position({my:"left bottom",at:"right top",offset:"0 0",of:a,collision:"none none"})},function(){d.hide()})}))},1)});e.parent().resizable({helper:"ppm_chart_resize_helper",stop:function(){q.setSize(this.offsetWidth-
20,this.offsetHeight-20,!1)}});clarity.log.isPerfEnabled()&&clarity.log.stopPerf("Render["+b+"]","Chart")},1)},chartFilterHandler:function(b,c){if(c&&c.data){var d=a("#"+b).empty();d.parent().children("table[class=instructional]").remove();if(d.length){var e=clarity.uitk.utility.extractScripts(c.data);d.html(clarity.uitk.utility.replaceScripts(c.data,""));clarity.uitk.utility.execScripts(e)}}},utility:{replaceIndex:0,scriptReplacePrefix:"scriptReplace_",documentWriteText:"",scriptRx:RegExp('<script[^>]*[id="(w+)"]*type="text/javascript"[^>]*>([\\S\\s]*?)<\/script>',
"img"),extractScripts:function(a){var b;a&&a.match&&(b=a.match(this.scriptRx));if(b&&b.length)for(var a=b.length,c=0;c<a;c++){var d=b[c],e=d.indexOf(">"),f=d.indexOf("src"),g=clarity.uitk.utility.getScriptId(d,c);f>0&&f<e?(e=d.substring(f+4,f+5),e=d.indexOf(e,f+5),b[c]={isExt:!0,src:e>0?d.substring(f+5,e):null,id:g}):b[c]={isExt:!1,script:d.substring(e+1,d.length-9),id:g}}return b||[]},getScriptId:function(a,b){var c=a.indexOf(">"),d=a.indexOf('id="'),e=clarity.uitk.utility.scriptReplacePrefix+b;
d>0&&d<c&&(e=a.substring(d+4,a.indexOf('"',d+5)));d=a.indexOf("id='");d>0&&d<c&&(e=a.substring(d+4,a.indexOf("'",d+5)));return e},replaceScripts:function(a,b){var c;a&&a.replace&&(c=a.replace(this.scriptRx,b));return c},replaceScriptsWithDiv:function(a){var b;if(a&&a.replace)clarity.uitk.utility.replaceIndex=0,b=a.replace(this.scriptRx,function(a){clarity.uitk.utility.replaceIndex+=1;a=clarity.uitk.utility.getScriptId(a,clarity.uitk.utility.replaceIndex);return'<div id="'+a+'" class="'+a+'"/>'});
return b},overrideDocWriteForLocation:function(){var a=document.write;document.write=function(a){clarity.uitk.utility.documentWriteText+=a};return a},execScripts:function(b){a.isArray(b)&&a.each(b,function(b,c){if(c&&typeof c=="object"&&!c.isExt){if(c.script&&typeof c.script=="string"&&a.trim(c.script)!=""){clarity.uitk.utility.replaceIndex=b;clarity.uitk.utility.documentWriteText="";var d=clarity.uitk.utility.overrideDocWriteForLocation();try{a.globalEval(c.script)}catch(e){window.console&&(window.console.log("Error: "+
e.message+" file:"+e.fileName+" line: "+e.lineNumber),window.console.log("Error: "+e.extMessage),window.console.log("Eval'ing this script: "+c.script))}if(clarity.uitk.utility.documentWriteText!=""){var f=a("#"+c.id);f!=null?f.html(clarity.uitk.utility.documentWriteText):window.console.log("can't find script replace for id: "+c.id)}document.write=d}}else c&&typeof c=="object"&&c.isExt&&c.src&&typeof c.src=="string"&&a.trim(c.src)!=""&&require([c.src])})}}},studio:{attributeRegistryTransfer:function(b,
c,d){window.optionTransfer(b,c,d);var e=a("select[name='selectedAttributes'] option"),d=a("select[name='requiredAttributes'] option");if((b=a("span.ppm_legend_item"))&&b.length>0){var c=b.text(),f=0;if(e&&e.length>0)f=e.length;e=0;if(d&&d.length>0)e=d.length;d=f+e;if((c=c.split(" "))&&c.length>0)for(var g="",f=0;f<c.length;f++)f==0?g+=d:g=g+" "+c[f];b.html(g)}}},pfmRanking:{checkPlanWidget:function(b,c,d){var e=c>0,f=a("select[name='displayedPlan']");if(f&&f.length>0&&(f=f.children())&&f.length>0){var g=
!1,n=-1;a(f).each(function(b){if(a(this).attr("selected")&&a(this).attr("data-ppm")!=c)return g=!0,n=b,!1});if(g){e?(a('input[name="odf_ranking_context_type"]').val("pfmplan"),a('input[name="odf_ranking_context_id"]').val(c)):(a('input[name="odf_ranking_context_type"]').val("pfm"),a('input[name="odf_ranking_context_id"]').val(b));var q="",r="";a(f).each(function(){a(this).removeAttr("selected")});a(f).each(function(d){d==n?(a(this).attr("value","navigateTo('page', 'pfm.setPlanAsCurrent', 'selector="+
a(this).attr("data-ppm")+"', 'portfolio_id="+b+"', 'odf_return_to=app?action=pfm.pfmPriorityView&id="+b+"')"),r=a(this).text()):a(this).attr("data-ppm")==c&&(a(this).attr("value",""),a(this).attr("selected","true"),q=a(this).text())});if(q&&q.length>0&&(f=a(".ppm_toolbar_button"))&&f.length>0){var s=a(f).text(),t=s.indexOf(r);t==-1&&(t=s.indexOf(d),t!=-1&&(r=d));if(t!=-1){var t=a(f).children("img"),u="";e?(u=s.replace(r,q),f.css("background-color","#FCD741"),f.css("border-color","#FCD741")):(u=s.replace(r,
d),f.css("background-color",""),f.css("border-color",""));a(f).text(u);a(f).append(t)}}}}},addConstraintGauges:function(){var b=clarity.pfmRanking.constraintHeaders,c=clarity.pfmRanking.aboveTotals,d=clarity.pfmRanking.belowTotals,e=clarity.pfmRanking.targetTotals,f=clarity.pfmRanking.constraintCodes,g=clarity.pfmRanking.gaugeLabels,n=clarity.pfmRanking.constraintPatterns,q=clarity.pfmRanking.constraintBenefitFlags;if(b.length>0){var r=a("#ppm_gaugeHeader"),s=a("#ppm_gauges");a("#ppm_gauges_text");
for(var t=a("#ppm_above_gauges_text"),u=a("#ppm_below_gauges_text"),v=a("#ppm_targets_gauges_text"),y=a("#ppm_gap_gauges_text"),x=0;x<b.length;x++){var B=clarity.pfmRanking.buildConstraintHeader(b[x],f[x]),w=clarity.pfmRanking.calcConstraintPct(e[x],c[x]),w=clarity.pfmRanking.calcGaugeWidth(w),z=clarity.pfmRanking.getColorGauge(e[x],c[x],q[x]),A=clarity.pfmRanking.getGap(e[x],c[x]);r.prepend(B);s.prepend(clarity.pfmRanking.buildGauge(w,z));t.prepend(clarity.pfmRanking.buildSummaryTotal(c[x],g[1],
n[x]));v.prepend(clarity.pfmRanking.buildSummaryTotal(e[x],g[3],n[x]));y.prepend(clarity.pfmRanking.buildGapText(A,g[0],n[x],q[x]));u.prepend(clarity.pfmRanking.buildSummaryTotal(d[x],g[2],n[x]))}}clarity.pfmRanking.clearGaugeVariables();b=a("#ppm_waterline_gauges").height();a("#ppm_pfmApprovedTotals").height(b)},clearGaugeVariables:function(){clarity.pfmRanking.aboveTotals=null;clarity.pfmRanking.belowTotals=null;clarity.pfmRanking.targetTotals=null},addSortable:function(b){a("div.ppm_grid_rankable").sortable({containment:"parent",
delay:200,items:"div.ppm_rankable_row",disabled:!1,axis:"y",start:function(b,c){a('input[name="odf_rankdata"]').removeAttr("disabled");clarity.pfmRanking.currentItems=a("div.x-grid3-row-selected").filter(function(){var b=a(this).attr("id");if(b&&(b=b.split("_"))&&b.length>0)return a(this)});if(clarity.pfmRanking.currentItems&&clarity.pfmRanking.currentItems.length>1){clarity.pfmRanking.currentItemsArray=[];clarity.pfmRanking.currentItems.each(function(){clarity.pfmRanking.currentItemsArray.push(a(this))});
var d=c.item.parent(),e=c.item.height*clarity.pfmRanking.currentItems.length;a(".placeholder",d).height(e)}clarity.pfmRanking.restoreItems=[];a(clarity.pfmRanking.currentItems).each(function(b){var c={};c.item=a(this);c.pos=clarity.pfmRanking.getPosition(a(this));c.prev=clarity.pfmRanking.getPreviousRow(a(this));c.prev||a("div.ppm_rankable_row").each(function(a){if(a==1)return!1;if(c.pos==0)c.firstRow=!0});c.parent=a(this).parent();clarity.pfmRanking.restoreItems[b]=c});clarity.pfmRanking.nextMarkableWaterlineSibling=
clarity.pfmRanking.getNextNonSelectedWaterlineSibling()},stop:function(c,d){if(a.browser.mozilla){if(clarity.pfmRanking.sortedOffset){var e={};e.top=clarity.pfmRanking.sortedOffset.top;e.left=d.item.offset().left;d.item.offset(e);e=clarity.pfmRanking.getPreviousRowByOffset(d.item);e!=null&&e.after(d.item)}clarity.pfmRanking.sortedOffset=null}if(clarity.pfmRanking.currentItems.length>1){var f=clarity.pfmRanking.getItemIndex(d.item);(e=clarity.pfmRanking.currentItems.filter(function(){return clarity.pfmRanking.getItemIndex(a(this))<
f}))&&e.length>0&&d.item.before(e);(e=clarity.pfmRanking.currentItems.filter(function(){return clarity.pfmRanking.getItemIndex(a(this))>f}))&&e.length>0&&d.item.after(e)}if(clarity.pfmRanking.verifyDrop(d)==!0){var g=null;a(clarity.pfmRanking.currentItems).each(function(b){if(clarity.pfmRanking.waterlinePosition&&(b=clarity.pfmRanking.restoreItems[b].pos,Number(b)==Number(clarity.pfmRanking.waterlinePosition))){var c=clarity.pfmRanking.getPosition(a(this));Number(c)!=Number(b)&&clarity.pfmRanking.markNextNonSelectedWaterlineSibling()}});
clarity.pfmRanking.setWaterlinePosition();clarity.pfmRanking.setWaterlineTop();a(clarity.pfmRanking.currentItems).each(function(c){clarity.pfmRanking.updatePFMRank(a(this),b);g=c>0?g+":"+a(this).find("tr[data-ppm_rankable_tr='true']").attr("id"):a(this).find("tr[data-ppm_rankable_tr='true']").attr("id")});clarity.pfmRanking.reNumberPFMRanks(b);clarity.pfm.PFMRankable.rePositionModels(g);clarity.pfm.PFMRankable.refreshView(g);a('input[name="odf_rankdata"]').val(a("div.ppm_grid_rankable").sortable("serialize"))}else if(clarity.pfmRanking.restoreItems&&
clarity.pfmRanking.restoreItems.length>0){for(var e=clarity.pfmRanking.restoreItems.length,n=0;n<e;n++)clarity.pfmRanking.restoreItems[n].item.detach();for(n=!1;!n;){for(n=0;n<e;n++)clarity.pfmRanking.reAttach(clarity.pfmRanking.restoreItems[n]);for(var q=!1,n=0;n<e;n++)clarity.pfmRanking.restoreItems[n].reAttached||(q=!0);n=!q}}clarity.pfmRanking.currentItems=null;clarity.pfmRanking.restoreItems=null;clarity.pfmRanking.nextMarkableWaterlineSibling=null},sort:function(b,c){if(clarity.pfmRanking.currentItems.length>
1){var d=clarity.pfmRanking.getItemIndex(c.item);d>0&&clarity.pfmRanking.repositionItemsBefore(c.item,d);clarity.pfmRanking.repositionItemsAfter(c.item,d)}if(a.browser.mozilla)clarity.pfmRanking.sortedOffset=c.offset}});a("div.ppm_grid_rankable").disableSelection();a('input[name="odf_rankdata"]').attr("disabled","disabled")},reAttach:function(b){if(!b.reAttached)if(b.prev&&b.prev.length>0){var c=b.prev.attr("id");if(c&&(c=a("div.ppm_rankable_row[id='"+c+"']"))&&c.length>0)c.after(b.item),b.item.css("z-index",
""),b.item.css("top",""),b.item.css("position",""),b.reAttached=!0}else if(b.firstRow)a("div.ppm_grid_rankable").prepend(b.item),b.item.css("z-index",""),b.item.css("top",""),b.item.css("position",""),b.reAttached=!0},getItemIndex:function(a){if(a=a.attr("id"))for(var b=clarity.pfmRanking.currentItemsArray.length,c=0;c<b;c++){var d=clarity.pfmRanking.currentItemsArray[c].attr("id");if(d&&d==a)return c}return 0},repositionItemsAfter:function(b,c){var d=b.position().top,e=b.height();clarity.pfmRanking.currentItems.filter(function(){return clarity.pfmRanking.getItemIndex(a(this))>
c}).each(function(){a(this).css({left:b.position().left,top:d+e,position:"absolute",zIndex:50,width:b.width()});e+=a(this).height()})},repositionItemsBefore:function(b,c){var d=b.position().top;a.fn.reverse=Array.prototype.reverse;var e=0;clarity.pfmRanking.currentItems.filter(function(){return clarity.pfmRanking.getItemIndex(a(this))<c}).reverse().each(function(){e+=a(this).height();a(this).css({left:b.position().left,top:d-e,position:"absolute",zIndex:50,width:b.width()})})},markNextNonSelectedWaterlineSibling:function(){if(clarity.pfmRanking.nextMarkableWaterlineSibling){var b=
a(clarity.pfmRanking.nextMarkableWaterlineSibling).attr("id");if(b)b=b.split("_"),clarity.pfmRanking.waterlinePk=b[0],clarity.pfmRanking.waterlineMark=b[1]}else clarity.pfmRanking.waterlinePk=-1,clarity.pfmRanking.waterlineMark=-1},getNextNonSelectedWaterlineSibling:function(){var b=null,c=String(clarity.pfmRanking.waterlinePk)+"_"+String(clarity.pfmRanking.waterlineMark);clarity.pfmRanking.isRanked(c)&&(c=a("div[id='"+c+"'] ~ div.ppm_rankable_row"))&&c.length>0&&a(c).each(function(){!b&&!a(this).hasClass("x-grid3-row-selected")&&
(b=a(this))});return b},getPosition:function(b){var c=0,d=null;a(b).each(function(){d=a(this).attr("id")});if(d&&"PFM_SHOW_MORE"==d){if(b=a("div.ppm_rankable_row"))c=b.length}else{var e=0;a("div.ppm_rankable_row").each(function(){var b=a(this).attr("id");if(b&&b==d)return c=e,!1;b&&(e+=1)})}return c},getPreviousRowByOffset:function(b){var c=null,d=b.offset().top,e=b.attr("id");a("div.ppm_rankable_row").each(function(){var b=a(this).offset().top,f=a(this).height(),h=a(this).attr("id");h&&e&&h!=e&&
d>b+f&&(c=a(this))});return c},getPreviousRow:function(b){var c=null,d=b.attr("id"),e=null,f=null;d&&a("div.ppm_rankable_row").each(function(){var b=a(this).attr("id");if(b&&b==d)return e=f,!1;b&&(f=b)});e&&(c=a("div.ppm_rankable_row[id='"+e+"']"));return c},verifyDrop:function(b){var c=!0;if(clarity.pfmRanking.currentItems&&clarity.pfmRanking.currentItems.length>0){if(a.browser.mozilla){var d=b.offset;a("div.ppm_rankable_row").each(function(){var b=a(this).offset();if(d.top>=b.top&&d.top<=b.top+
a(this).height()&&(g=a(this).find("td[data-ppm_rank_cell='true']"),(f=g.find("span"))&&f.hasClass("ppm_not_ranked_cell")))return c=!1})}if(c){var e=!1,f=null,g=null;a(clarity.pfmRanking.currentItems).each(function(b){if(b==0){var d=a(this).prev();d&&d.hasClass("ppm_rankable_row")&&(g=a(d).find("td[data-ppm_rank_cell='true']"),(f=g.find("span"))&&f.hasClass("ppm_not_ranked_cell")&&(e=!0))}b==clarity.pfmRanking.currentItems.length-1&&((b=a(this).next())&&b.hasClass("ppm_rankable_row")?(g=a(b).find("td[data-ppm_rank_cell='true']"),
(f=g.find("span"))&&f.hasClass("ppm_not_ranked_cell")&&(c=!1)):b?b.attr("id")=="PFM_SHOW_MORE"?e&&(c=!1):c=!1:c=!1)})}}return c},updatePFMRank:function(b){var c=clarity.pfmRanking.getPosition(b),d=null;a(b).each(function(){d=a(this).attr("id")});for(var e=!0,f=0;f<clarity.pfmRanking.restoreItems.length;f++)a(clarity.pfmRanking.restoreItems[f].item).each(function(){a(this).attr("id")==d&&clarity.pfmRanking.restoreItems[f].pos==c&&(e=!1)});b=b.find("td[data-ppm_rank_cell='true']");e==!0&&b&&!b.hasClass("x-grid3-dirty-cell")&&
b.addClass("x-grid3-dirty-cell");(b=b.find("span"))&&b.hasClass("ppm_not_ranked_cell")&&b.removeClass("ppm_not_ranked_cell")},cleanRankCell:function(b){if(b=a("div[id='"+b+"']"))(b=a(b).find("td[data-ppm_rank_cell='true']"))&&b.hasClass("x-grid3-dirty-cell")&&b.removeClass("x-grid3-dirty-cell")},reNumberPFMRanks:function(b){var c=Number(0);a("td[data-ppm_rank_cell='true']").each(function(){var d=a(this).find("span");if(!d.hasClass("ppm_not_ranked_cell")){var e=Number(b)+Number(c),f=0;d.text(String(e));
d.attr("title",String(e));c=Number(c)+1;if(d=a(this).parents("div.ppm_rankable_row"))(d=d.attr("id"))&&(f=d.split("_")[0]);clarity.pfm.PFMRankable.updateModelRank(String(f),String(e))}a(this).hasClass("x-grid3-cell-selected")&&a(this).removeClass("x-grid3-cell-selected")})},isRankDirty:function(b,c){var d=!1;id=String(b)+"_"+String(c);var e=a("div[id='"+id+"']");e&&(e=e.find("td[data-ppm_rank_cell='true']"))&&e.hasClass("x-grid3-dirty-cell")&&(d=!0);return d},getPFMModifiedNotRankedRows:function(){var b=
"";a("div.ppm_rankable_row").each(function(){var c=a(this).attr("id");if(c&&(c=c.split("_"),c[1]=="0")){var d=a(this).find("td[data-ppm_rank_cell='true']");d&&d.hasClass("x-grid3-dirty-cell")&&(b+=b.length==0?c[0]:":"+c[0])}});return b},setWaterlineTop:function(){if(clarity.pfmRanking.waterlineMark){var b=Number(clarity.pfmRanking.waterlineMark),c=clarity.pfmRanking.waterlinePk,d=null,e="#"+c+"_"+b;c&&Number(b)>-1&&clarity.pfmRanking.isRanked(e)?d=e:c&&Number(b)==-1&&(d="#PFM_SHOW_MORE");if(d&&(d=
a("#pfmEditorGrid "+d))&&d.length>0){var e=a("#pfmPriorityViewPanel div.x-grid3-header"),f=a("#pfmPriorityViewPanel"),c=b=0;f&&f.length>0&&(b=Number(f.offset().top)+Number(f.height())-18);e&&e.length>0&&(c=Number(e.offset().top+Number(e.height())));var g=d.offset().top,d=a("#x-auto-water-mark");g>b||g<c?d.hide():(d.show(),d.offset(function(a,b){var c={};c.top=g;c.left=b.left;return c}))}}},canScrollDown:function(){var b=a("#PFM_SHOW_MORE").offset().top,b=Number(b)+a("#PFM_SHOW_MORE").height(),c=!1,
d=a("div.x-panel-body");d&&d.length>0&&(d=Number(d.offset().top)+Number(d.height()),Number(b)>Number(d)&&(c=!0));return c},canScrollUp:function(){var b=!1,c=a("div.x-grid3-scroller");c&&c.length>0&&(c=c.scrollTop(),Number(c)>0&&(b=!0));return b},scrollDown:function(){if(clarity.pfmRanking.canScrollDown()){var b=a(clarity.pfmRanking.scrollableGridId==null?"#pfmView":clarity.pfmRanking.scrollableGridId);if(b&&b.length>0){var c=b.scrollTop();b.scrollTop(c+10);clarity.pfmRanking.saveScrollTop(c+10)}}clarity.pfmRanking.scrolling=
null},scrollUp:function(){if(clarity.pfmRanking.canScrollUp()){var b=a(clarity.pfmRanking.scrollableGridId==null?"#pfmView":clarity.pfmRanking.scrollableGridId);if(b&&b.length>0){var c=b.scrollTop();b.scrollTop(c>10?c-10:0);clarity.pfmRanking.saveScrollTop(c>10?c-10:0)}}clarity.pfmRanking.scrolling=null},setSavedScrollTop:function(){if(typeof Storage!=="undefined"&&clarity.pfmRanking.contextId&&clarity.pfmRanking.contextType){var b=a(clarity.pfmRanking.scrollableGridId==null?"#pfmView":clarity.pfmRanking.scrollableGridId),
c=0;b&&b.length>0&&(c=sessionStorage.getItem(clarity.pfmRanking.contextType+":"+clarity.pfmRanking.contextId))&&b.scrollTop(Number(c))}},getSavedScrollTop:function(){var a=-1;if(typeof Storage!=="undefined"&&clarity.pfmRanking.contextId&&clarity.pfmRanking.contextType){var b=sessionStorage.getItem(clarity.pfmRanking.contextType+":"+clarity.pfmRanking.contextId);b&&(a=Number(b))}return a},saveScrollTop:function(b){if(typeof Storage!=="undefined"&&clarity.pfmRanking.contextId&&clarity.pfmRanking.contextType){var c=
a(clarity.pfmRanking.scrollableGridId==null?"#pfmView":clarity.pfmRanking.scrollableGridId),d=0;b?d=b:c&&c.length>0&&(d=c.scrollTop());sessionStorage.setItem(clarity.pfmRanking.contextType+":"+clarity.pfmRanking.contextId,d)}},setWaterlinePosition:function(){var b=Number(clarity.pfmRanking.waterlineMark),c=clarity.pfmRanking.waterlinePk,d=null,e="#"+c+"_"+b;c&&Number(b)>-1&&clarity.pfmRanking.isRanked(e)?d=e:c&&Number(b)==-1&&(d="#PFM_SHOW_MORE");if(d&&(b=a(d))&&b.length>0)clarity.pfmRanking.waterlinePosition=
clarity.pfmRanking.getPosition(b)},addReadonlyWaterline:function(b){if(clarity.pfmRanking.waterlineMark){var c=Number(clarity.pfmRanking.waterlineMark),d=clarity.pfmRanking.waterlinePk,e=null;d&&Number(c)>0?e="#"+d+"_"+c:d&&Number(c)==-1&&(e="#PFM_SHOW_MORE");if(e&&(c=a(e))&&c.length>0){clarity.pfmRanking.waterlinePosition=clarity.pfmRanking.getPosition(c);var f=c.offset().top;if((c=a("#PFM_WATERLINE_MAIN"))&&c.length>0)c.prepend(b),a("#x-auto-water-mark").offset(function(a,b){var c={};c.top=f;c.left=
b.left;return c}),clarity.pfmRanking.addScrollHandler()}}},addScrollHandler:function(){var b=a(clarity.pfmRanking.scrollableGridId==null?"#pfmView":clarity.pfmRanking.scrollableGridId);b&&b.length>0&&(b.unbind("scroll"),b.scroll(function(){clarity.pfmRanking.setWaterlineTop()}))},addWaterline:function(b){if(clarity.pfmRanking.waterlineMark){var c=Number(clarity.pfmRanking.waterlineMark),d=clarity.pfmRanking.waterlinePk,e=null;d&&Number(c)>0?e="#"+d+"_"+c:d&&Number(c)==-1&&(e="#PFM_SHOW_MORE");if(e&&
(c=a(e))&&c.length>0)if(clarity.pfmRanking.waterlinePosition=clarity.pfmRanking.getPosition(c),c.offset(),(c=a("#PFM_WATERLINE_MAIN"))&&c.length>0)c.prepend(b),clarity.pfmRanking.setWaterlineTop(),clarity.pfmRanking.addScrollHandler(),a("div.ppm_waterline_droppable").each(function(){clarity.pfmRanking.addDroppable(a(this))}),a("#x-auto-water-mark").draggable({delay:200,axis:"y",containment:"div.x-panel-body",revert:"invalid",start:function(b,c){clarity.pfmRanking.dragStartPos=c.offset.top;var d=a(clarity.pfmRanking.scrollableGridId==
null?"#pfmView":clarity.pfmRanking.scrollableGridId);if(d&&d.length>0)clarity.pfmRanking.gridTop=d.offset().top,clarity.pfmRanking.gridBottom=d.offset().top+d.height()-27},stop:function(){clarity.pfmRanking.dragStartPos=null;clarity.pfmRanking.gridTop=null;clarity.pfmRanking.gridBottom=null;clarity.pfmRanking.setWaterlinePosition();clarity.pfm.PFMRankable.updateGauges(null);a("#x-auto-water-mark").show()},drag:function(b,c){if(c.offset.top<=clarity.pfmRanking.gridTop){if(a("#x-auto-water-mark").hide(),
!clarity.pfmRanking.scrolling||clarity.pfmRanking.scrolling==null)setTimeout(function(){clarity.pfmRanking.scrollUp()},1),clarity.pfmRanking.scrolling=1}else c.offset.top>=clarity.pfmRanking.gridBottom?(a("#x-auto-water-mark").hide(),(!clarity.pfmRanking.scrolling||clarity.pfmRanking.scrolling==null)&&setTimeout(function(){clarity.pfmRanking.scrollDown()},1)):a("#x-auto-water-mark").show()}})}},updateDroppable:function(){var b=a("div.ppm_waterline_droppable");b&&b.length>0&&a(b).each(function(){a(this).hasClass("ui-droppable")||
clarity.pfmRanking.addDroppable(a(this))})},addDroppable:function(b){b.droppable({accept:"#x-auto-water-mark",tolerance:"pointer",drop:function(b,c){var d=a("#pfmEditorGrid div.ppm_waterline_droppable").filter(function(){var b=a(this).offset().top,d=Number(b)+Number(a(this).height());if(c.offset.top>=b&&c.offset.top<=d)return!0});if(d&&d.length>0&&(d=d.attr("id")))"PFM_SHOW_MORE"==d?(clarity.pfmRanking.waterlineMark=-1,clarity.pfmRanking.waterlinePk=-1):(d=d.split("_"),clarity.pfmRanking.waterlineMark=
d[1],clarity.pfmRanking.waterlinePk=d[0]),clarity.pfmRanking.setWaterlineTop()}})},snapToWaterline:function(){var b=a("#pfmEditorGrid"),c=Number(clarity.pfmRanking.waterlineMark),d=clarity.pfmRanking.waterlinePk,e=null;d&&Number(c)>0?e="#"+d+"_"+c:d&&Number(c)==-1&&(e="#PFM_SHOW_MORE");c=a(e);if(b&&b.length>0&&c&&c.length>0){var d=b.height(),e=b.offset().top,f=e+d,g=c.offset().top;g>=f?(b.scrollTop(g-(e+d/2)),clarity.pfmRanking.setWaterlineTop()):g<e?(b.scrollTop(0),clarity.pfmRanking.setWaterlineTop(),
d=b.height(),e=b.offset().top,f=e+d,g=c.offset().top,g>=f&&b.scrollTop(g-(e+d/2))):a("#x-auto-water-mark").show()}},getPFMDisplayedRank:function(a,b){return clarity.pfmRanking.getRank(String(a)+"_"+String(b))},getUnrankedRowCount:function(){var b=a(".ppm_not_ranked_cell");return b!=null?b.length:0},isRanked:function(b){if(b=a("div[id='"+b+"']"))if(b=b.find("td[data-ppm_rank_cell='true']"))return!b.find("span").hasClass("ppm_not_ranked_cell");return!1},getRank:function(b){if(b=a("div[id='"+b+"']"))if(b=
b.find("td[data-ppm_rank_cell='true']"))return b.find("span").text();return rank},sumCurve:function(a,b,c){a=clarity.pfmRanking.createDate(a);b=clarity.pfmRanking.createDate(b);c=(new f(c)).getSum(a,b);return Number(c.toFixed(2))},createDate:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())},calculateNewCurveStart:function(a,b,d){var a=clarity.pfmRanking.createDate(a),e=clarity.pfmRanking.createDate(b),d=(new f(d)).getStart();
if(d==null)return b;b=(new c(e)).getJulian()-(new c(a)).getJulian();return(new c(d.getJulian()+b)).toDate(!1)},adjustCurve:function(a,b,d,e){a=clarity.pfmRanking.createDate(a);clarity.pfmRanking.createDate(d);clarity.pfmRanking.createDate(b);b=new f(e);d=b.getStart();a=new c(a);d&&a&&(a=c.diff(d,a),b.shift(a));return b},getFTEConversion:function(a,c,d){c=clarity.pfmRanking.createDate(c);a=clarity.pfmRanking.createDate(a);a=new b(a);c=new b(c);d=new g(d);c=d.diffWorkday(a,c);return d.getHoursPerDay()*
c*3600},getDuration:function(a,c,d){a=clarity.pfmRanking.createDate(a);c=clarity.pfmRanking.createDate(c);a=new b(a);c=new b(c);return(new g(d)).diffWorkday(a,c)},getFinishDate:function(a,c,d){a=clarity.pfmRanking.createDate(a);a=new b(a);c=(new g(d)).getFinishDate(a,c);return b.toDate(c.julian,0)},shadeWaterMark:function(b,c,d){if((c=a("td.x-grid3-td-"+c))&&c.length>0)c.each(function(){a(this).hasClass("ppm_over_constraint")&&a(this).removeClass("ppm_over_constraint");a(this).hasClass("ppm_benefit_over_constraint")&&
a(this).removeClass("ppm_benefit_over_constraint")}),b!=-1&&c.filter(function(c){c>=b&&(d&&!a(this).hasClass("ppm_benefit_over_constraint")?a(this).addClass("ppm_benefit_over_constraint"):a(this).hasClass("ppm_over_constraint")||a(this).addClass("ppm_over_constraint"))})},onEditPFMRankComplete:function(b,c,d,e,f){if(!(Number(d)<Number(e)||Number(d)>Number(f))&&Number(d)!=Number(c)){var g=a("div[id='"+b+"']");if(g){var n=Number(1);a("div.ppm_grid_rankable div[data-ppm_rankable_row='true']").each(function(){var b=
a(this).find("td[data-ppm_rank_cell='true']");if(b&&(b=b.find("span"),!b.hasClass("ppm_not_ranked_cell"))){if(Number(n)==Number(d))return b=g.find("td[data-ppm_rank_cell='true']"),g.detach(),Number(d)<=Number(c)?a(this).before(g):a(this).after(g),b.hasClass("x-grid3-dirty-cell")||b.addClass("x-grid3-dirty-cell"),b=b.find("span"),b.hasClass("ppm_not_ranked_cell")&&b.removeClass("ppm_not_ranked_cell"),!1;n=Number(n)+1}})}clarity.pfmRanking.reNumberPFMRanks(e);a('input[name="odf_rankdata"]').val(a("div.ppm_grid_rankable").sortable("serialize"))}},
addGaugesSkeleton:function(b){var c=a("#ppm_pfmApprovedTotals");c!=null&&c.length>0&&c.prepend(b)},buildGauge:function(a,b){return'<td><div class="ppm_totalGauge"><table style="border-spacing: 0px;"><tbody><tr><td><div style="width: '+a+';" class="ppm_gauge '+b+'"></div></td></tr></tbody></table></div></td>'},buildGapText:function(a,b,c,d){var c=clarity.pfm.PFMRankable.formatNumber(Number(a),Number(c),Number(c),!0),d=Number(a)>=0?d==!0?"ppm_gauge_text_over":"ppm_gauge_text_under":d==!0?"ppm_gauge_text_under":
"ppm_gauge_text_over",e='<td><div style="width: 170px; "><table style="width: 100%"><tbody><tr>';e+='<td class="ppm_gapText ppm_gauge_label '+d+' ">'+b+"</td>";e+='<td class="ppm_gapText '+d+' ">'+(Number(a)>=0?"+":"-")+c+"</td>";e+="</tr></tbody></table></div></td>";return e},buildSummaryTotal:function(a,b,c){var d='<td><div style="width: 170px; "><table style="width: 100%"><tbody><tr>';d+=clarity.pfmRanking.buildTotalLabel(b);d+=clarity.pfmRanking.buildTotalText(a,c);d+="</tr></tbody></table></div></td>";
return d},buildTotalLabel:function(a){return'<td class="ppm_gapText ppm_gauge_label">'+a+"</td>"},buildTotalText:function(a,b){return'<td class="ppm_gapText">'+clarity.pfm.PFMRankable.formatNumber(Number(a),Number(b),Number(b),!0)+"</td>"},buildConstraintHeader:function(a,b){return'<th id="ppm_gauge_hdr_'+b+'" align="center" class="ppm_gaugeHeader">'+a+"</th>"},calcConstraintPct:function(a,b){var c=Number(b)/Number(a);c>1&&(c=1);return Number(c.toFixed(2))},calcGaugeWidth:function(a){return String((a*
160).toFixed(0))+"px"},getColorGauge:function(a,b,c){var d=c==!0?"ppm_gauge_over":"ppm_gauge_under";a<b&&(d=c==!0?"ppm_gauge_under":"ppm_gauge_over");return d},getGap:function(a,b){return(a-b).toFixed(2)},toggleTotalsPanel:function(b,c){var d=a("img[__n=PFM_TOGGLE_TOTALS]"),e=a("#ppm_pfmApprovedTotals"),f=a("#pfmPriorityViewPanel");if(e.css("display")=="none")e.show(),d.attr("title",c),d.attr("alt",c),d=f.height(),f.height(d-clarity.pfmRanking.totalsPanelHeight),clarity.pfmRanking.totalsPanelHeight=
e.height();else{if(!clarity.pfmRanking.totalsPanelHeight)clarity.pfmRanking.totalsPanelHeight=e.height();e.hide();d.attr("title",b);d.attr("alt",b);clarity.pfmRanking.totalsPanelHeight&&(d=f.height(),f.height(d+clarity.pfmRanking.totalsPanelHeight))}}},ranking:{updateRank:function(a,b){var c=a.find("td[data-ppm_rank_cell='true']");c&&!c.hasClass("x-grid3-dirty-cell")&&c.addClass("x-grid3-dirty-cell");clarity.ranking.reNumberRanks(b)},reNumberRanks:function(b){a("td[data-ppm_rank_cell='true']").each(function(c){c=
Number(b)+Number(c);a(this).text(String(c))})},getNotRankedRowCount:function(){var b=Number(0);a("div.ppm_rankable_row").each(function(){var c=a(this).attr("id");c&&c.split("_")[1]=="0"&&(c=a(this).find("td[data-ppm_rank_cell='true']"))&&!c.hasClass("x-grid3-dirty-cell")&&(b=Number(b)+1)});return b},hasUpdatedRanks:function(){var b=!1;a("td[data-ppm_rank_cell='true']").each(function(){a(this).hasClass("x-grid3-dirty-cell")&&(b=!0)});return b},findRankData:function(){return a('input[name="odf_rankdata"]').val()},
findRankContextType:function(){return a('input[name="odf_ranking_context_type"]').val()},findRankContextId:function(){return a('input[name="odf_ranking_context_id"]').val()},getDisplayedRank:function(b,c){id=String(b)+"_"+String(c);var d=a("tr[id='"+id+"']");return d&&(d=d.find("td[data-ppm_rank_cell='true']"))?d.text():c},reRankOnEditComplete:function(b,c,d,e,f){if(!(Number(d)<Number(e)||Number(d)>Number(f))&&Number(d)!=Number(c)){id=String(b)+"_"+String(c);var g=a("tr[id='"+id+"']");g&&a("td[data-ppm_rank_cell='true']").each(function(b){Number(b+
1)==Number(d)&&(b=g.find("td[data-ppm_rank_cell='true']"),g.detach(),Number(d)<Number(c)?a(this).parent().before(g):a(this).parent().after(g),b.hasClass("x-grid3-dirty-cell")||b.addClass("x-grid3-dirty-cell"))});clarity.ranking.reNumberRanks(e);a('input[name="odf_rankdata"]').val(a("tbody.ppm_grid_rankable").sortable("serialize"))}},onEditRankComplete:function(b,c,d){var e=a('input[name="odf_min_rank"]').val(),f=a('input[name="odf_max_rank"]').val();clarity.ranking.reRankOnEditComplete(b,c,d,e,f)}},
pfmBalancing:{addAggregationRows:function(b){var c=a("#PFM_WATERLINE_MAIN");c!=null&&c.length>0&&c.append(b);clarity.pfmBalancing.isGanttDisplayed()||clarity.pfmBalancing.hideAggregationRows()},isGanttDisplayed:function(){var b=a("#PFMGrid");return b==null||b.length==0||b.css("display")=="none"?!1:!0},scrollLeft:function(b){var c=a("#pfm_aggregationValueDiv");c!=null&&c.length>0&&c.scrollLeft(b)},hideAggregationRows:function(){var b=a("#pfm_aggregationRowsDiv");b!=null&&b.length>0&&b.hide()},showAggregationRows:function(){if(clarity.pfmBalancing.isGanttDisplayed()){var b=
a("#pfm_aggregationRowsDiv");b!=null&&b.length>0&&(b.show(),clarity.pfmBalancing.enableValuesToggle())}},enableValuesToggle:function(){var b=a("img[__n=PFM_TOGGLE_SHOW_VALUES]");b!=null&&b.length>0&&(b.removeClass("caui-image-disabled"),b.removeClass("ppm_image_disabled"));b=a("img[__n=PFM_TOGGLE_HIDE_VALUES]");b!=null&&b.length>0&&(b.removeClass("caui-image-disabled"),b.removeClass("ppm_image_disabled"))},disableValuesToggle:function(){var b=a("img[__n=PFM_TOGGLE_SHOW_VALUES]");b!=null&&b.length>
0&&(b.addClass("caui-image-disabled"),b.addClass("ppm_image_disabled"));b=a("img[__n=PFM_TOGGLE_HIDE_VALUES]");b!=null&&b.length>0&&(b.addClass("caui-image-disabled"),b.addClass("ppm_image_disabled"))},hideValuesOnGantt:function(){var b=a(".pfm-ganttBarValue");b!=null&&b.length>0&&b.hide();clarity.pfmBalancing.displayNumbersOnGantt="false"},showValuesOnGantt:function(){if(clarity.pfmBalancing.isGanttDisplayed()){var b=a(".pfm-ganttBarValue");b!=null&&b.length>0&&b.show()}clarity.pfmBalancing.displayNumbersOnGantt=
"true"},isDisplayNumbersOnGanttSelected:function(){return clarity.pfmBalancing.displayNumbersOnGantt!=null&&clarity.pfmBalancing.displayNumbersOnGantt=="true"},resizeAggregationRows:function(){var b=clarity.pfmBalancing.getLeftWidth(),c=clarity.pfmBalancing.getRightWidth(),d=a("#pfm_aggregationTitleDiv"),e=a("#pfm_aggregationValueDiv");d!=null&&d.length>0&&(d.width(b),d.parent().width(b));e!=null&&e.length>0&&e.width(c)},getRightWidth:function(){var b=a("#PFMGrid"),c=0;if(b&&b.length>0)c=b[0].style.width;
c.indexOf("px")>-1&&(c=c.substring(0,c.indexOf("px")));var b=a(".caui-ganttColumnHeader"),d=0;if(b&&b.length>0)d=b[0].clientWidth;d>0&&d<c&&(c=d);return Number(c)},getLeftWidth:function(){var b=a("#PFMGrid"),c=0;if(b&&b.length>0)c=b[0].style.left;c.indexOf("px")>-1&&(c=c.substring(0,c.indexOf("px")));c<0&&(c=0);return Number(c)},addConstraintSelector:function(b){var c=a("#pfmConstraintSelectorWrapper");if(c==null||c.length==0)c=a(".ppm_page_actions"),c!=null&&c.length>0&&c.append(b)},hideConstraintSelector:function(){var b=
a("#pfmConstraintSelectorWrapperParent");b!=null&&b.length>0&&b.hide()},showConstraintSelector:function(){var b=a("#pfmConstraintSelectorWrapperParent");b!=null&&b.length>0&&b.show()},hideConstraintSelectorWidget:function(){var b=a("#pfmConstraintSelectorWrapper");b!=null&&b.length>0&&b.hide()},aggregateConstraint:function(b){clarity.pfmBalancing.hideConstraintSelectorWidget();var c=b.selectedIndex,d=b.options[c].text,b=b.options[c].value;clarity.pfm.PFMGridAggregationRows.constraintSelectionHandler(b);
b=="none"?clarity.pfmBalancing.hideAggregationRows():clarity.pfmBalancing.showAggregationRows();b=a("#pfmConstraintSelected");b!=null&&b.length>0&&(b.text(d),b.html(d))},setAboveLineCurveForConstraint:function(a,b){b==null&&(b=new f);a._aboveLineCurve=b},setBelowLineCurveForConstraint:function(a,b){b==null&&(b=new f);a._belowLineCurve=b},setTotalAggregationCurveForConstraint:function(a,b,c){var d=new f;d.addCurve(new f(b));d.addCurve(new f(c));a._totalAggregationCurve=d},getAboveLineCurveFromConstraint:function(a){return a._aboveLineCurve},
getBelowLineCurveFromConstraint:function(a){return a._belowLineCurve},getTotalAggregationCurveFromConstraint:function(a){return a._totalAggregationCurve},adjustAggregatedCurve:function(a,b,c){a=new f(a);b!=null&&(b=new f(b),a.subCurve(b));c!=null&&(c=new f(c),a.addCurve(c));return a},cloneCurve:function(a){return typeof a=="object"?(new f(a)).clone():typeof a=="NkCurve"?a.clone():new f},newCurve:function(){return new f}},handleEnter:function(a,b){return(a.keyCode?a.keyCode:a.which?a.which:a.charCode)==
13&&b&&b.click?(b.click(),!1):!0}};return window.clarity=d});$.fn.clarity=$.fn.clarity||{};$.fn.$c=$.fn.clarity;
(function(a,b){var c,d,e,f,g,h,j,k,m,l,o,n,q,r,s,t,u,v,y,x,B,w,z,A;c=function(a){return new c.prototype.init(a)};typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"?module.exports=c:a.Globalize=c;c.cultures={};c.prototype={constructor:c,init:function(a){this.cultures=c.cultures;this.cultureSelector=a;return this}};c.prototype.init.prototype=c.prototype;c.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],
decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri",
"Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",
M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};c.cultures["default"].calendar=c.cultures["default"].calendars.standard;c.cultures.en=c.cultures["default"];c.cultureSelector="en";d=/^0x[a-f0-9]+$/i;e=/^[+\-]?infinity$/i;f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;g=/^\s+|\s+$/g;h=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1};j=function(a,b){return a.substr(a.length-b.length)===b};k=function(){var a,c,d,e,f,g=arguments[0]||
{},h=1,j=arguments.length,v=!1;typeof g==="boolean"&&(v=g,g=arguments[1]||{},h=2);for(typeof g!=="object"&&!l(g)&&(g={});h<j;h++)if((a=arguments[h])!=null)for(c in a)d=g[c],e=a[c],g!==e&&(v&&e&&(o(e)||(f=m(e)))?(f?(f=!1,d=d&&m(d)?d:[]):d=d&&o(d)?d:{},g[c]=k(v,d,e)):e!==b&&(g[c]=e));return g};m=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};l=function(a){return Object.prototype.toString.call(a)==="[object Function]"};o=function(a){return Object.prototype.toString.call(a)===
"[object Object]"};n=function(a,b){return a.indexOf(b)===0};q=function(a){return(a+"").replace(g,"")};r=function(a){return isNaN(a)?NaN:Math[a<0?"ceil":"floor"](a)};s=function(a,b,c){var d;for(d=a.length;d<b;d+=1)a=c?"0"+a:a+"0";return a};t=function(a,b){for(var c=0,d=!1,e=0,f=a.length;e<f;e++){var g=a.charAt(e);switch(g){case "'":d?b.push("'"):c++;d=!1;break;case "\\":d&&b.push("\\");d=!d;break;default:b.push(g),d=!1}}return c};u=function(a,b){var b=b||"F",c;c=a.patterns;var d=b.length;if(d===1){c=
c[b];if(!c)throw"Invalid date format string '"+b+"'.";b=c}else d===2&&b.charAt(0)==="%"&&(b=b.charAt(1));return b};v=function(a,b,c){function d(a,b){var c;c=a+"";return b>1&&c.length<b?(c=m[b-2]+c,c.substr(c.length-b,b)):c}function e(){if(o||n)return o;o=q.test(b);n=!0;return o}function f(a,b){if(y)return y[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b;}}var g=c.calendar,h=g.convert;if(!b||!b.length||b==="i"){if(c&&
c.name.length)if(h)c=v(a,g.patterns.F,c);else{var c=new Date(a.getTime()),k=B(a,g.eras);c.setFullYear(w(a,g,k));c=c.toLocaleString()}else c=a.toString();return c}var k=g.eras,j=b==="s",b=u(g,b),c=[],l,m=["0","00","000"],o,n,q=/([^d]|^)(d|dd)([^d]|$)/g,r=0,s=x(),y;for(!j&&h&&(y=h.fromGregorian(a));;){l=s.lastIndex;h=s.exec(b);l=b.slice(l,h?h.index:b.length);r+=t(l,c);if(!h)break;if(r%2)c.push(h[0]);else switch(l=h[0],h=l.length,l){case "ddd":case "dddd":c.push((h===3?g.days.namesAbbr:g.days.names)[a.getDay()]);
break;case "d":case "dd":o=!0;c.push(d(f(a,2),h));break;case "MMM":case "MMMM":l=f(a,1);c.push(g.monthsGenitive&&e()?g.monthsGenitive[h===3?"namesAbbr":"names"][l]:g.months[h===3?"namesAbbr":"names"][l]);break;case "M":case "MM":c.push(d(f(a,1)+1,h));break;case "y":case "yy":case "yyyy":l=y?y[0]:w(a,g,B(a,k),j);h<4&&(l%=100);c.push(d(l,h));break;case "h":case "hh":l=a.getHours()%12;l===0&&(l=12);c.push(d(l,h));break;case "H":case "HH":c.push(d(a.getHours(),h));break;case "m":case "mm":c.push(d(a.getMinutes(),
h));break;case "s":case "ss":c.push(d(a.getSeconds(),h));break;case "t":case "tt":l=a.getHours()<12?g.AM?g.AM[0]:" ":g.PM?g.PM[0]:" ";c.push(h===1?l.charAt(0):l);break;case "f":case "ff":case "fff":c.push(d(a.getMilliseconds(),3).substr(0,h));break;case "z":case "zz":l=a.getTimezoneOffset()/60;c.push((l<=0?"+":"-")+d(Math.floor(Math.abs(l)),h));break;case "zzz":l=a.getTimezoneOffset()/60;c.push((l<=0?"+":"-")+d(Math.floor(Math.abs(l)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":g.eras&&
c.push(g.eras[B(a,k)].name);break;case "/":c.push(g["/"]);break;default:throw"Invalid date format pattern '"+l+"'.";}}return c.join("")};(function(){var a;a=function(a,b,c){var d=c.groupSizes,e=d[0],f=1,g=Math.pow(10,b),h=Math.round(a*g)/g;isFinite(h)||(h=a);g="";g=(h+"").split(/e/i);h=g.length>1?parseInt(g[1],10):0;a=g[0];g=a.split(".");a=g[0];g=g.length>1?g[1]:"";h>0?(g=s(g,h,!1),a+=g.slice(0,h),g=g.substr(h)):h<0&&(h=-h,a=s(a,h+1,!0),g=a.slice(-h,a.length)+g,a=a.slice(0,-h));g=b>0?c["."]+(g.length>
b?g.slice(0,b):s(g,b)):"";b=a.length-1;c=c[","];for(h="";b>=0;){if(e===0||e>b)return a.slice(0,b+1)+(h.length?c+h+g:g);h=a.slice(b-e+1,b+1)+(h.length?c+h:"");b-=e;f<d.length&&(e=d[f],f++)}return a.slice(0,b+1)+c+h+g};y=function(b,c,d){if(!isFinite(b))return b===Infinity?d.numberFormat.positiveInfinity:b===-Infinity?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||c==="i")return d.name.length?b.toLocaleString():b.toString();var c=c||"D",d=d.numberFormat,e=Math.abs(b),f=-1;c.length>1&&(f=parseInt(c.slice(1),
10));var g=c.charAt(0).toUpperCase(),h;switch(g){case "D":c="n";e=r(e);f!==-1&&(e=s(""+e,f,!0));b<0&&(e="-"+e);break;case "N":h=d;case "C":h=h||d.currency;case "P":h=h||d.percent;c=b<0?h.pattern[0]:h.pattern[1]||"n";if(f===-1)f=h.decimals;e=a(e*(g==="P"?100:1),f,h);break;default:throw"Bad number format specifier: "+g;}b=/n|\$|-|%/g;for(h="";;){f=b.lastIndex;g=b.exec(c);h+=c.slice(f,g?g.index:c.length);if(!g)break;switch(g[0]){case "n":h+=e;break;case "$":h+=d.currency.symbol;break;case "-":/[1-9]/.test(e)&&
(h+=d["-"]);break;case "%":h+=d.percent.symbol}}return h}})();x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};B=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;e<f;e++)if(c=b[e].start,c===null||d>=c)return e;return 0};w=function(a,b,c,d){a=a.getFullYear();!d&&b.eras&&(a-=b.eras[c].offset);return a};(function(){var a,b,c,d,e,f,g;a=function(a,b){if(b<100){var c=new Date,d=B(c),c=w(c,a,d),d=a.twoDigitYearMax,d=typeof d===
"string"?(new Date).getFullYear()%100+parseInt(d,10):d;b+=c-c%100;b>d&&(b-=100)}return b};b=function(a,b,c){var d=a.days,e=a._upperDays;if(!e)a._upperDays=e=[g(d.names),g(d.namesAbbr),g(d.namesShort)];b=f(b);c?(a=h(e[1],b),a===-1&&(a=h(e[2],b))):a=h(e[0],b);return a};c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,k=a._upperMonths,j=a._upperMonthsGen;if(!k)a._upperMonths=k=[g(d.names),g(d.namesAbbr)],a._upperMonthsGen=j=[g(e.names),g(e.namesAbbr)];b=f(b);a=h(c?k[1]:k[0],b);a<0&&(a=h(c?
j[1]:j[0],b));return a};d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var d=u(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),e=["^"],f=[],g=0,h=0,k=x(),j;(j=k.exec(d))!==null;){var l=d.slice(g,j.index),g=k.lastIndex;h+=t(l,e);if(h%2)e.push(j[0]);else{var l=j[0],m=l.length;switch(l){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":l="(\\D+)";break;case "tt":case "t":l="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":l=
"(\\d{"+m+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":l="(\\d\\d?)";break;case "zzz":l="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":l="([+-]?\\d\\d?)";break;case "/":l="(\\/)";break;default:throw"Invalid date format pattern '"+l+"'.";}l&&e.push(l);f.push(j[0])}}t(d.slice(g),e);e.push("$");d={regExp:e.join("").replace(/\s+/g,"\\s+"),groups:f};return c[b]=d};e=function(a,b,c){return a<b||a>c};f=function(a){return a.split("\u00a0").join(" ").toUpperCase()};
g=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=f(a[c]);return b};z=function(f,g,h){var f=q(f),h=h.calendar,g=d(h,g),k=RegExp(g.regExp).exec(f);if(k===null)return null;var j=g.groups,l=g=f=null,m=null,o=null,v=0,r,s=0,t=0,y=0;r=null;for(var u=!1,x=0,B=j.length;x<B;x++){var w=k[x+1];if(w){var C=j[x],A=C.length,z=parseInt(w,10);switch(C){case "dd":case "d":m=z;if(e(m,1,31))return null;break;case "MMM":case "MMMM":l=c(h,w,A===3);if(e(l,0,11))return null;break;case "M":case "MM":l=z-1;if(e(l,0,
11))return null;break;case "y":case "yy":case "yyyy":g=A<4?a(h,z):z;if(e(g,0,9999))return null;break;case "h":case "hh":v=z;v===12&&(v=0);if(e(v,0,11))return null;break;case "H":case "HH":v=z;if(e(v,0,23))return null;break;case "m":case "mm":s=z;if(e(s,0,59))return null;break;case "s":case "ss":t=z;if(e(t,0,59))return null;break;case "tt":case "t":u=h.PM&&(w===h.PM[0]||w===h.PM[1]||w===h.PM[2]);if(!u&&(!h.AM||w!==h.AM[0]&&w!==h.AM[1]&&w!==h.AM[2]))return null;break;case "f":case "ff":case "fff":y=
z*Math.pow(10,3-A);if(e(y,0,999))return null;break;case "ddd":case "dddd":o=b(h,w,A===3);if(e(o,0,6))return null;break;case "zzz":C=w.split(/:/);if(C.length!==2)return null;r=parseInt(C[0],10);if(e(r,-12,13))return null;C=parseInt(C[1],10);if(e(C,0,59))return null;r=r*60+(n(w,"-")?-C:C);break;case "z":case "zz":r=z;if(e(r,-12,13))return null;r*=60;break;case "g":case "gg":if(!w||!h.eras)return null;w=q(w.toLowerCase());C=0;for(A=h.eras.length;C<A;C++)if(w===h.eras[C].name.toLowerCase()){f=C;break}if(f===
null)return null}}}k=new Date;j=(x=h.convert)?x.fromGregorian(k)[0]:k.getFullYear();g===null?g=j:h.eras&&(g+=h.eras[f||0].offset);l===null&&(l=0);m===null&&(m=1);if(x){if(k=x.toGregorian(g,l,m),k===null)return null}else{k.setFullYear(g,l,m);if(k.getDate()!==m)return null;if(o!==null&&k.getDay()!==o)return null}u&&v<12&&(v+=12);k.setHours(v,s,t,y);r!==null&&(h=k.getMinutes()-(r+k.getTimezoneOffset()),k.setHours(k.getHours()+parseInt(h/60,10),h%60));return k}})();A=function(a,b,c){var d=b["-"],b=b["+"],
e;switch(c){case "n -":d=" "+d,b=" "+b;case "n-":j(a,d)?e=["-",a.substr(0,a.length-d.length)]:j(a,b)&&(e=["+",a.substr(0,a.length-b.length)]);break;case "- n":d+=" ",b+=" ";case "-n":n(a,d)?e=["-",a.substr(d.length)]:n(a,b)&&(e=["+",a.substr(b.length)]);break;case "(n)":n(a,"(")&&j(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]};c.prototype.findClosestCulture=function(a){return c.findClosestCulture.call(this,a)};c.prototype.format=function(a,b,d){return c.format.call(this,a,b,d)};c.prototype.localize=
function(a,b){return c.localize.call(this,a,b)};c.prototype.parseInt=function(a,b,d){return c.parseInt.call(this,a,b,d)};c.prototype.parseFloat=function(a,b,d){return c.parseFloat.call(this,a,b,d)};c.prototype.culture=function(a){return c.culture.call(this,a)};c.addCultureInfo=function(a,b,c){var d={},e=!1;typeof a!=="string"?(c=a,a=this.culture().name,d=this.cultures[a]):typeof b!=="string"?(c=b,e=this.cultures[a]==null,d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]);this.cultures[a]=
k(!0,{},d,c);if(e)this.cultures[a].calendar=this.cultures[a].calendars.standard};c.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];typeof a==="string"&&(a=a.split(","));if(m(a)){var c,d=this.cultures,e=a,f,g=e.length,h=[];for(f=0;f<g;f++)a=q(e[f]),a=a.split(";"),c=q(a[0]),a.length===1?a=1:(a=q(a[1]),a.indexOf("q=")===0?(a=a.substr(2),a=parseFloat(a),a=isNaN(a)?0:a):a=1),h.push({lang:c,pri:a});h.sort(function(a,b){if(a.pri<b.pri)return 1;
else if(a.pri>b.pri)return-1;return 0});for(f=0;f<g;f++)if(c=h[f].lang,b=d[c])return b;for(f=0;f<g;f++){c=h[f].lang;do{e=c.lastIndexOf("-");if(e===-1)break;c=c.substr(0,e);if(b=d[c])return b}while(1)}for(f=0;f<g;f++){c=h[f].lang;for(var k in d)if(e=d[k],e.language==c)return e}}else if(typeof a==="object")return a;return b||null};c.format=function(a,b,c){c=this.findClosestCulture(c);a instanceof Date?a=v(a,b,c):typeof a==="number"&&(a=y(a,b,c));return a};c.localize=function(a,b){return this.findClosestCulture(b).messages[a]||
this.cultures["default"].messages[a]};c.parseDate=function(a,b,c){var c=this.findClosestCulture(c),d,e;if(b){if(typeof b==="string"&&(b=[b]),b.length){e=0;for(var f=b.length;e<f;e++){var g=b[e];if(g&&(d=z(a,g,c)))break}}}else for(e in b=c.calendar.patterns,b)if(d=z(a,b[e],c))break;return d||null};c.parseInt=function(a,b,d){return r(c.parseFloat(a,b,d))};c.parseFloat=function(a,b,c){typeof b!=="number"&&(c=b,b=10);var g=this.findClosestCulture(c),c=NaN,h=g.numberFormat;a.indexOf(g.numberFormat.currency.symbol)>
-1&&(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."]));a.indexOf(g.numberFormat.percent.symbol)>-1&&(a=a.replace(g.numberFormat.percent.symbol,""));a=a.replace(/ /g,"");if(e.test(a))c=parseFloat(a);else if(!b&&d.test(a))c=parseInt(a,16);else{g=A(a,h,h.pattern[0]);b=g[0];g=g[1];b===""&&h.pattern[0]!=="(n)"&&(g=A(a,h,"(n)"),b=g[0],g=g[1]);b===""&&h.pattern[0]!=="-n"&&(g=A(a,h,"-n"),b=g[0],g=g[1]);var b=b||"+",k,a=g.indexOf("e");a<0&&(a=g.indexOf("E"));
a<0?(k=g,a=null):(k=g.substr(0,a),a=g.substr(a+1));var j=h["."],l=k.indexOf(j);l<0?(g=k,k=null):(g=k.substr(0,l),k=k.substr(l+j.length));j=h[","];g=g.split(j).join("");l=j.replace(/\u00A0/g," ");j!==l&&(g=g.split(l).join(""));b+=g;k!==null&&(b+="."+k);a!==null&&(h=A(a,h,"-n"),b+="e"+(h[0]||"+")+h[1]);f.test(b)&&(c=parseFloat(b))}return c};c.culture=function(a){if(typeof a!=="undefined")this.cultureSelector=a;return this.findClosestCulture(a)||this.cultures["default"]}})(this);
define("ext/globalize",function(){});
define("uitk/js/button",["jquery","uif/js/clarity"],function(a,b){b.uitk.button={};b.uitk.button.fixedButtonBar=function(b){var d=a.extend({resizeCon:null,barCon:null,fixedBar:null},b);d.resizeCon.unbind("resize.ppm_buttonbar");var e=d.fixedBar.empty().hide();d.barCon.css("bottom","").children().first().hasClass("ppm_fixed_buttons")&&d.resizeCon.bind("resize.ppm_buttonbar",function(){var a=d.barCon.find(".ppm_button_bar:last");if(a.length>0){var b=d.barCon.offset().top+d.barCon.height(),c=a.data("ppm_orig_bottom");
c||(c=a.offset().top+a.height(),a.data("ppm_orig_bottom",c));var j=d.barCon.data("ppm_orig_bottom");j==null&&(j=parseInt(d.barCon.css("bottom").replace(/[^-\d\.]/g,"")),d.barCon.data("ppm_orig_bottom",j));c>b?(e.is(":empty")&&e.append(a.clone()).show(),a.filter(":visible").hide(),d.barCon.css("bottom",j+e.height())):(e.empty(),a.filter(":not(:visible)").show(),d.barCon.css("bottom",j))}});d.resizeCon.resize()};b.uitk.buttonMenuOnKeyPress=function(a,d,e){b.session.screenReaderOpt&&e.keyCode==13&&(e.stopPropagation(),
b.uitk.buttonMenu(a,d))};b.uitk.buttonMenu=function(c,d){function e(){var a=g;a&&(a.data("ppm_button_border_t",a.css("border-top-color")),a.data("ppm_button_border_r",a.css("border-right-color")),a.data("ppm_button_border_l",a.css("border-left-color")));a=h.yCollision?"none flip":"none none";j.attr("aria-hidden","false").show().position({my:h.menuAlign+" top",at:h.menuAlign+" bottom",of:g,offset:h.offset,collision:a});j.find("input,a,button,select:visible:enabled").first().focus();g.css({"border-top-color":h.borderColor,
"border-left-color":h.borderColor,"border-right-color":h.borderColor,"z-index":"11111"}).attr("aria-pressed","true");j.css("z-index","11110");h.openButtonClass&&g.addClass(h.openButtonClass)}function f(a,b){if(b||a&&a.relatedTarget!=g.get(0)&&a.relatedTarget!=j.get(0)){var c=g.attr("aria-pressed","false");c&&(c.css("border-top-color",c.data("ppm_button_border_t")),c.css("border-right-color",c.data("ppm_button_border_r")),c.css("border-left-color",c.data("ppm_button_border_l")));c.css({"z-index":"auto"});
j.attr("aria-hidden","true").hide();h.openButtonClass&&g.removeClass(h.openButtonClass)}}if(c){var g=c.jquery?c:a(c),h=a.extend({borderColor:"#9BA0A8",menuAlign:"left",menu:g.next(),mouseoutClose:!1,offset:"0 -1",shadow:!1,useButtonBg:!1,openButtonClass:null,yCollision:!0},d);g.unbind("ppm_button_mouseenter").mouseenter("ppm_button_mouseenter",function(){g.data("ppm_hover",1)}).unbind("ppm_button_mouseleave").mouseleave("ppm_button_mouseleave",function(){g.data("ppm_hover",0)});var j=h.menu.css("min-width",
g.outerWidth()+"px").click(function(a){a.target&&a.target.tagName=="BUTTON"&&f(a,!0)});h.useButtonBg&&j.css("background-color",g.css("background-color"));h.mouseoutClose?(j.mouseleave(function(a){f(a)}),g.mouseleave(function(a){f(a)})):j.focusout(function(){var a=this;setTimeout(function(){g.data("ppm_hover")!=1&&!b.util.sameOrChild(a,document.activeElement)&&f(null,!0)},0)});j.is(":visible")?f(null,!0):e()}}});
define("uitk/js/util",["jquery","uif/js/clarity"],function(a,b){b.util=b.util||{};var c=navigator.userAgent.toLowerCase();b.util.isIE=c.indexOf("msie")!=-1;if(b.util.isIE){var d=document.documentMode||-1;d>=9?b.util.isIE9=!0:d==8?b.util.isIE8=!0:(b.util.isIE6=c.indexOf("msie 6")!=-1,b.util.isIE7=c.indexOf("msie 7")!=-1)}b.util.isWebKit=!b.util.isIE&&c.indexOf("webkit")!=-1;b.util.isChrome=!b.util.isIE&&c.indexOf("chrome")!=-1;b.util.isSafari=!b.util.isChrome&&c.indexOf("safari")!=-1;b.util.isGecko=
!b.util.isWebKit&&c.indexOf("gecko")!=-1;b.util.startsWith=function(a,b,c){return c==!1?b==a.substring(0,b.length):b.toLowerCase()==a.substring(0,b.length).toLowerCase()};b.util.endsWith=function(a,b,c){return c==!1?a.length>b.length?b==a.substring(a.length-b.length,a.length):a.length==b.length?b==a:!1:a.length>b.length?b.toLowerCase()==a.substring(a.length-b.length,a.length).toLowerCase():a.length==b.length?b.toLowerCase()==a.toLowerCase():!1};b.util.extend=function(b,c){var d={};a.extend(d,b,c);
return d};b.util.focusFirst=function(c){var d="input[type!=hidden][tabindex!=-1]:visible:enabled,select:visible:enabled,textarea[tabindex!=-1]:visible:enabled,tbody[tabindex=0]:visible";b.session.screenReaderOpt&&(d+=',span[tabindex!=-1][aria-readonly="true"]:visible');d=a(c).find(d).not(".ppm_pagination_input").get(0);b.util.applyFocus(c,d)};b.util.focusTop=function(c,d){var g=d!=null?a(c).find("input[type!=hidden][tabindex!=-1]:visible:enabled,select:visible:enabled,textarea[tabindex!=-1]:visible:enabled,tbody[tabindex=0]:visible,button:visible:enabled,a[tabindex!=-1]:visible,img[tabindex=0]:visible,span[tabindex=0]:visible,div[tabindex=0]:visible").not(d).get(0):
a(c).find("input[type!=hidden][tabindex!=-1]:visible:enabled,select:visible:enabled,textarea[tabindex!=-1]:visible:enabled,tbody[tabindex=0]:visible,button:visible:enabled,a[tabindex!=-1]:visible,img[tabindex=0]:visible,span[tabindex=0]:visible,div[tabindex=0]:visible").get(0);b.util.applyFocus(c,g)};b.util.focusTopGrid=function(a,c){var d=a.data("paneOffset");void 0==d&&(d=a.offset(),a.data("paneOffset",d));for(var h=d.top,d=d.top+a.height(),j=0;j<c.length;j++){var k=c.eq(j),m=k.offset().top,l=m+
k.height();k.position();if(m<=h&&l>=h||m<=d&&l>=h)if(k=k.find(".ppm_content_body"),k.html()!=""){b.util.applyFocus(a,k);break}}};b.util.focusBottom=function(c,d){var g=d!=null?a(c).find("input[type!=hidden][tabindex!=-1]:visible:enabled,select:visible:enabled,textarea[tabindex!=-1]:visible:enabled,tbody[tabindex=0]:visible,button:visible:enabled,a[tabindex!=-1]:visible,img[tabindex=0]:visible,span[tabindex=0]:visible,div[tabindex=0]:visible").not(d):a(c).find("input[type!=hidden][tabindex!=-1]:visible:enabled,select:visible:enabled,textarea[tabindex!=-1]:visible:enabled,tbody[tabindex=0]:visible,button:visible:enabled,a[tabindex!=-1]:visible,img[tabindex=0]:visible,span[tabindex=0]:visible,div[tabindex=0]:visible"),
g=g.get(g.length>0?g.length-1:0);b.util.applyFocus(c,g)};b.util.applyFocus=function(b,c){c==null&&(c=a(b).find(".ppm_workspace_title").get(0));c!=null&&(a.browser.msie&&c.tagName&&(c.tagName=="TEXTAREA"||c.tagName=="INPUT"&&a(c).attr("type")&&a(c).attr("type")=="text")?setTimeout(function(){c.focus()},100):c.focus())};b.util.focusScreenReadersOnErrorMessage=function(c){b.session.screenReaderOpt&&setTimeout(function(){a(c).find("#ppm_error_section_level, #ppm_alert_page_level, #ppm_error_page_level").focus()},
200)};b.util.getCssAttr=function(b,c){return a(b).css(c)};b.util.setDescendantsAttr=function(b,c,d,h){a(b).find(c).each(function(){a(this).attr(d,h)})};b.util.getDescendantElement=function(b,c,d){return a(b).find(c).get(d)};b.util.sameOrChild=function(a,b){return a===b||(typeof a.contains!=="undefined"?a.contains(b):!!(a.compareDocumentPosition(b)&16))};b.util.topZIndex=function(b){for(var c=0,d=(b||"*")==="*"?document.body:a(b).get(0),b=d.getElementsByTagName("*"),d=d.currentStyle?!0:!1,h=b.length,
j=0;j<h;j++)var k=d?b[j].currentStyle.zIndex:window.getComputedStyle(b[j],null).getPropertyValue("z-index"),c=Math.max(c,parseInt(k)||null);return 1+c};b.util.addCss=function(b,c){if(b&&b!=""&&a("head > link[id="+b+"]").length<1){var d=document.createElement("link");d.rel="stylesheet";d.type="text/css";d.href=c;d.id=b;document.getElementsByTagName("head")[0].appendChild(d)}};b.util.addCssInline=function(b,c){if(b&&b!=""){a("#"+b).length>0&&clarity.util.removeCss(b);var d=document.createElement("style");
d.type="text/css";d.id=b;d.styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c));document.getElementsByTagName("head")[0].appendChild(d)}};b.util.removeCss=function(a){a&&a!=""&&(a=document.getElementById(a))&&a.parentNode.removeChild(a)};b.util.normalizeLegacyUrl=function(a){var c=a;c&&!b.util.startsWith(c,"#action")&&(a=a.indexOf("action="),a>=0?c="#action:"+c.substring(a+7):(a=c.indexOf("#action"),a>=0&&(c="#action:"+c.substring(a+8))));return c};b.util.escapeSel=function(a){var b=
a;a&&(b=a.replace(/\./g,"\\."));return b};b.util.bindContentPaneListeners=function(c,d,g,h,j){a(d).is(".ppm_dialog")?(h=h!=null?h:[a(d).width(),a(d).height()],a(window).unbind("resize.ppm_dialog").bind("resize.ppm_dialog",{contentPane:c,dialog:a(d),size:h},function(a){b.util.dialogResize(a,a.data.dialog);b.util.handleContentPaneResize(a,!0)})):(h=h!=null?h:[a(window).width(),a(window).height()],j=j!=null?j:a(d).attr("class").split(" ")[0],a(window).bind("resize."+j,{contentPane:c,content:d,size:h,
contentClass:j},function(a){b.util.handleContentPaneResize(a,!1)}));g!=null&&a(g).bind("scroll",{contentPane:c},function(a){clarity.uitk.widget.ContentPane.handleEvent(a.data.contentPane,a)})};b.util.bindPageKeyDownElement=function(){var c=a("#ppm_app");a(window).unbind("keydown").bind("keydown",{page:c},function(a){b.util.handleKeyDownEvent(a)})};b.util.handleKeyDownEvent=function(b){var c=a("#ppm_page_contents");if((b.keyCode=="33"||b.keyCode=="34")&&b.shiftKey==!0&&c.length){var d=a("div.ppm_gridcontent",
c),h=c.data("paneOffset");void 0==h&&(h=c.offset(),c.data("paneOffset",h));for(var j=h.top,c=h.top+c.height(),h=0;h<d.length;h++){var k=d.eq(h),m=k.offset().top,l=m+k.height();if(m<=j&&l>=j||m<=c&&l>=j)if(k=k.find(".ppm_content_body"),k.html()!=""){clarity.uitk.widgets.grid.builder.ListViewBuilder.listViewOnContentEvent(a(k).get(0),b,!1);break}}}};b.util.bindPageScrollElement=function(c){c=a(c).find("#ppm_page_contents");a(c).unbind("scroll").bind("scroll",{scroll:c},function(a){b.util.displayColumnHeader(a.data.scroll)});
b.util.clearColumnHeaderCaches();isIE&&b.util.bindColumnHeaderResizeEvents(c)};b.util.bindColumnHeaderResizeEvents=function(b){a("div.ppm_gridcontent",b).each(function(){var c=a(this).attr("data-overlayId"),d=a("#grid-content-"+c+" > table > thead > tr > th",b);d.length||(d=a("div.ppm_gridcontent > table > thead > tr > th",b));for(var h=a("#ppm_overlay_div_"+c+" > table > thead > tr > th",b),c=0;c<d.length;c++)d.eq(c).unbind("resize").bind("resize",{index:c},function(a){var b=h.eq(a.data.index),a=
d.eq(a.data.index);b.width(a.width())})});b.data("ieResizeBound",!0)};b.util.overlayResize=function(b,c){if(!c.data("colHeaderResize")[b]){var d=a("#grid-content-"+b+" > table > thead > tr > th",c);d.length||(d=a("div.ppm_gridcontent > table > thead > tr > th",c));for(var h=a("#ppm_overlay_div_"+b+" > table > thead > tr > th",c),j=0;j<d.length;j++){var k=d.eq(j).width();h.eq(j).width(k)}c.data("colHeaderResize")[b]=!0}};b.util.displayColumnHeader=function(a){if(a.length){isIE&&(!a.data("ieResizeBound")||
a.data("ieResizeBound")!=!0)&&b.util.bindColumnHeaderResizeEvents(a);var c=a.data("visibleOverlayDiv");c&&c.length&&(c.stop(!0),c.hide(),a.removeData("visibleOverlayDiv"));b.util.delayScrollHeader(a)}};b.util.delayScrollHeader=function(c){var d=c.data("scrollTimeout");d&&(clearTimeout(d),c.removeData("scrollTimeout"));d=setTimeout(function(){var d=c.data("gridTableElements");if(!d||!d.length)d=a("div.ppm_gridcontent",c),c.data("gridTableElements",d);var f=c.data("paneOffset");void 0==f&&(f=c.offset(),
c.data("paneOffset",f));f=f.top;c.height();for(var j=0;j<d.length;j++){var k=d.eq(j),m=k.offset().top,l=m+k.height(),o=k.position().top,k=k.attr("data-overlayId"),k=k.replace(".","\\."),n=a("#ppm_overlay_div_"+k,c);if(n.length&&m+n.height()<=f&&l>f){n.css("top",""+(f-m+o)+"px");n.css("position","absolute");b.util.showOverlay(n,k,c);break}}},isIE?500:400);c.data("scrollTimeout",d)};b.util.showOverlay=function(a,c,d){b.util.overlayResize(c,d);a.stop(!0,!0);d.data("visibleOverlayDiv",a);isIE?a.show():
a.fadeTo(200,1)};b.util.unbindContentPaneListeners=function(c,d,g,h){a(c).is(".ppm_dialog")?(a(window).unbind("resize.ppm_dialog"),g!=null&&h!=null?b.util.bindContentPaneListeners(h,g,null,null,null):g!=null&&a(window).bind("resize.ppm_dialog",{dialog:g},function(a){b.util.dialogResize(a,a.data.dialog)})):(c=a(c).attr("class").split(" ")[0],a(window).unbind("resize."+c));a(d).unbind("scroll")};b.util.getDialogClassName=function(){return"ppm_dialog"};b.util.dialogResize=function(c,d){var g=a(window),
h=g.height(),j=g.width(),k=d.height(),m=d.width(),k=b.util.isWebKit&&k>h?h:k,m=b.util.isWebKit&&m>j?j:m;d.position({my:"center center",at:"center center",of:g,collision:"none none"}).css({height:k,width:m,"max-height":h,"max-width":j})};b.util.handleContentPaneResize=function(c,d){var g=c.target==window||d&&c.target!=document,h=c.target==document&&!d,j=null;if(h)g=c.data.size,j=[a(window).width(),a(window).height()],g=g[0]!=j[0]||g[1]!=j[1];g&&(clarity.uitk.widget.ContentPane.handleEvent(c.data.contentPane,
c),h&&(a(window).unbind("resize."+c.data.contentClass),b.util.bindContentPaneListeners(c.data.contentPane,c.data.content,null,j,c.data.contentClass)))};b.util.selectText=function(a){setTimeout(function(){if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else if(window.getSelection){var c=window.getSelection(),b=document.createRange();b.selectNodeContents(a);c.removeAllRanges();c.addRange(b)}},1)};b.util.removeProps=function(a){var b=arguments.length;
if(a&&b>1)for(var c=1;c<b;c++)delete a[arguments[c]]};b.util.expandOrCollapseFilter=function(a,b){b.keyCode==13&&a.click()}});
define("uitk/js/automation",["jquery","uif/js/clarity"],function(a,b){b.automation=b.automation||{};b.automation.configure=function(){window.openWindow("page","uif.automation","medium")};b.automation.setRecording=function(a){b.automation.deleteCookie("_RMD_");var d=arguments.length,e="";if(d>1)for(var f=1;f<d;f++){var g;arguments[f]===!0?g="true":arguments[f]===!1?g="false":(g=getParam(a,arguments[f]),g=g.substring(g.indexOf("=")+1,g.length));if(g.length==0){alert("All required fields must be filled out.");
return}else if(f==1&&isNaN(g)){alert("The Test Case Id must be a valid number.");return}e+=g+(f<d-1?"ad03f155-f550-4a55-8588-415f280f3253":"")}b.automation.setCookie("_RMD_",e,60);b.automation.updateAutomationLink();closeWindow()};b.automation.updateAutomationLink=function(){var a=b.automation.getCookie("_RMD_");a!=null&&b.util.endsWith(a,"true",!0)?b.automation.updateAutomationLinkColor("red"):b.automation.updateAutomationLinkColor("inherit")};b.automation.stopRecording=function(){b.automation.deleteCookie("_RMD_");
b.automation.updateAutomationLinkColor("inherit")};b.automation.updateAutomationLinkColor=function(b){for(var d=a(".ppm_automation_link_div"),e=0;e<d.length;e++)a(d.get(e)).css("color",b)};b.automation.setCookie=function(a,b,e){if(e){var f=new Date;f.setTime(f.getTime()+e*6E4);e="; expires="+f.toGMTString()}else e="";document.cookie=a+"="+b+e+"; path=/"};b.automation.getCookie=function(a){a+="=";for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var f=b[e];f.charAt(0)==" ";)f=f.substring(1,
f.length);if(f.indexOf(a)==0)return f.substring(a.length,f.length)}return null};b.automation.deleteCookie=function(a){b.automation.setCookie(a,"",-1)};b.automation.enabled=!1});
define("uitk/js/dialog",["jquery","uif/js/clarity","uitk/js/button"],function(a,b){function c(c,d){c.click(function(c){var e=a(c.target),f=e.is("a")?e.attr("href"):null;f||(e=e.parent(),f=e.is("a")?e.attr("href"):null);if(f&&f!="#"&&!b.util.startsWith(f,"javascript")&&!b.util.startsWith(f,"mailto:")){switch(e.attr("target")){case "mnp":b.uitk.service.Navigation.navigate(f,d?"MNP":"MODAL","MNP",!1);break;case "MODAL":b.uitk.service.Navigation.navigate(f,d?"MNP":"MODAL","MODAL",!1);break;case "_blank":return;
default:b.uitk.service.Navigation.navigate(f)}c.preventDefault()}})}b.uitk.dialog={};var d=null,e=!1;b.uitk.dialog.render=function(f){var g=a.extend({content:"",dialog:null,height:"400px",id:"ppm_dialog",labels:{},modal:!0,okToClose:null,page:{},showHistory:!1,title:"",width:"600px"},f),h,j=null,k=g.showHistory,f=g.page&&g.page.tabs?g.page.tabs:[],m=g.id=="ppm_error_dialog";b.uitk.grid.processing=!1;if(g.dialog){if(h=g.dialog)m=h.find(".ppm_tabs").empty(),f.length&&b.uitk.tabs.render(m,g.labels,f,
h),j=h.find(".ppm_dialog_content").empty().html(g.content).position({my:"left top",at:"left bottom",of:m,offset:"-15 0",collision:"none none"})}else{var l=k?'<span style="float:left">  <button id="ppm_mnp_history_back" title="'+g.labels.back+'" alt="'+g.labels.back+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+g.labels.back+'"/></button>  <span id="ppm_mnp_history_dd" title="'+g.labels.recentPages+'" alt="'+g.labels.recentPages+'" role="button" aria-pressed="false" tabindex="0"><img src="'+b.uitk.SPACER_SRC+
'" alt="'+g.labels.recentPages+'"/><div id="ppm_mnp_history_menu"/></span></span>':"",j=b.util.topZIndex(),o="";b.automation.enabled&&g.page.id!="uif.automation"&&(o='<div style="height:8px; padding-top:2px; text-align: '+(k?"center":m?"center":"left")+';"><span style="float:right; padding-right:6px;">  <div><a href="javascript:clarity.automation.configure();" class="ppm_automation_link_div">Automation</a></div></span></div>');var n=g.height.indexOf("px"),q=parseInt(g.height.substring(0,n)),n=g.width.indexOf("px"),
n=parseInt(g.width.substring(0,n)),q=b.util.isWebKit&&q>a(window).height()?a(window).height():q,n=b.util.isWebKit&&n>a(window).width()?a(window).width():n;h=a('<div id="'+g.id+'" class="ppm_dialog" style="width: '+n+"px ;height:"+q+"px ;max-width: "+a(window).width()+"px;max-height: "+a(window).height()+"px;z-index:"+(j+1)+';" role="alertdialog"> <div id="first_34b70a32-c354-44fb-8296-c9f2ce8cdded" tabindex="0"/> <div class="ppm_dialog_inner ppm_workspace_bg">   <div class="ppm_dialog_header" style="text-align: '+
(k?"center":m?"center":"left")+'">'+l+(m?g.title:"")+'     <span style="float:right">'+(k?'<button class="ppm_dialog_favs" title="'+g.labels.favorites+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+g.labels.favorites+'"/></button>':"")+(m?"":'<button class="ppm_dialog_max" title="'+g.labels.maximize+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+g.labels.maximize+'"/></button>')+'       <button class="ppm_dialog_close" title="'+g.labels.close+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+g.labels.close+'"/></button>     </span>   </div>'+
o+'   <div style="position: relative; height: 100%">     <div class="ppm_tabs" role="tablist"/>     <div class="ppm_dialog_content">'+g.content+'</div>   </div> </div> <div class="ppm_fixed_button_bar ppm_fixed_button_bar_dialog"/> <div id="last_00256e73-0af3-4adf-bb2c-3a4ecf9ecbb3" tabindex="0"/></div>').appendTo(a("#ppm_app")).position({my:"center center",at:"center center",of:a(window),collision:"none none"}).draggable({handle:".ppm_dialog_header",containment:"#ppm_app",start:function(b,c){a(c.helper).find("div.fixedHeader").each(function(b,
c){a(c).hide()})},stop:function(b,c){a(c.helper).find("div.fixedHeader").each(function(b,c){a(c).show()});FixedHeader.fnMeasure();for(var d=FixedHeader.afnScroll.length,e=0;e<d;e++)FixedHeader.afnScroll[e]()}});a(h.find("#first_34b70a32-c354-44fb-8296-c9f2ce8cdded").get(0)).bind("focus",{dialog:h},function(a){b.util.focusBottom(a.data.dialog,"#first_34b70a32-c354-44fb-8296-c9f2ce8cdded,#last_00256e73-0af3-4adf-bb2c-3a4ecf9ecbb3")});a(h.find("#last_00256e73-0af3-4adf-bb2c-3a4ecf9ecbb3").get(0)).bind("focus",
{dialog:h},function(a){b.util.focusTop(a.data.dialog,"#first_34b70a32-c354-44fb-8296-c9f2ce8cdded,#last_00256e73-0af3-4adf-bb2c-3a4ecf9ecbb3")});m=h.find(".ppm_tabs");f.length&&b.uitk.tabs.render(m,g.labels,f,h);f=g.modal?a('<div class="ppm_modal_mask" style="z-index:'+j+';"></div>').appendTo(a("#ppm_app")):null;j=h.find(".ppm_dialog_content").position({my:"left top",at:"left bottom",of:m,offset:"-15 0",collision:"none none"});b.session.screenReaderOpt&&h.attr("aria-labelledby",j.find(".ppm_workspace_title").attr("id"));
g.okToClose&&a('<div style="text-align:center; margin: 20px 0px 10px 0px"/>').appendTo(j).append(a('<button id="ppm_dialog_ok" class="ppm_button">'+g.okToClose+"</button>").focus().click(function(){b.uitk.dialog.close(h)}));h.ppm_mask=f;try{h.resizable({minWidth:n,minHeight:q})}catch(r){}h.find(".ppm_dialog_close").click(function(a){b.uitk.dialog.close(h);try{k?b.uitk.widget.navigation.ModalNavPopup.closeNative(!0,a):b.uitk.widget.navigation.ModalPopup.closeNative(!0,a)}catch(c){}a.stopPropagation()});
h.keydown(function(c){if((!b.session.screenReaderOpt||b.session.screenReaderOpt&&c.shiftKey)&&c.which=="27"&&!a(c.target).is(".x-form-focus,.ppm_grid_date_picker")){b.uitk.dialog.close(h);try{k?b.uitk.widget.navigation.ModalNavPopup.closeNative(!0,c):b.uitk.widget.navigation.ModalPopup.closeNative(!0,c)}catch(d){}c.stopPropagation();c.preventDefault()}else c.ctrlKey&&c.altKey&&(c.which=="66"?(a("#ppm_mnp_history_back").focus().click(),c.stopPropagation()):c.which=="86"&&(a("#ppm_mnp_history_menu").is(":visible")?
a("#ppm_mnp_history_menu").hide():a("#ppm_mnp_history_dd").focus().click(),c.stopPropagation()))});if(k){var s=a("#ppm_mnp_history_back"),t=a("#ppm_mnp_history_menu").mouseenter(function(){t.show()});t.click(function(){t.hide()});s.click(function(){if(d){var a=d.attr("href");a&&a!=""&&(b.uitk.service.Navigation.navigate(a),e=!0);d=d.next()}});var u=a("#ppm_mnp_history_dd").click(function(){a(this).attr("aria-pressed","true");t.show().position({my:"left top",at:"left bottom",of:s,offset:"0 -6",collision:"none none"})}).mouseleave(function(){a(this).attr("aria-pressed",
"false");t.hide()});u.keypress(function(a){b.handleEnter(a,u)})}h.find(".ppm_dialog_max").click(function(){var b=h.data("ppm_dialog_pwh");b&&b.w&&b.h?(a(this).attr({title:g.labels.maximize,alt:g.labels.maximize}),h.data("ppm_dialog_pwh",{}),h.css({height:b.h+"px",width:b.w+"px"}).position({my:"center center",at:"center center",of:a(window),collision:"none none"})):(a(this).attr({title:g.labels.restore,alt:g.labels.restore}),h.data("ppm_dialog_pwh",{w:h.width(),h:h.height()}),h.css({height:a(window).height()+
"px",width:a(window).width()+"px"}).position({my:"top left",at:"top left",of:a(window),collision:"none none"}));h.resize()});k&&h.find(".ppm_dialog_favs").bind("click",{dialog:h},function(c){var c=encodeURIComponent(a(c.data.dialog).find(".ppm_workspace_title").text()),d=b.uitk.shell.formatHrefForFavorites("/"+b.uitk.SERVLET+a("#ppm_mnp_history_menu a:first").attr("href"));b.uitk.xhr({data:'{Url: "'+d+'", LinkName: "'+c+'"}',url:b.uitk.ODATA_REL_PATH+"/AddFavorites",success:function(){b.uitk.shell.refreshUbermenus("ppm_nav_favs_menu",
a("#ppm_nav_favs_menu"),g.labels,!0)}},!0)});a(window).unbind("resize."+b.util.getDialogClassName()).bind("resize."+b.util.getDialogClassName(),{dialog:h},function(a){b.util.dialogResize(a,a.data.dialog)});window.PIE&&h.children(".ppm_dialog_inner").get(0).fireEvent("onmove");c(h,k);b.automation.updateAutomationLink()}a.browser.msie&&j.find("select").mousedown(function(a){a.stopPropagation()});b.uitk.button.fixedButtonBar({resizeCon:h,barCon:j,fixedBar:h.children(".ppm_fixed_button_bar")});setTimeout(function(){b.uitk.grid.init(k?
"MNP":"Modal",h)},1E3);b.util.focusFirst(h.resize());b.util.bindPageKeyDownElement(h);b.util.focusScreenReadersOnErrorMessage(h);return h};b.uitk.dialog.close=function(a){a&&(a.ppm_mask&&a.ppm_mask.remove(),a.remove())};b.uitk.dialog.setTitle=function(a,b){a&&a.find(".ppm_dialog_title").empty().html(b)};b.uitk.dialog.addMnpHistory=function(c,g,h){c&&g&&(c=b.uitk.shell.escapeHtml(c),h=b.uitk.shell.escapeHtml(h),g=b.util.normalizeLegacyUrl(g),g=a('<a href="'+g+'" title="'+c+'" data-ppm_page_context="'+
h+'">'+c+"</a>"),a("#ppm_mnp_history_menu").prepend(g).children(":gt(9)").remove(),e?e=!1:d=g.next())};b.uitk.dialog.setFirstHistory=function(c,d,h){c&&d&&(c=b.uitk.shell.escapeHtml(c),h=b.uitk.shell.escapeHtml(h),d=b.util.normalizeLegacyUrl(d),a("#ppm_mnp_history_menu a:first").attr({href:d,title:c,"data-ppm_page_context":h}).html(c),e=!1)}});
define("uitk/js/tabs",["jquery","uif/js/clarity","uitk/js/util"],function(a,b){function c(c){c=a(c.target).parent();a(".ppm_sel_tab").removeClass("ppm_sel_tab");for(var d=a(".ppm_tab").not(".ppm_tab_prev").not(".ppm_tab_next"),e=d.length,f=0;f<e;f++)if(b.util.sameOrChild(c.get(0),d[f])){a(".ppm_client_tabs").children().hide().eq(f).show();break}c.addClass("ppm_sel_tab");clarity!=null&&clarity.uitk!=null&&clarity.uitk.navigation!=null&&clarity.uitk.navigation.NavigationContextManager!=null&&(c=clarity.uitk.navigation.NavigationContextManager.getEventContext(),
clarity.uitk.grid.rebuildHeaders(c))}function d(b,c,d){function f(a,b){var c=null;a&&a.css&&b&&(c=a.css(b),c.indexOf("px")>0&&(c=c.substring(0,c.indexOf("px"))),c=parseInt(c));return c}function g(a,b){a?b.show():b.hide()}var h=c.prev(),j=h.parent(),s=j.offset().left+j.outerWidth(),t=h.children(".ppm_tab"),u=t.last(),v=t.first();b&&d.show().position({my:"left bottom",at:"left bottom",of:j,offset:"0 0",collision:"none none"});var y=d.offset().left+d.outerWidth();b?t.each(function(){var b=a(this),d=
b.offset().left;if(d+b.outerWidth()>s){var b=0-(d-y),d=0,e=h.data("ppm_tabscroll_stack");if(e&&e!=""&&(e=(new String(e)).split(","))&&e.length>0)for(var f=e.length,k=0;k<f;k++)d+=parseInt(e[k]);h.css("margin-left",d+b+"px");g(u.offset().left+u.outerWidth()>s,c);d=h.data("ppm_tabscroll_stack");d==="undefined"||d==""?h.data("ppm_tabscroll_stack",b):h.data("ppm_tabscroll_stack",b+","+d);return!1}}):(h.css("margin-left",f(h,"margin-left")-e(h)+"px"),g(u.offset().left+u.outerWidth()>s,c),g(v.offset().left<
y,d))}function e(a){var b=0,c=a.data("ppm_tabscroll_stack");if(c&&c!=""&&(c=(new String(c)).split(","))&&c.length>0)b=c.shift(),a.data("ppm_tabscroll_stack",c.join());return b}function f(a){var b=a.parent();if(b&&b.is(":visible")&&b.children().length>0){var c=b.children(".ppm_tab_inner").css("margin-left",j).data("ppm_tabscroll_stack",j);b.children(":first").hide();var d=b.offset().left+b.outerWidth(),c=c.children(".ppm_tab").last();try{c.offset().left+c.outerWidth()>d?a.show().position({my:"right bottom",
at:"right bottom",of:b,offset:"0 0",collision:"none none"}):a.hide()}catch(e){}}}function g(a,b,c,d){var e="";if(a&&a.title){var f=a.target?' target="'+a.target+'"':"",g="javascript: void(0)";if(!a.isClient)if(!a.selected&&a.url&&a.url.length>0)g=a.url;else if(b||a.selected||!c&&!a.url)g+='" onclick="return false;';d&&(e=a.selected&&!c&&!a.isClient?'<div class="ppm_tab_menu_link ppm_tab_menu_cur">':'<div class="ppm_tab_menu_link">');b=a.selected&&!c&&!a.isClient?"ppm_tab_menu_link_sel":"";b==""&&
!c&&!a.url&&!a.isClient&&(b="ppm_tab_menu_link_disabled");e+='<a href="'+g+'" class="'+b+'" title="'+(a.tip&&a.tip.length>0?a.tip:a.title)+'"'+f+">"+a.title;c&&(e+=c);e+=d?"</a></div>":"</a>"}return e}function h(c,d,e){var f=e?e.length:0;if(f>0){for(var h=null,j='<div class="ppm_tab_menu" tabindex="0"><table role="presentation" cellspacing="0" cellpadding="0" width="100%"><tr>',r=0;r<f;r++){var s=e[r],t=s.subs?s.subs.length:0;if(t>0){h&&(j+=h+"</td>",h=null);j+='<td class="ppm_tab_menu_section ppm_tab_menu_cur"><div class="ppm_tab_menu_section_title">'+
s.title+"</div>";for(var u=0;u<t;u++)j+=g(s.subs[u],!1,!1,!0);j+="</td>"}else h||(h='<td class="'+(r>0?"ppm_tab_menu_section ppm_tab_menu_cur":"ppm_tab_menu_section")+'">'),h+=g(s,!1,!1,!0)}h&&(j+=h+"</td>");j+="</tr></table></div>";var v=a(j).appendTo(c);v.find("a").not(".ppm_tab_menu_link_sel, .ppm_tab_menu_link_disabled").click(function(){a("#ppm_header_wait").show();v.hide()});c.mouseenter(function(){c.data("ppm_hover",1)}).mouseleave(function(){c.data("ppm_hover",0)});d.click(function(){c.addClass("ppm_tab_open");
v.css("min-width",d.outerWidth()).toggle().position({my:"left top",at:"left bottom",of:d,offset:"-1 -1",collision:"none none"});v.css("height","");var b=a(window).height()-v.offset().top;v.outerHeight()>b&&v.css("height",b);v.css("width","");b=a(window).width()-v.offset().left;v.outerWidth()>b&&v.css("width",b);v.find("a:first").focus()});v.focusout(function(){var a=this;setTimeout(function(){c.data("ppm_hover")!=1&&!b.util.sameOrChild(a,document.activeElement)&&(c.removeClass("ppm_tab_open"),v.hide())},
0)})}}b.uitk.tabs={};var j=16;b.uitk.tabs.render=function(e,j,l,o){j=l?l.length:0;if(j!=0){for(var n=a('<span class="ppm_tab_inner"/>'),q=a('<span class="ppm_tab ppm_tab_prev">&lsaquo;</span>').appendTo(e),r=0;r<j;r++){var s=l[r].selected?"ppm_sel_tab ppm_tab":"ppm_tab",t=l[r].selected?"true":"false";l[r].title=b.uitk.shell.escapeHtml(l[r].title);j==1?s+=" ppm_only_tab":r==0?s+=" ppm_first_tab":r==j-1&&(s+=" ppm_last_tab");var u=l[r].subs?'<img src="'+b.uitk.SPACER_SRC+'" class="ppm_tab_menu_dd" alt=""/>':
null,s=a('<span class="'+s+'" role="tab" aria-selected="'+t+'"/>'),u=a(g(l[r],!0,u,!1)).appendTo(s);l[r].isClient&&u.click(c);l[r].subs&&h(s,u,l[r].subs);s.appendTo(n)}n.appendTo(e);var v=a('<span class="ppm_tab ppm_tab_next">&rsaquo;</span>').appendTo(e);v.click(function(){d(!0,v,q)});q.click(function(){d(!1,v,q)});f(v);a(o?o:window).unbind("resize.ppm_tabs").bind("resize.ppm_tabs",function(){f(v)})}}});
define("uitk/js/ubermenu",["jquery","uif/js/clarity"],function(a,b){a.fn.reverse=[].reverse;b.uitk.ubermenu={};b.uitk.ubermenu.render=function(c,d,e,f){function g(a){var b=a.actionCode?a.actionCode.indexOf("wbsTaskList"):0,b=a.externalUrl?a.externalUrl:b>0?a.actionCode:a.url?a.url:"#action:"+a.actionCode;if(!a.externalUrl)var c=a.parameterList&&a.parameterList.results?a.parameterList.results.length:0;for(var d=0;d<c;d++)a.parameterList.results[d].parameterCode!="action"&&(b+="&"+a.parameterList.results[d].parameterCode+
"="+a.parameterList.results[d].parameterValue);return b}function h(a){var b="";a.externalUrl?b='target="_blank"':a.target&&(b='target="'+a.target+'"');return b}function j(b,c,d,e){var f=!0;b.css("height","auto");b.data("ppm_start_section",c);b.data("ppm_end_section",c);var g=o();b.find(".ppm_umenu_section").hide().slice(c).each(function(d){var e=a(this).show();b.data("ppm_end_section",c+d);if(e.offset().left+e.outerWidth()>g)return e.hide(),b.data("ppm_end_section",c+d-1),f=!1});var h=a(window).height();
b.offset().top+b.outerHeight()>h&&b.css("height",h-b.offset().top);l(e,!f);l(d,c!=0);return f}function k(b,c,d,e){b.data("ppm_end_section",c);b.css("height","auto");var f=o(),g;b.find(".ppm_umenu_section").hide().slice(0,c+1).reverse().each(function(d){var e=a(this).show();d==0&&(g=e);b.data("ppm_start_section",c-d);if(g.offset().left+g.outerWidth()>f)return e.hide(),b.data("ppm_start_section",c-d+1),!1});var h=a(window).height();b.offset().top+b.outerHeight()>h&&b.css("height",h-b.offset().top);
l(e,!0);l(d,b.data("ppm_start_section")>0)}function m(a,b,c){b.show().unbind("click").click(function(){a.data("ppm_start_section")>0&&k(a,a.data("ppm_start_section")-1,b,c)});c.show().unbind("click").click(function(){a.find(".ppm_umenu_section").length-1>a.data("ppm_end_section")&&j(a,a.data("ppm_end_section")+1,b,c)})}function l(a,b){b?a.removeClass("ppm_umenu_page_disabled"):a.addClass("ppm_umenu_page_disabled")}function o(){var c=99999;b.session.screenReaderOpt||(c=a("#ppm_omnibar"),c=c.offset().left+
c.outerWidth());return c}c='<span id="'+c+'" class="ppm_umenu"><div><button class="ppm_umenu_page_left ppm_umenu_page_disabled">&#9664; '+f.previous+'</button><button class="ppm_umenu_page_right">'+f.next+" &#9654;</button></div>";c+='<table role="presentation"><tr>';for(var f=d.childNavEntries&&d.childNavEntries.results?d.childNavEntries.results.length:0,n=0;n<f;n++){var q=d.childNavEntries.results[n];c+='<td class="ppm_umenu_section"><div class="ppm_umenu_section_title">'+q.name+"</div>";for(var r=
q.childNavEntries&&q.childNavEntries.results?q.childNavEntries.results.length:0,s=0;s<r;s++){var t=q.childNavEntries.results[s];c+='<a href="'+g(t)+'" '+h(t)+' title="'+t.name+'">'+t.name+"</a>"}c+="</td>"}c+="</tr></table></span>";var u=a(c).appendTo(e);u.find("a").click(function(){u.hide()});b.session.screenReaderOpt&&u.keydown(function(b){if(b.keyCode==9||b.keyCode>=37&&b.keyCode<=40){var c=a(document.activeElement),d=c.parent();if(c.is("a")&&d.is(".ppm_umenu_section"))switch(b.preventDefault(),
b.keyCode){case 9:u.children("div").last().children().eq(0).focus();break;case 37:d.prev().children("a").first().focus();break;case 38:c.prev().focus();break;case 39:d.next().children("a").first().focus();break;case 40:c.next().focus()}}});return function(c,d,e){d.hover(function(){a.doTimeout("ppm_ubermenu_hover",250,function(){c.css("min-width",d.outerWidth()).show().position({my:"left top",at:"left bottom",of:d,offset:e+" 0",collision:"none none"});c.css("z-index",b.util.topZIndex());d.addClass("ppm_nav_menu_hover");
var f=c.find(".ppm_umenu_page_right").hide(),g=c.find(".ppm_umenu_page_left").hide();j(c,0,g,f)||m(c,g,f);f=a(window).height();c.offset().top+c.outerHeight()>f&&c.css("height",f-c.offset().top);c.find("a:first").focus()},this)},function(){a.doTimeout("ppm_ubermenu_hover");c.css("height","auto").hide();d.removeClass("ppm_nav_menu_hover")});return c}(u,e,0)};b.uitk.ubermenu.close=function(b,d){a("#"+b).hide();d.removeClass("ppm_nav_menu_hover")}});
define("uitk/js/grid/cell",["jquery","uif/js/clarity"],function(a,b){b.uitk.grid=b.uitk.grid||{};b.uitk.grid.Cell=function(a,b){this.grid=a;this.td=b};b.uitk.grid.Cell.prototype={rowIndex:function(){var b=a(this.td).parent();return a(this.grid).children("tr").index(b)},colIndex:function(){var b=a(this.td).parent();return a(b).children("td").index(a(this.td))},row:function(b){b=b!=null?b:this.rowIndex();b=a(this.grid).children("tr").get(b);return a(b).children("td")},col:function d(b){for(var d=[],
f=a(this.grid).children("tr"),g=0;g<f.length;g++)d[g]=a(f.get(g)).children("td").get(b);return a(d)},colhead:function e(b){for(var e=[],g=a(this.grid).children("tr"),h=0;h<g.length;h++)e[h]=a(g.get(h)).children("th").get(b);return a(e)}}});
define("uitk/js/grid/select",["jquery","uif/js/clarity","uitk/js/grid/cell"],function(a,b){b.uitk.grid=b.uitk.grid||{};b.uitk.grid.Select=function(b){this.grid=b;this.dragEndY=this.dragStartY=this.dragEndX=this.dragStartX=0;this.isDragging=!1;a(b).bind("mousedown",{select:this},this.rangeMouseDown);a(b).bind("mouseup",{select:this},this.rangeMouseUp);a(b).bind("mousemove",{select:this},this.rangeMouseMove)};b.uitk.grid.Select.prototype={rangeMouseDown:function(a){var d=a.data.select,e=d.targetCell(a);
if(d.isRightClick(a))return!1;else if(e!=null)e=new b.uitk.grid.Cell(d.grid,e),d.dragStartX=e.colIndex(),d.dragStartY=e.rowIndex(),d.isDragging=!0,typeof a.preventDefault!="undefined"&&a.preventDefault(),document.documentElement.onselectstart=function(){return!1}},rangeMouseUp:function(a){var d=a.data.select,e=d.targetCell(a);if(d.isRightClick(a))return!1;else if(e!=null)a=new b.uitk.grid.Cell(d.grid,e),d.dragEndX=a.colIndex(),d.dragEndY=a.rowIndex(),d.isDragging=!1,d.selectRange(d),document.documentElement.onselectstart=
function(){return!0}},rangeMouseMove:function(a){var d=a.data.select,a=d.targetCell(a);if(d.isDragging&&a!=null)a=new b.uitk.grid.Cell(d.grid,a),d.dragEndX=a.colIndex(),d.dragEndY=a.rowIndex(),d.selectRange(d)},selectRange:function(c){var d=c.dragEndX<c.dragStartX?c.dragEndX:c.dragStartX,e=c.dragEndX<c.dragStartX?c.dragStartX:c.dragEndX,f=c.dragEndY<c.dragStartY?c.dragEndY:c.dragStartY,g=c.dragEndY<c.dragStartY?c.dragStartY:c.dragEndY;a(c.grid).find("td").removeClass("ppm_grid_cell_selected");for(c=
new b.uitk.grid.Cell(c.grid);f<=g;f++){var h=c.row(f);a(h).slice(d,e+1).addClass("ppm_grid_cell_selected")}},isRightClick:function(a){if(a.which)return a.which==3;else if(a.button)return a.button==2;return!1},targetCell:function(b){var b=b.srcElement!=null?b.srcElement:b.target,d=a(b).parent("tr");if(d.length>0&&(d.get(0).hasAttribute("data-ppm_odf_pk")||d.get(0).hasAttribute("data-ppm_hg_pag")||d.get(0).hasAttribute("data-ppm_tree_row")))return a(b);b=a(b).parents("td");for(d=0;d<b.length;d++){var e=
a(b.get(d)),f=e.parent("tr");if(f.length>0&&(f.get(0).hasAttribute("data-ppm_odf_pk")||f.get(0).hasAttribute("data-ppm_hg_pag")||f.get(0).hasAttribute("data-ppm_tree_row")))return e}return null}}});
var FixedHeader=function(a,b){if(typeof this.fnInit!="function")alert("FixedHeader warning: FixedHeader must be initialised with the 'new' keyword.");else{var c={aoCache:[],oSides:{top:!0,bottom:!1,left:!1,right:!1},oZIndexes:{top:104,bottom:103,left:102,right:101},oMes:{iTableWidth:0,iTableHeight:0,iTableLeft:0,iTableRight:0,iTableTop:0,iTableBottom:0},nTable:null,nScrollPane:null,nOriginalThead:null,nOriginalTable:null,bUseAbsPos:!1,bUseAbsoluteMode:!1,bFooter:!1};this.fnGetSettings=function(){return c};
this.fnUpdate=function(){this._fnUpdateClones();this._fnUpdatePositions()};this.fnPosition=function(){this._fnUpdatePositions()};this.fnInit(a,b);if(typeof a.fnSettings=="function")a._oPluginFixedHeader=this}};
FixedHeader.prototype={fnInit:function(a,b){var c=this.fnGetSettings(),d=this;this.fnInitSettings(c,b);if(typeof a.fnSettings=="function"){if(typeof a.fnVersionCheck=="functon"&&a.fnVersionCheck("1.6.0")!==!0){alert("FixedHeader 2 required DataTables 1.6.0 or later. Please upgrade your DataTables installation");return}var e=a.fnSettings();if(e.oScroll.sX!=""||e.oScroll.sY!=""){alert("FixedHeader 2 is not supported with DataTables' scrolling mode at this time");return}c.nTable=e.nTable;e.aoDrawCallback.push({fn:function(){FixedHeader.fnMeasure();
d._fnUpdateClones.call(d);d._fnUpdatePositions.call(d)},sName:"FixedHeader"})}else c.nTable=a;c.nTableHeight=$(c.nTable).find("tbody.ppm_grid_content, tbody.ppm_list_content").length>0?$(c.nTable).find("tbody.ppm_grid_content, tbody.ppm_list_content").get(0).offsetHeight:0;c.bFooter=$(">tfoot",c.nTable).length>0?!0:!1;c.bUseAbsPos=b.bUseAbsoluteMode;c.oSides.top&&c.aoCache.push(d._fnCloneTable("fixedHeader","FixedHeader_Header",d._fnCloneThead));c.oSides.bottom&&c.aoCache.push(d._fnCloneTable("fixedFooter",
"FixedHeader_Footer",d._fnCloneTfoot));c.oSides.left&&c.aoCache.push(d._fnCloneTable("fixedLeft","FixedHeader_Left",d._fnCloneTLeft));c.oSides.right&&c.aoCache.push(d._fnCloneTable("fixedRight","FixedHeader_Right",d._fnCloneTRight));FixedHeader.afnScroll.push(function(){d._fnUpdatePositions.call(d)});FixedHeader.fnMeasure();d._fnUpdateClones();d._fnUpdatePositions()},fnInitSettings:function(a,b){if(typeof b!="undefined"){if(typeof b.top!="undefined")a.oSides.top=b.top;if(typeof b.bottom!="undefined")a.oSides.bottom=
b.bottom;if(typeof b.left!="undefined")a.oSides.left=b.left;if(typeof b.right!="undefined")a.oSides.right=b.right;if(typeof b.zTop!="undefined")a.oZIndexes.top=b.zTop;if(typeof b.zBottom!="undefined")a.oZIndexes.bottom=b.zBottom;if(typeof b.zLeft!="undefined")a.oZIndexes.left=b.zLeft;if(typeof b.zRight!="undefined")a.oZIndexes.right=b.zRight;if(typeof b.nScrollPane!="undefined")a.nScrollPane=b.nScrollPane;if(typeof b.nOriginalThead!="undefined"){a.nOriginalThead=b.nOriginalThead;a.bg=$(a.nOriginalThead).css("backgroundColor");
a.bgi=$(a.nOriginalThead).css("backgroundImage");a.bga=$(a.nOriginalThead).css("background");var c=$(a.nOriginalThead).find("th").first();if(a.bg==null||a.bg=="rgba(0, 0, 0, 0)"||a.bg=="none"||a.bg=="transparent"){var d=$(c).css("backgroundColor");if(d!=null&&d!="rgba(0, 0, 0, 0)"&&d!="none"&&d!="transparent")a.bg=d}if(a.bgi==null||a.bgi=="rgba(0, 0, 0, 0)"||a.bgi=="none"||a.bgi=="transparent")if(d=$(c).css("backgroundImage"),d!=null&&d!="rgba(0, 0, 0, 0)"&&d!="none"&&d!="transparent")a.bgi=d;if(a.bga==
null||a.bga=="rgba(0, 0, 0, 0)"||a.bga=="none"||a.bga=="transparent")if(d=$(c).css("background"),d!=null&&d!="rgba(0, 0, 0, 0)"&&d!="none"&&d!="transparent")a.bga=d;a.borderWidthTh=$(c).css("borderBottomWidth");a.borderStyleTh=$(c).first().css("borderBottomStyle");a.borderColorTh=$(c).first().css("borderBottomColor")}if(typeof b.nOriginalTable!="undefined")a.nOriginalTable=b.nOriginalTable;if(typeof b.nScrollPane!="undefined")a.nScrollPane=b.nScrollPane}a.bUseAbsPos=jQuery.browser.msie&&(jQuery.browser.version==
"6.0"||jQuery.browser.version=="7.0")},_fnCloneTable:function(a,b,c){var d=this.fnGetSettings(),e;if(jQuery(d.nTable.parentNode).css("position")!="absolute")d.nTable.parentNode.style.position="relative";e=d.nTable.cloneNode(!1);e.removeAttribute("id");var f=document.createElement("div");f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.className+=" FixedHeader_Cloned "+a+" "+b;if(a=="fixedHeader")f.style.zIndex=d.oZIndexes.top;if(a=="fixedFooter")f.style.zIndex=d.oZIndexes.bottom;
if(a=="fixedLeft")f.style.zIndex=d.oZIndexes.left;else if(a=="fixedRight")f.style.zIndex=d.oZIndexes.right;e.style.margin="0";var g=document.createElement("div");if(a=="fixedHeader")g.style.zIndex=d.oZIndexes.top;g.style.position="absolute";g.style.top="0px";g.style.left="0px";g.style.visibility="hidden";g.className+="FixedHeader_Mask fixedHeader "+a+" "+b;g.style.margin="0";g.style.padding="0";g.style.border="0";var h=d.nTable.cloneNode(!1);h.removeAttribute("id");h.style.margin="0";b=jQuery(d.nTable).find("thead")[0].cloneNode(!1);
b.style.margin="0";b.style.padding="0";b.style.border="0";var j=jQuery(d.nTable).find("thead>tr"),k=null,k=$(j).length>0?j[0].cloneNode(!1):document.createElement("tr");k.style.margin="0";k.style.padding="0";k.style.border="0";maskThs=jQuery(d.nTable).find("thead>tr>th");j=null;j=$(maskThs).length>0?maskThs[0].cloneNode(!1):document.createElement("th");j.style.margin="0";j.style.padding="0";j.style.border="0";k.appendChild(j);b.appendChild(k);h.appendChild(b);g.appendChild(h);f.appendChild(e);d.nScrollPane!=
null?(d=d.nScrollPane.get(0),d.appendChild(g),d.appendChild(f)):(document.body.appendChild(g),document.body.appendChild(f));return{nNode:e,nWrapper:f,nMask:g,nMaskThead:b,nMaskTh:j,sType:a,sPosition:"",sTop:"",sLeft:"",fnClone:c}},_fnMeasure:function(){var a=this.fnGetSettings(),b=a.oMes,c=jQuery(a.nTable),d=jQuery(a.nScrollPane),e=d.offset(),f=c.offset();if(a.nTable.parentNode!=null){var g=this._fnSumScroll(a.nTable.parentNode,"scrollTop");this._fnSumScroll(a.nTable.parentNode,"scrollLeft");b.iTableHeight=
c.outerHeight();b.iTableLeft=f.left+a.nTable.parentNode.scrollLeft;b.iTableTop=f.top+g;b.iTableRight=b.iTableLeft+b.iTableWidth;b.iTableRight=FixedHeader.oDoc.iWidth-b.iTableLeft-b.iTableWidth;b.iTableBottom=FixedHeader.oDoc.iHeight-b.iTableTop-b.iTableHeight;b.iScrollPaneTop=e.top;b.iScrollPaneLeft=e.left;b.iScrollPaneScrollTop=a.nScrollPane!=null?d.scrollTop():0;b.iScrollPaneScrollLeft=a.nScrollPane!=null?d.scrollLeft():0;b.iScrollHeight=a.nScrollPane!=null?d.height():FixedHeader.oWin.iHeight;b.ijqScrollwidth=
d.width();b.ijqScrollClientwidth=a.nScrollPane.clientWidth?a.nScrollPane.clientWidth:a.nScrollPane.innerWidth?a.nScrollPane.innerWidth:null}},_fnSumScroll:function(a,b){for(var c=a[b];a=a.parentNode;){if(a.nodeName!="HTML"&&a.nodeName!="BODY")break;c=a[b]}return c},_fnUpdatePositions:function(){var a=this.fnGetSettings();this._fnMeasure();for(var b=0,c=a.aoCache.length;b<c;b++)a.aoCache[b].sType=="fixedHeader"?this._fnScrollFixedHeader(a.aoCache[b]):a.aoCache[b].sType=="fixedFooter"?this._fnScrollFixedFooter(a.aoCache[b]):
a.aoCache[b].sType=="fixedLeft"?this._fnScrollHorizontalLeft(a.aoCache[b]):this._fnScrollHorizontalRight(a.aoCache[b])},_fnUpdateClones:function(){for(var a=this.fnGetSettings(),b=0,c=a.aoCache.length;b<c;b++)a.aoCache[b].fnClone.call(this,a.aoCache[b])},_fnScrollHorizontalRight:function(a){var b=this.fnGetSettings(),c=b.oMes,d=FixedHeader.oWin,e=FixedHeader.oDoc,f=a.nWrapper,g=jQuery(f).outerWidth();d.iScrollRight<c.iTableRight?(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,
"sTop",c.iTableTop+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+c.iTableWidth-g+"px","left",f.style)):c.iTableLeft<e.iWidth-d.iScrollRight-g?b.bUseAbsPos?(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop+"px","top",f.style),this._fnUpdateCache(a,"sLeft",e.iWidth-d.iScrollRight-g+"px","left",f.style)):(this._fnUpdateCache(a,"sPosition","fixed","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop-d.iScrollTop+"px","top",
f.style),this._fnUpdateCache(a,"sLeft",d.iWidth-g+"px","left",f.style),this._fnUpdateTableHeaderColumns(a)):(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",f.style))},_fnScrollHorizontalLeft:function(a){var b=this.fnGetSettings(),c=b.oMes,d=FixedHeader.oWin,e=a.nWrapper,f=jQuery(e).outerWidth();d.iScrollLeft<c.iTableLeft?(this._fnUpdateCache(a,"sPosition","absolute",
"position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",e.style)):d.iScrollLeft<c.iTableLeft+c.iTableWidth-f?b.bUseAbsPos?(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop+"px","top",e.style),this._fnUpdateCache(a,"sLeft",d.iScrollLeft+"px","left",e.style)):(this._fnUpdateCache(a,"sPosition","fixed","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop-d.iScrollTop+
"px","top",e.style),this._fnUpdateCache(a,"sLeft","0px","left",e.style),this._fnUpdateTableHeaderColumns(a)):(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+c.iTableWidth-f+"px","left",e.style))},_fnScrollFixedFooter:function(a){var b=this.fnGetSettings(),c=b.oMes,d=FixedHeader.oWin,e=FixedHeader.oDoc,f=a.nWrapper,g=jQuery("thead",b.nTable).outerHeight(),h=jQuery(f).outerHeight();
d.iScrollBottom<c.iTableBottom?(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop+c.iTableHeight-h+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",f.style)):d.iScrollBottom<c.iTableBottom+c.iTableHeight-h-g?b.bUseAbsPos?(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",e.iHeight-d.iScrollBottom-h+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",
f.style)):(this._fnUpdateCache(a,"sPosition","fixed","position",f.style),this._fnUpdateCache(a,"sTop",d.iHeight-h+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-d.iScrollLeft+"px","left",f.style)):(this._fnUpdateCache(a,"sPosition","absolute","position",f.style),this._fnUpdateCache(a,"sTop",c.iTableTop+h+"px","top",f.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft+"px","left",f.style))},_fnScrollFixedHeader:function(a){var b=this.fnGetSettings(),c=b.oMes,d=FixedHeader.oWin,e=a.nWrapper,
f=a.nMask,g=c.iScrollPaneTop,h=c.iScrollPaneLeft,j=c.iScrollPaneScrollTop,k=c.iScrollPaneScrollLeft,m=a.nOldScrollPaneTop||null,l=c.iScrollPaneLeft||null,o=c.iScrollPaneScrollTop||null,n=c.iScrollPaneScrollLeft||null,q=b.nTableHeight;null!=m&&m==g&&null!=l&&l==h&&null!=o&&o==j&&null!=n&&n==n||(c.iTableTop>d.iScrollTop+g?(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop-g+j+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-h+k+"px",
"left",e.style),this._fnRestoreTableHeaderColumns(a,q),$(f).css("visibility","hidden")):d.iScrollTop+g>c.iTableTop+q?(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",c.iTableTop+q-g+j+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-h+k+"px","left",e.style),this._fnRestoreTableHeaderColumns(a,q),$(f).css("visibility","hidden")):b.bUseAbsPos?(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sTop",d.iScrollTop+
j+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-h+k+"px","left",e.style),this._fnUpdateCache(a,"display","","display",e.style)):(this._fnUpdateCache(a,"sPosition","absolute","position",e.style),this._fnUpdateCache(a,"sPosition","fixed","position",e.style),this._fnUpdateCache(a,"sTop",g+"px","top",e.style),this._fnUpdateCache(a,"sLeft",c.iTableLeft-d.iScrollLeft+"px","left",e.style),this._fnUpdateCache(a,"display","","display",e.style),this._fnUpdateTableHeaderColumns(a,q)))},_fnUpdateTableHeaderColumns:function(a,
b){var c=this.fnGetSettings(),d=c.oMes,e=a.nMask,f=a.nMaskTh,g=a.nFixedHead,h=a.nFixedHeadChildren,j=a.nTheadHeight,k=d.iScrollPaneTop,m=d.iScrollPaneScrollLeft;$(a.nNode).css("background","transparent");var l=c.bg,o=c.bgi,n=c.bga,q=c.borderWidthTh,r=c.borderStyleTh,s=c.borderColorTh;$(h).each(function(a,b){null!=n&&$(b).css("background",n);null!=l&&$(b).css("backgroundColor",l);null!=o&&$(b).css("backgroundImage",o);$(b).css("borderBottomWidth",q);$(b).css("borderBottomStyle",r);$(b).css("borderBottomColor",
s);$(b).css("borderLeftWidth",q);$(b).css("borderLeftStyle",r);$(b).css("borderLeftColor",s);$(b).css("visibility","visible")});var t=a.cliWidth,u=a.scrWidth,c=a.offWidth-t;null==c&&(c=12);if(t<u){$(g).css("background","transparent");for(var v=h.length,g=d.iScrollPaneLeft,t=d.iScrollPaneLeft+d.ijqScrollwidth-(c+9),u=0,y=t,x=!0,B=0;B<v;B++){var w=$($(h).get(B)),z=a.chLeftPosArr[B]-m,A=z+a.thWidthArr[B],u=A>u?A:u,y=z<y?z:y;t>z&&t<A&&(x=!1);g<A&&g>z&&(x=!1);g>z||t<A?($(w).css("backgroundImage","none"),
$(w).css("backgroundColor","transparent"),$(w).css("background","transparent"),$(w).css("visibility","hidden"),$(w).css("borderColor","transparent"),a.restore=!0):(x=!1,null!=n&&$(w).css("background",n),null!=l&&$(w).css("backgroundColor",l),null!=o&&$(w).css("backgroundImage",o),$(w).css("borderBottomWidth",q),$(w).css("borderBottomStyle",r),$(w).css("borderBottomColor",s),$(w).css("borderLeftWidth",q),$(w).css("borderLeftStyle",r),$(w).css("borderLeftColor",s),$(w).css("visibility","visible"))}h=
g<y?y-g:0;m=c;t>u&&(m+=t-u);x?$(e).css("visibility","hidden"):($(e).css("visibility","visible"),$(e).css("position","fixed"),$(e).css("top",k),$(e).css("left",g+h),$(e).css("height",j),$(e).css("width",d.ijqScrollwidth-m-h),null!=n&&$(f).css("background",n),null!=l&&$(f).css("backgroundColor",l),null!=o&&$(f).css("backgroundImage",o),$(f).css("height",j),$(f).css("width",d.ijqScrollwidth-m-h))}else this._fnRestoreTableHeaderColumns(a,b)},_fnRestoreTableHeaderColumns:function(a){if(a.restore!=!1){var b=
this.fnGetSettings(),c=a.nMask,d=a.nFixedHead,e=a.nFixedHeadChildren;$(a.nNode).css("background","transparent");$(c).css("visibility","hidden");var a=b.bg,f=b.bgi,g=b.bga,h=b.borderWidthTh,j=b.borderStyleTh,b=b.borderColorTh,k=e.length;$(c).css("visibility","hidden");null!=g&&$(d).css("background",g);null!=a&&$(d).css("backgroundColor",a);null!=f&&$(d).css("backgroundImage",f);for(c=k-1;c>=0;c--)d=$($(e).get(c)),null!=g&&$(d).css("background",g),null!=a&&$(d).css("backgroundColor",a),null!=f&&$(d).css("backgroundImage",
f),$(d).css("borderBottomWidth",h),$(d).css("borderBottomStyle",j),$(d).css("borderBottomColor",b),$(d).css("borderLeftWidth",h),$(d).css("borderLeftStyle",j),$(d).css("borderLeftColor",b),$(d).css("visibility","visible")}},_fnUpdateCache:function(a,b,c,d,e){a[b]!=c&&c!="NaNpx"&&(e[d]=c,a[b]=c)},_fnCloneThead:function(a){var b=this.fnGetSettings(),c=a.nNode;for(a.nWrapper.style.width=jQuery(b.nTable).outerWidth()+"px";c.childNodes.length>0;)jQuery("thead th",c).unbind("click"),c.removeChild(c.childNodes[0]);
var d=jQuery("thead",b.nTable).clone(!0)[0];d!=null&&c!=null&&(c.appendChild(d),$(d).attr("listviewdivid",$(b.nTable).find("tbody[listviewdivid]").attr("listviewdivid")));var e=$(d).find("th");jQuery("thead>tr th",b.nTable).width(function(a,b){jQuery(e[a]).width(b)});a.nFixedHead=d;a.nTheadHeight=$(b.nTable).find("thead").first().css("height");a.nFixedHeadChildren=e;for(var c=[],d=[],f=$(b.nTable).find("th"),g=f.length,h=jQuery(b.nScrollPane),h=b.nScrollPane!=null?h.scrollLeft():0,j=0;j<g;j++){var k=
$($(f).get(j));c[j]=$(k).width();d[j]=$(k).offset().left+h}a.thWidthArr=c;a.chLeftPosArr=d;a.cliWidth=b.nScrollPane[0].clientWidth;a.offWidth=b.nScrollPane[0].offsetWidth;a.scrWidth=b.nScrollPane[0].scrollWidth;a.restore=!1},_fnCloneTfoot:function(a){var b=this.fnGetSettings(),c=a.nNode;for(a.nWrapper.style.width=jQuery(b.nTable).outerWidth()+"px";c.childNodes.length>0;)c.removeChild(c.childNodes[0]);a=jQuery("tfoot",b.nTable).clone(!0)[0];c.appendChild(a);jQuery("tfoot:eq(0)>tr th",b.nTable).each(function(a){jQuery("tfoot:eq(0)>tr th:eq("+
a+")",c).width(jQuery(this).width())});jQuery("tfoot:eq(0)>tr td",b.nTable).each(function(a){jQuery("tfoot:eq(0)>tr th:eq("+a+")",c)[0].style.width(jQuery(this).width())})},_fnCloneTLeft:function(a){var b=this.fnGetSettings(),c=a.nNode,d=$("tbody",b.nTable)[0];for($("tbody tr:eq(0) td",b.nTable);c.childNodes.length>0;)c.removeChild(c.childNodes[0]);c.appendChild(jQuery("thead",b.nTable).clone(!0)[0]);c.appendChild(jQuery("tbody",b.nTable).clone(!0)[0]);b.bFooter&&c.appendChild(jQuery("tfoot",b.nTable).clone(!0)[0]);
jQuery("thead tr th:gt(0)",c).remove();jQuery("tfoot tr th:gt(0)",c).remove();$("tbody tr",c).each(function(){$("td:gt(0)",this).remove()});this.fnEqualiseHeights("tbody",d.parentNode,c);b=jQuery("thead tr th:eq(0)",b.nTable).outerWidth();c.style.width=b+"px";a.nWrapper.style.width=b+"px"},_fnCloneTRight:function(a){for(var b=this.fnGetSettings(),c=$("tbody",b.nTable)[0],d=a.nNode,e=jQuery("tbody tr:eq(0) td",b.nTable).length;d.childNodes.length>0;)d.removeChild(d.childNodes[0]);d.appendChild(jQuery("thead",
b.nTable).clone(!0)[0]);d.appendChild(jQuery("tbody",b.nTable).clone(!0)[0]);b.bFooter&&d.appendChild(jQuery("tfoot",b.nTable).clone(!0)[0]);jQuery("thead tr th:not(:nth-child("+e+"n))",d).remove();jQuery("tfoot tr th:not(:nth-child("+e+"n))",d).remove();$("tbody tr",d).each(function(){$("td:lt("+(e-1)+")",this).remove()});this.fnEqualiseHeights("tbody",c.parentNode,d);b=jQuery("thead tr th:eq("+(e-1)+")",b.nTable).outerWidth();d.style.width=b+"px";a.nWrapper.style.width=b+"px"},fnEqualiseHeights:function(a,
b,c){var d=$(a+" tr:eq(0)",b).children(":eq(0)"),e=d.outerHeight()-d.height(),f=$.browser.msie&&($.browser.version=="6.0"||$.browser.version=="7.0");$(a+" tr",c).each(function(c){$.browser.mozilla||$.browser.opera?$(this).children().height($(a+" tr:eq("+c+")",b).outerHeight()):$(this).children().height($(a+" tr:eq("+c+")",b).outerHeight()-e);f||$(a+" tr:eq("+c+")",b).height($(a+" tr:eq("+c+")",b).outerHeight())})}};
FixedHeader.oWin={iScrollTop:0,iScrollRight:0,iScrollBottom:0,iScrollLeft:0,iHeight:0,iWidth:0};FixedHeader.oDoc={iHeight:0,iWidth:0};FixedHeader.afnScroll=[];FixedHeader.fnMeasure=function(){var a=jQuery(window),b=jQuery(document),c=FixedHeader.oWin,d=FixedHeader.oDoc;d.iHeight=b.height();d.iWidth=b.width();c.iHeight=a.height();c.iWidth=a.width();c.iScrollTop=a.scrollTop();c.iScrollLeft=a.scrollLeft();c.iScrollRight=d.iWidth-c.iScrollLeft-c.iWidth;c.iScrollBottom=d.iHeight-c.iScrollTop-c.iHeight};
FixedHeader.fnScroll=function(){FixedHeader.fnMeasure();for(var a=0,b=FixedHeader.afnScroll.length;a<b;a++)FixedHeader.afnScroll[a]()};jQuery(window).scroll(function(){FixedHeader.fnScroll()});define("uitk/js/grid/FixedHeader",function(){});
define("uitk/js/grid/grid",["jquery","uif/js/clarity","uitk/js/grid/select","uitk/js/grid/FixedHeader"],function(a,b){b.uitk.grid=b.uitk.grid||{};b.uitk.grid.headers=[];b.uitk.grid.processing=!1;b.uitk.grid.addedResizeListener=!1;b.uitk.grid.Obj=function(a){this.grid=a};b.uitk.grid.init=function(c,d){FixedHeader.afnScroll=[];for(var e=[],f=a(d).find("table.ppm_grid,table.ppm_list_layout"),g=0;g<f.length;g++)e[g]=new b.uitk.grid.Obj(f.get(g));b.uitk.grid.initFixedHeader(c,d);return e};b.uitk.grid.cleanHeader=
function(){b.uitk.grid.headers=[];a(FixedHeader.afnScroll).empty();a(b.uitk.grid.headers).empty();a(".fixedHeader").each(function(b,d){a(d).remove();FixedHeader.afnScroll=[]})};b.uitk.grid.initFixedHeader=function(c,d){if(!b.session.screenReaderOpt){var e=!1,f=navigator.userAgent.toLowerCase();navigator.userAgent.indexOf("Trident/5")>-1&&(e=!0);if(!(f.indexOf("msie 8.")>-1)||e)if(!(f.indexOf("msie 7.")>-1)||e)if(!(f.indexOf("msie 6.")>-1)||e){b.uitk.grid.cleanHeader();d==null&&(d=a("#ppm_app"));var g=
a(d).find("table.ppm_grid > thead,table.ppm_list_layout > thead");a(g).parent().each(function(c,e){if(!e.hasAttribute("noFixedHeader")){var f=a(d).find(".ppm_page_content"),f=new FixedHeader(e,{nScrollPane:f,zTop:100,bUseAbsoluteMode:!1,nOriginalThead:g[c],nOriginalTable:e});b.uitk.grid.headers.push(f)}});a(d).find(".ppm_page_content").scroll(function(){FixedHeader.fnMeasure();for(var a=FixedHeader.afnScroll.length,b=0;b<a;b++)FixedHeader.afnScroll[b]()});if(!b.uitk.grid.addedResizeListener)jQuery(window).resize(function(){a.event.trigger({type:"resizeHeaderColumns"})}),
a(document).on("resizeHeaderColumns",function(){var a=b.uitk.grid.headers.length;FixedHeader.fnMeasure();for(var c=0;c<a;c++){var d=b.uitk.grid.headers[c];d._fnUpdateClones.call(d);d._fnUpdatePositions.call(d)}}),b.uitk.grid.addedResizeListener=!0}}};b.uitk.grid.rebuildHeaders=function(c){b.uitk.grid.headers=[];switch(c){case "MNP":$elementRoot=a("#ppm_mnp").get(0);break;case "Modal":$elementRoot=a("#ppm_dialog").get(0);break;default:$elementRoot=a("#ppm_workspace").get(0)}b.uitk.grid.init(c,$elementRoot);
if(c=="MNP"||c=="Modal")(c=a(".ppm_dialog"))&&c.length>0&&a(".ppm_dialog").resize()};b.uitk.grid.clearCopySelection=function(){var b=a("td.ppm_grid_cell_selected");a(b).find("div").css("backgroundImage","");a(b).find("div > div").css("backgroundColor","")};b.uitk.grid.setCopySelection=function(){var b=a("td.ppm_grid_cell_selected"),d=a(b).first().css("backgroundColor");a.each(b,function(){var b=a(this).find("div"),c=a(this).find("div > div");a(b).length==0&&a(c).length==0&&(b=a(this).html(),a(this).empty(),
a(this).append("<div> <div> "+b+" </div> </div>"),b=a(this).find("div"),c=a(this).find("div > div"));var g=a(this).closest("td").height();a(b).height(g);a(b).css("backgroundImage",'url("ui/uitk/images/selection.gif")');a(c).css({backgroundColor:d,backgroundImage:""})})};b.uitk.grid.resizeHeaderColumns=function(){a.event.trigger({type:"resizeHeaderColumns"})};b.uitk.grid.enoughRoomForPaste=function(b,d){var e=a("td.ppm_grid_cell_selected");if(a(e).length==1){var f=a(e).first(),e=a(f).attr("row"),f=
a(f).attr("column"),e=a('td.ppm_tsv_cell[row="'+(e*1+d-1)+'"][column="'+(f*1+b-1)+'"]');return a(e).length==1?!0:!1}return!1};b.uitk.grid.setUndoArea=function(){var b=a("td.ppm_grid_cell_selected");a(b).addClass("ppm_grid_undo_area")};b.uitk.grid.hasUndoArea=function(){var b=a("td.ppm_grid_undo_area");return a(b).length<1?!1:!0};b.uitk.grid.clearUndoArea=function(){var b=a("td.ppm_grid_undo_area");a(b).removeClass("ppm_grid_undo_area")};b.uitk.grid.maxRowSelected=function(){var b=a("td.ppm_grid_cell_selected"),
d=-1;a.each(b,function(){a(this).attr("row")!="undefined"&&parseInt(a(this).attr("row"))+1>d&&(d=parseInt(a(this).attr("row"))-1)});return d}});
define("uitk/js/portlet",["jquery","uif/js/clarity"],function(a,b){b.uitk.portlet={};b.uitk.portlet.cancelAction=function(b){(b=a("#ppm_portlet_modal_"+b))&&b.cancelHandler&&b.cancelHandler();b.hide().next().hide()};b.uitk.portlet.mask=function(c,d,e){var f=a("#ppm_portlet_modal_"+b.util.escapeSel(d)),g=f.next();c?(c=a("#portlet-"+b.util.escapeSel(d)),f.show().position({my:"left top",at:"left top",of:c,collision:"none none"}).width(c.width()).height(c.height()),g.show().position({my:"center center",
at:"center center",of:c,collision:"none none"}),f.cancelHandler=e,g.find("button").focus()):(f.hide(),g.hide())}});
define("uitk/js/log",["jquery","uif/js/clarity"],function(a,b){function c(b,c){a.ajax({type:"POST",dataType:"html",data:b,cache:!1,contentType:"application/x-www-form-urlencoded",processData:!1,url:c,success:function(){}})}function d(a){switch(a){case "DEBUG":return 0;case "INFO":return 1;case "WARN":return 2;case "ERROR":return 3;case "FATAL":return 4;case "PERF":return 5}}function e(a,c,d){if(a&&c&&(b.app.logger.Level[a]||b.app.logger.UserLevel[a]))if(d&&(c+=", Exception: "+d),g.push({level:a,msg:c,
date:new Date}),window&&window.console)switch(a){case "DEBUG":window.console.debug?window.console.debug(c):window.console.log(c);break;case "INFO":window.console.info(c);break;case "WARN":window.console.warn(c);break;case "ERROR":window.console.error(c);break;case "FATAL":window.console.error(c);break;case "PERF":!window.console.time&&window.console.log&&window.console.log(c)}}var f=b.uitk.SERVLET+"?uitk.logger";b.app.logger=b.app.logger||{Level:{DEBUG:!1,INFO:!1,WARN:!1,ERROR:!1,FATAL:!1,PERF:!1},
UserLevel:{DEBUG:!1,INFO:!1,WARN:!1,ERROR:!1,FATAL:!1,PERF:!1}};var g=[],h=[],j=null;b.log={};b.log.init=function(c){c&&a.each(b.app.logger.Level,function(a){b.app.logger.Level[a]=c[a.toLowerCase()]});var d=a.deparam.querystring(window.location.search,!0);if(d&&d["ui.log"])d["ui.log"]=="all"?b.app.logger.UserLevel.DEBUG=b.app.logger.UserLevel.INFO=b.app.logger.UserLevel.WARN=b.app.logger.UserLevel.ERROR=b.app.logger.UserLevel.FATAL=!0:(d=d["ui.log"].split(","),a.each(d,function(a,c){var d=c.toUpperCase();
typeof b.app.logger.UserLevel[d]!="undefined"&&(b.app.logger.UserLevel[d]=!0)}))};b.log.flushToServer=function(){var a=g?g.length:0;if(a>0){for(var e=[],h=0;h<a;h++){var j=g.pop();if(b.app.logger.Level[j.level]){var n=j,q="UI_MSG[:"+j.date+":",r;if(r=j.msg)r=r.replace(/\\/g,"\\\\"),r=r.replace(/\"/g,'\\"'),r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r");r=encodeURIComponent(r);n.msg=q+r+"]";j.level=d(j.level);e.push(j)}}e.length>0&&c("logMessage="+JSON.stringify({messages:e}),f)}};b.log.flushPerfToServer=
function(){(h?h.length:0)>0&&b.app.logger.Level.PERF&&c("logMessage="+JSON.stringify({messages:h}),f+"&perf=true");h=[]};b.log.isDebugEnabled=function(){return b.app.logger.Level.DEBUG||b.app.logger.UserLevel.DEBUG};b.log.isInfoEnabled=function(){return b.app.logger.Level.INFO||b.app.logger.UserLevel.INFO};b.log.isWarnEnabled=function(){return b.app.logger.Level.WARN||b.app.logger.UserLevel.WARN};b.log.isErrorEnabled=function(){return b.app.logger.Level.ERROR||b.app.logger.UserLevel.ERROR};b.log.isFatalEnabled=
function(){return b.app.logger.Level.FATAL||b.app.logger.UserLevel.FATAL};b.log.isPerfEnabled=function(){return b.app.logger.Level.PERF||b.app.logger.UserLevel.PERF};b.log.debug=function(a){e("DEBUG",a)};b.log.info=function(a){e("INFO",a)};b.log.warn=function(a){e("WARN",a)};b.log.error=function(a){e("ERROR",a)};b.log.fatal=function(a){e("FATAL",a)};b.log.startPerf=function(a,c){if(b.log.isPerfEnabled()){var d=c!=null?a+" (Area: "+c+")":a;if(j){var e={title:d,startTime:(new Date).getTime(),children:[],
parent:j};j.children.push(e);j=e}else j={title:d,startTime:(new Date).getTime(),children:[]};window&&window.console&&(window.console.time&&window.console.time(d),window.console.markTimeline&&window.console.markTimeline(d+" - START"))}};b.log.stopPerf=function(a,c){if(b.log.isPerfEnabled())if(j){j.endTime=(new Date).getTime();var d=(j.endTime-j.startTime)/1E3,e=j.title;if(j.parent){var f=j;j=j.parent;f.parent=void 0}else h.push(j),j=null;window&&window.console&&(window.console.timeEnd&&window.console.timeEnd(e),
window.console.markTimeline&&window.console.markTimeline(e+" - END"),!window.console.time&&!window.console.markTimeline&&window.console.log&&window.console.log(e+" - elapsed: "+d+" sec"));window.status=e+" - END: "+d+" sec"}else b.log.info("Performance stack inbalance.  stop called with title = "+a+", area = "+c)}});
define("uitk/js/legacy",["jquery","uif/js/clarity"],function(a){window.navigateToURL=function(a){var c=window.navigateToURL.arguments,d=c.length;if(d>1)for(var e=1;e<d;e++)a+=c[e].indexOf("=")!=-1?"&"+c[e].substring(0,c[e].indexOf("="))+"="+escape(c[e].substring(c[e].indexOf("=")+1,c[e].length)):"&"+c[e];clarity.uitk.service.Navigation.navigate(a)};window.navigateToPage=function(b){var c=a.makeArray(navigateToPage.arguments);c.shift();window.navigateToURL.apply(null,a.merge(["?action="+b],c))};window.doOnLoad=
function(){a("body:input:visible:enabled:first").focus();window.ajaxInit&&window.ajaxInit()}});var _trace,TRACE="off",_initCall,_ajaxCaller,_ajaxCall;
define("uitk/js/legacy/ajax",[],function(){window.addInitCall=function(a){var b={};b.callback=a;_initCall?_initCall.next=b:_initCall=b};window.removeInitCall=function(a){for(var b=_initCall,c;b;){if(b.callback==a){if(c)c.next=b.next;if(b==_initCall)_initCall=b.next;break}c=b;b=b.next}};window.addAjaxCall=function(a,b,c){var d={};d.action=a;d.params=b;d.callback=c;_ajaxCall?_ajaxCall.next=d:_ajaxCall=d};window.removeAjaxCall=function(a,b){for(var c=_ajaxCall,d;c;){if(c.action==a&&c.params==b){if(d)d.next=
c.next;if(c==_ajaxCall)_ajaxCall=c.next;break}d=c;c=c.next}};window.ajaxInit=function(){for(var a=_initCall;a;)a.callback(),a=a.next;for(a=_ajaxCall;a;)ajaxCallAction(a.action,a.params,a.callback),a=a.next};window.ajaxDebug=function(){var a;if(_initCall){a="Init Calls\n";for(var b=_initCall;b;)a+="Callback: "+b.callback+"\n",b=b.next}if(_ajaxCall){a="\nAjax Calls\n";for(b=_ajaxCall;b;)a+="Action: "+b.action+", Params: "+b.params+", Callback: "+b.callback+", Next: "+b.next+"\n",b=b.next}a&&alert(a)};
window.createAjaxCaller=function(){var a=null;try{a=new XMLHttpRequest}catch(b){}if(!a)try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){a=null}}return a};window.ajaxCall=function(a,b){_ajaxCaller&&_ajaxCaller.readyState!=0&&_ajaxCaller.abort();_ajaxCaller=createAjaxCaller();_ajaxCaller.open("GET",a,!0);_ajaxCaller.onreadystatechange=b;_ajaxCaller.send(null)};window.ajaxCallAction=function(a,b,c){ajaxCall("nu?uitk.vxml.form=1&action="+a+"&"+b,
c)};window.ajaxCallPost=function(a,b,c){if(_ajaxCaller&&_ajaxCaller.readyState!=0)_ajaxCaller.onreadystatechange=function(){},_ajaxCaller.abort();_ajaxCaller=createAjaxCaller();_ajaxCaller.open("POST",a,!0);_ajaxCaller.onreadystatechange=b;_ajaxCaller.setRequestHeader("Content-Type","application/x-www-form-urlencoded");_ajaxCaller.send(c)};window.ajaxCallActionPost=function(a,b,c){ajaxCallPost("nu?uitk.vxml.form=1&action="+a,c,b)};window.trace=function(a){TRACE=="on"&&(_trace||(_trace=window.open("",
"Ajax Trace","status,scrollbars,resizable,width=450,height=325,top="+(screen.height-325)/2+",left="+(screen.width-450)/2),_trace.document.write("<style>body { font-family: Verdana, Sans Serif; font-size: 9pt; background : #EEE; }</style>"),_trace.focus()),_trace.document.write(a))};window.traceln=function(a){trace(a+"<br>")}});
var PROGRESS_CHECK_INTERVAL=2E3,PROGRESS_UPDATE_INTERVAL=100,PROGRESS_UPDATE_COUNT=Math.ceil(PROGRESS_CHECK_INTERVAL/PROGRESS_UPDATE_INTERVAL),PROGRESS_TIC_MULTIPLIER=1,_progressBar,portletDivIdPrefix="portlet-",gridContentDivIdPrefix="grid-content-",portletContentDivIdPrefix=portletDivIdPrefix+gridContentDivIdPrefix;
define("uitk/js/legacy/ajax-impls",[],function(){window.addLoadEvent=function(a){clarity.uitk.Utility.addLoadEvent(a)};window.registerProgressBar=function(a,b){var c={};c.elemId=a;c.jobId=b;c.actualProgress=0;c.virtualProgress=0;_progressBar?_progressBar.first.next=c:(_progressBar={},addInitCall(initJobProgress),_progressBar.first=c,_progressBar.url=null);ajaxInit()};window.removeProgressBar=function(a){for(var b=_progressBar.first,c;b;){if(b==a){if(c)c.next=b.next;if(b==_progressBar.first)_progressBar.first=
b.next;break}c=b;b=b.next}_progressBar=null};window.initJobProgress=function(){_progressBar&&(rebuildProgressBarUrl(),ajaxCall(_progressBar.url,processJobProgress));showJobProgress()};window.rebuildProgressBarUrl=function(){var a=!1;_progressBar.url="app?action=njs.getJobProgress&RhXm0r7tSeUqEr=true";for(var b=_progressBar.first;b&&b.status!="COMPLETED"&&b.status!="FAILED"&&b.status!="CANCELLED";)a=!0,_progressBar.url+="&job_instance_id="+b.jobId,b.elem=window.document.getElementById(b.elemId),b=
b.next;if(!a)_progressBar.url=null};window.processJobProgress=function(){try{if(_ajaxCaller.readyState==4){if(_ajaxCaller.status==200&&_ajaxCaller.responseXML)for(var a=_ajaxCaller.responseXML.getElementsByTagName("ajax")[0].getElementsByTagName("job"),b=0;b<a.length;b++){var c=a[b],d=c.getAttribute("percentComplete"),e=c.getAttribute("status"),f=c.getAttribute("jobId");traceln(": Job: "+d+" : "+e+" : "+f);for(var g=_progressBar.first;g;){if(g.jobId==f){traceln("Found job: "+f+" : "+e);g.status=e;
if(g.actualProgress!=d){try{g.actualProgress=parseInt(d)}catch(h){}g.tic=-1}(e=="PROCESSING"||e=="")&&rebuildProgressBarUrl();break}g=g.next}}_progressBar!=null&&_progressBar.url!=null?setTimeout("if( _progressBar ) ajaxCall( _progressBar.url, processJobProgress )",PROGRESS_CHECK_INTERVAL):traceln("Exiting AJAX Thread")}}catch(j){_ajaxCaller=null}};window.filterStateChanged=function(a,b,c){var d=a?"#"+a.replace(/\./g,"\\."):"",e=$(d+"_action_img"),d=$(d),f;d.is(":visible")?(f="collapsed",b=c):f="expanded";
if(c=createAjaxCaller())c.open("GET","nu?uitk.vxml.form=1&action=odf.filterStateChange&filterName="+a+"&collapseFilterState="+f,!1),c.send(null),c.status==200&&(d.toggle(),e.attr({title:b,alt:b}),e.attr("role")=="link"?e.toggleClass("ppm_filter_expand ppm_filter_collapse"):e.parent().toggleClass("ppm_portlet_btn_filter_expand ppm_portlet_btn_filter_collapse"));clarity!=null&&clarity.uitk!=null&&clarity.uitk.navigation!=null&&clarity.uitk.navigation.NavigationContextManager!=null&&(a=clarity.uitk.navigation.NavigationContextManager.getEventContext(),
clarity.uitk.grid.rebuildHeaders(a))};window.toggleFlyoutFilter=function(a,b,c){if(document.forms[a.substring(0,a.indexOf("_collapseFilter"))][a.substring(0,a.indexOf("Filter"))])document.forms[a.substring(0,a.indexOf("_collapseFilter"))][a.substring(0,a.indexOf("Filter"))].value=!0;var d=document.getElementById(a+"_action_img"),e=$("#"+a.replace(/\./g,"\\.")).toggle().position({my:"left top",at:"left bottom",of:d,collision:"none none"}),a=$("img[id='"+a+"_action_img']");e.is(":visible")?(d.title=
b,d.alt=b,a&&a.length>0&&a.hasClass("ppm_filter_expand")&&(a.removeClass("ppm_filter_expand"),a.addClass("ppm_filter_collapse"))):(d.title=c,d.alt=c,a&&a.length>0&&a.hasClass("ppm_filter_collapse")&&(a.removeClass("ppm_filter_collapse"),a.addClass("ppm_filter_expand")))};window.ganttFilterAjax=function(a){getCurrentForm(a);clarity.gantt.GanttFilterService.submitGanttFilter(a)};window.clearGanttFilterErrors=function(){clarity.gantt.GanttFilterService.clearFilterErrors()};window.pfmFilterAjax=function(a){getCurrentForm(a);
clarity.pfm.PFMFilterService.submitPFMFilter(a)};window.clearPFMFilterErrors=function(){clarity.pfm.PFMFilterService.clearFilterErrors()};window.clearGanttFilterOnServer=function(a){getCurrentForm(a);clarity.gantt.GanttFilterService.clearFilterOnServer(a)};window.clearPFMFilterOnServer=function(a){getCurrentForm(a);clarity.pfm.PFMFilterService.clearPFMFilterOnServer(a)};window.getCheckedRadioValue=function(a,b){var c=a[b],d;if(c.length)for(var e=0;e<c.length;e++)if(c[e].checked){d=c[e].value;break}return d};
window.setRadioSelect=function(a,b,c){getCheckedRadioValue(a,b)!=c&&putValue(a[b],c)};window.setEnabled=function(a,b,c,d,e){d&&(c=getValue(d)==e);a[b].disabled=!c};window.setEnabledFilterState=function(a,b,c){elm=a[c];collapsed=elm[0];expanded=elm[1];getValue(b)=="section"?(collapsed.disabled=!1,expanded.disabled=!1):(collapsed.disabled=!0,collapsed.checked=!1,expanded.disabled=!0,expanded.checked=!0)};window.showJobProgress=function(){for(var a=!1,b=_progressBar?_progressBar.first:null;b;){if(b.virtualProgress>=
100)completeJobProgress(b);else if(a=!0,b.tic&&b.tic!=-1)updateJobProgress(b);else if(b.virtualProgress>=b.actualProgress)b.tic=0;else{var c=b.actualProgress-b.virtualProgress;traceln("Check Delta: "+b.actualProgress+" - "+b.virtualProgress+" = "+c+" : "+b.tic);b.tic=c/PROGRESS_UPDATE_COUNT*PROGRESS_TIC_MULTIPLIER;traceln("Set Tic: "+b.tic);updateJobProgress(b)}b=b.next}a?setTimeout("showJobProgress()",PROGRESS_UPDATE_INTERVAL):traceln("Exiting UI Thread")};window.updateJobProgress=function(a){if(a.tic>
0&&a.virtualProgress<=a.actualProgress)trace("Update -> old: "+a.virtualProgress),a.virtualProgress=Math.ceil(a.virtualProgress+a.tic),traceln(", New: "+a.virtualProgress),$(a.elem).attr("title",a.virtualProgress+"%").width(a.virtualProgress)};window.completeJobProgress=function(a){a.elem.style.backgroundImage="url(ui/uitk/images/progress_blue.gif)";a.elem.title="100%";traceln("Remove it:  : "+a.jobId+" : "+a.status);removeProgressBar(a)};window.confirmAction=function(a,b,c){confirm(a)&&ajaxCallAction(b,
c,confirmActionCallback)};window.doActionOnField=function(a,b,c){ajaxCallAction(a,c+"&"+b+"="+page.elements[b].value,confirmActionCallback)};window.confirmActionCallback=function(){if(_ajaxCaller.readyState==4&&_ajaxCaller.status==200&&_ajaxCaller.responseXML){var a=_ajaxCaller.responseXML.getElementsByTagName("ajax")[0].getElementsByTagName("status")[0].getAttribute("msg");alert(a)}};typeof HGinstances=="undefined"&&(HGinstances={});window.HG={EXPAND_IMG:"-44px -62px",COLLAPSE_IMG:"-60px -62px",
NO_CHILD_IMG:"-76px -62px",CONTENT:"content",PARENT:"parent",PARENT_END:"parentend",TAG_ATTR:"data-ppm_tag",drill:function(a,b,c){for(var d=a.substring(0,a.indexOf("#")),e=HG.getInstance(d),f=HG.getRow(e,a),g=0;g<document.forms.length;g++)document.forms[g]&&HG.saveSelectedRows(document.forms[g],e);b&&(HG.expandRow(e,f,c),f==-1&&HG.renderTable(e));if(f&&f!=-1){e.rowFocus=a;if(!b)f.showRows=!1;HG.renderTable(e)}for(var h in e.selectedRows)(b=document.getElementById(e.selectedRows[h].checkbox.id))&&
b.setAttribute("checked","checked");clarity.uitk.widgets.grid.builder.ListViewBuilder.resetHgListViewAndHighlightCurrentFocused(d+"#grid",a);clarity!=null&&clarity.uitk!=null&&clarity.uitk.navigation!=null&&clarity.uitk.navigation.NavigationContextManager!=null&&(a=clarity.uitk.navigation.NavigationContextManager.getEventContext(),clarity.uitk.grid.rebuildHeaders(a))},autoExpand:function(a,b,c,d){d==null&&(d=1);if(a&&b&&b.tr&&d++<=c)if(HG.isArray(b.tr))for(var e=0;e<b.tr.length;e++)b.tr[e].hasChildren&&
(HG.expandRow(a,b.tr[e]),HG.autoExpand(a,b.tr[e],++c,d));else b.tr.hasChildren&&(HG.expandRow(a,b.tr),HG.autoExpand(a,b.tr,++c,d))},getExpandRequestUrl:function(a,b,c,d){var e=HG.getURLParams(),c="nu?uitk.vxml.form=1&action=npt.gridNode&portlet_id="+a.portletId+"&portlet_instance_id="+a.portletInstanceId+"&portlet_instance_type="+a.portletInstanceType+"&componentId="+a.componentId+"&view_code="+a.viewCode+"&ui.page.space="+a.uiPageSpace+"&ui.page.template="+a.uiPageTemplate+"&hg.page="+(c?c:0)+e;
d?c+="&hg_row_id="+d:b&&b!=-1&&b.hasChildren&&(c+="&hg_row_id="+b.hasChildren);a.selectorType&&a.selectorType!=""&&(c+="&hg.selectorType="+a.selectorType);return c},expandRow:function(a,b,c){var d=createAjaxCaller();if(b&&d){c=HG.getExpandRequestUrl(a,b,c);d.open("GET",c,!1);d.send(null);c=null;if(d.status==200)try{c=eval("("+d.responseText+")")}catch(e){}if(b==-1){a.page=c.table.page;a.pageSize=c.table.pageSize;a.totalNumRows=c.table.totalNumRows;a.hasTopPagination=!1;b=[];for(d=0;d<a.tr.length&&
a.tr[d].header=="true";d++)b[d]=a.tr[d];a.tr=b;if(c&&HG.isObject(c.table))HG.isArray(c.table.tr)?a.tr=b.concat(c.table.tr):a.tr[a.tr.length]=c.table.tr}else HG.addRows(a,c,b),b.showRows=!0}},getDiv:function(a){var b=null;a&&(b=document.getElementById(a.portletInstanceId+"#grid"));return b},renderTable:function(a){var b=HG.getDiv(a);a.page&&a.pageSize&&a.totalNumRows&&a.tr&&!a.hasTopPagination&&HG.addTopPagination(a);a.rowMap={};b.innerHTML="";b.innerHTML=HG.toHTML(a,a,"table",0,!1);a=clarity.uitk.Utility.getContentElement(b);
clarity.util.focusFirst(a)},isInternalAttr:function(a){return a=="rowMap"||a=="selectedRows"||a=="selectedRowsHasChildren"},toHTML:function(a,b,c,d,e,f,g){var h="",j=c=="tr"&&b;if(HG.isArray(b))for(var k=0;k<b.length;k++)h+=j?HG.toHTML(a,b[k],c,d,e,b[k],g):HG.toHTML(a,b[k],c,d,e,f,g);else if(b&&typeof b=="object"){var k=c!=null&&c!="",m="";k&&(h="<"+c+" ");var l=!1;for(q in b){var o=b[q],n=typeof o;n=="number"||n=="boolean"||n=="string"?q==HG.CONTENT?l=!0:q==HG.PARENT?h=o+h:q==HG.PARENT_END?m=o:q!=
HG.TAG_ATTR&&(h+=" "+q+'="'+o+'"'):n=="object"&&!HG.isInternalAttr(q)&&(l=!0)}e&&(l=!0);j&&f&&f.id&&(h+=" onclick=\"HG.focus( this, '"+f.id+"');\"");j&&!g&&(o=HG.getUniqueRowId(b))&&(a.rowMap[o]=b);k&&!l&&(h+="/>");if(l){k&&(h+=">");if(e){h+=HG.getTravWidget(f,d);o="left";if(c=="td"&&b.align&&b.align!="")o=b.align;h+='<td align="'+o+'">'}for(var q in b)if(o=b[q],n=typeof o,n=="object")if(j)switch(l=b.header=="true",q){case "tr":if(b.showRows||b.showRows==null)h+=HG.toHTML(a,o,q,d+1,!1,o);break;case "td":if(HG.isArray(o))for(n=
0;n<o.length;n++){var r=o[n][HG.TAG_ATTR]!=null?o[n][HG.TAG_ATTR]:q;h+=HG.toHTML(a,o[n],r,d,!g&&(n==0&&!a.hasSelector||n==1&&a.hasSelector)&&!l,f,g||q=="table")}else r=o[HG.TAG_ATTR]!=null?o[HG.TAG_ATTR]:q,h+=HG.toHTML(a,o,r,d,!l&&!g,f,g||q=="table");break;case "input":h+=HG.toHTML(a,o,q,d,!1,f,g||q=="table")}else HG.isInternalAttr(q)||(h+=HG.toHTML(a,o,q,d,!1,f,g||q=="table"));else n=="string"&&q==HG.CONTENT&&(h+=o);j&&b.tr&&b.showRows&&b.page&&(h+=HG.addPagination(a,b,d));e&&(h+="</td></tr></table>");
k&&(h+="</"+c+">"+m)}}return h},pag:function(a,b){HG.drill(a,!1,b);HG.drill(a,!0,b)},addTopPagination:function(a){if(!a.hasTopPagination&&a.page&&a.pageSize&&a.totalNumRows&&a.tr){var b=a.totalNumRows!=""?parseInt(a.totalNumRows):0,c=a.pageSize!=""?parseInt(a.pageSize):0,d=a.page!=""?parseInt(a.page):0;if(b>c){for(var e=-1,f=0;f<a.tr.length&&e<0;f++)a.tr[f].header!="true"&&(e=f);if(e>=0)b={"class":"rowOff",td:{colspan:"80",content:HG.getPaginationTable(b,c,d,null,"javascript:HG.pag('"+a.portletInstanceId+
"#-1', ")}},a.tr[a.tr.length]=b,a.hasTopPagination=!0}}},getPaginationTable:function(a,b,c,d,e){var a=Math.ceil(a/b),b=c>=a-1?a-1:c+1,f="<table ";d&&(f+='style="'+d+'" ');f+='class="pagination" cellpadding="0" cellspacing="0" border="0"><tr class="rowOn"><td><a href="'+e+'0);">'+clarity.uitk.SPACER+' style="background: url(ui/uitk/images/nde.png) no-repeat -1292px 0px; width: 11px; height: 11px;" alt="First Page" title="First Page"></a></td><td><a href="'+e+(c<=0?0:c-1)+');">'+clarity.uitk.SPACER+
' style="background: url(ui/uitk/images/nde.png) no-repeat -1325px 0px; width: 11px; height: 11px;" alt="Previous Page" title="Previous Page" id="prevPageButton" ></a></td>';var g=parseInt(c/10)*10,d=g+10;g>a&&(g=a);g==1&&(g=0);for(d>a&&(d=a);g<d;g++)f+=g==c?'<td><span class="paginationSel">'+(g+1)+"</span></td>":'<td><a class="paginationLink" href="'+e+g+');">'+(g+1)+"</a></td>";f+='<td><a href="'+e+b+');">'+clarity.uitk.SPACER+' style="background: url(ui/uitk/images/nde.png) no-repeat -1317px 0px; width: 11px; height: 11px;" alt="Next Page" title="Next Page" id="nextPageButton"></a></td><td><a href="'+
e+(a-1)+');">'+clarity.uitk.SPACER+' style="background: url(ui/uitk/images/nde.png) no-repeat -1304px 0px; width: 11px; height: 11px;" alt="Last Page" title="Last Page"></a></td></tr></table>';return f},addPagination:function(a,b,c){var d="";if(b&&b.page&&b.pageSize&&b.totalNumRows){var e=b.totalNumRows!=""?parseInt(b.totalNumRows):0,f=b.pageSize!=""?parseInt(b.pageSize):0,g=b.page!=""?parseInt(b.page):0;e>f&&(b="javascript:HG.pag('"+b.id+"', ",d='<tr data-ppm_hg_pag="true" class="rowOff" valign="top" onmouseover="HG.shPag(this, true);" onmouseout="HG.shPag(this, false);">',
a.hasSelector&&(d+="<td>&nbsp;</td>"),d+='<td colspan="80"><span style="vertical-align: top"><a href="#" style="margin-left: '+(c+1)*15+'px">[More...]</a></span>',d+=HG.getPaginationTable(e,f,g,"visibility: hidden; display: inline;",b),d+="</td></tr>")}return d},shPag:function(a,b){if(a){var c=a.getElementsByTagName("td"),d=c.length>0?c[0]:null;if(d){var e=d.getElementsByTagName("table")[0];e||(d=c.length>1?c[1]:d,e=d.getElementsByTagName("table")[0]);if(e)e.style.visibility=b?"visible":"hidden"}}},
focus:function(a,b){var c=HG.getInstance(b.substring(0,b.indexOf("#")));if(c)c.rowFocus=b},addRows:function(a,b,c){if(c&&c.tr)c.tr=null;if(b&&HG.isObject(b.table)&&(a=b.table,b=[],a.tr&&HG.isArray(a.tr)?b=a.tr:a.tr&&HG.isObject(a.tr)&&b.push(a.tr),b.length>0)){c.showRows=!0;c.id.substring(c.id.indexOf("#")+1).split(".");c.tr=[];for(var d=b.length,e=0;e<d;e++)b[e].id=c.id+"."+e,c.tr.push(b[e]),b[e].parentRow=c;if(a.pageSize&&a.page&&a.totalNumRows&&parseInt(a.pageSize)<parseInt(a.totalNumRows))c.page=
a.page,c.pageSize=a.pageSize,c.totalNumRows=a.totalNumRows}},getTravWidget:function(a,b){var c={};if(a&&a.hasChildren&&a.hasChildren!="")c.a={href:"javascript: HG.drill( '"+a.id+"', "+(a.showRows?"false":"true")+" );",tabindex:"-1","data-ppm_hg_joint":"true",img:{border:"0",src:clarity.uitk.SPACER_SRC,style:"background: url( ui/uitk/images/fields.png ) no-repeat "+(a.showRows?HG.COLLAPSE_IMG:HG.EXPAND_IMG)+"; width: 9px; height: 9px; display: inline-block; margin-left: "+b*14+"px; margin-top: 4px; margin-right: 4px"}};
else if(b>0)c.img={border:"0",src:clarity.uitk.SPACER_SRC,style:"background: url( ui/uitk/images/fields.png ) no-repeat "+HG.NO_CHILD_IMG+"; width: 9px; height: 9px; display: inline-block; margin-left: "+b*14+"px; margin-top: 4px; margin-right: 4px"};return'<table cellspacing="1" cellpadding="0" border="0" width="100%"><tr class="tableNestedAttribute"><td width="1%">'+HG.toHTML(null,c)+"</td>"},getRow:function(a,b,c){var d=null;if(a){b=b.substring(b.indexOf("#")+1).split(".");if(b[0]==-1)return-1;
for(var a=a.tr,e=0;e<b.length;e++)if(HG.isArray(a)){if(a.length<b[e])break;e==b.length-1?(d=a[b[e]],c&&(a[b[e]]=null)):a=a[b[e]].tr}else HG.isObject(a)&&b[e]==1&&(d=a,c&&(a=null))}return d},getGrandParentRow:function(a,b){var c=null,d=b?b.indexOf("#"):-1;if(d>0){var e=b.substring(d+1),f=e.lastIndexOf(".");f>=0&&(f=e.substring(0,f).lastIndexOf("."),f>=0&&(c=HG.getRow(a,b.substring(0,f+d+1))))}return c},getPrevSiblingRow:function(a,b){var c=null;if(a){var d=b.id.substring(b.id.indexOf("#")+1).split(".");
if(d[0]==-1)return c;for(var e=a.tr,f=0;f<d.length;f++)if(HG.isArray(e)){if(e.length<d[f])break;if(f==d.length-1)for(var g=parseInt(d[f])-1,h=(c=e[g])&&a.selectedRows[c.id];(!c||h)&&g>=0;)g--,h=(c=e[g])&&a.selectedRows[c.id];else e=e[d[f]].tr}else if(HG.isObject(e)&&d[f]==1)if(f+1==d.length)return null;else e=e.tr}return c},getInstance:function(a){var b=null;if(HG.isObject(HGinstances[a])&&HGinstances[a].table)b=HGinstances[a].table;return b},getURLParams:function(){var a="",b="",c=clarity.uitk.navigation.NavigationContextManager.getEventContext(),
c=clarity.uitk.navigation.NavigationContextManager.getNavigationContext(c);if((c=clarity.uitk.navigation.NavigationContext.getUrl(c))&&c.length>1){var d=c.indexOf("#");if(d>=0){if(a=c.substring(d+1),c=a.indexOf("action:"),c>=0){var d=a.substr(0,c),e="",b=a.indexOf("&",c);b>=0&&b+1<=a.length?(e=a.substr(b+1),b=a.substr(c+7,b-7)):b=a.substr(c+7);a=d+e}}else d=c.indexOf("?"),d>=0&&(a=c.substr(d+1),c=a.indexOf("action="),c>=0&&(d=a.substr(0,c),e="",b=a.indexOf("&",c),b>=0&&b+1<=a.length?(e=a.substr(b+
1),b=a.substr(c+7,b-7)):b=a.substr(c+7),a=d+e))}a.length>0&&a.charAt(0)!="&"&&(a="&"+a);b.length>0&&(a="&hg.action="+b+a);return a},ioDent:function(a,b,c,d,e){var f=HG.getInstance(e);HG.saveSelectedRows(a.form,f);HG.submitEvent(a,b,d,e,c?HG.indentHandler:HG.outdentHandler,arguments,5)},indentHandler:function(a,b){HG.ioDentHandler(a,b,!0)},outdentHandler:function(a,b){HG.ioDentHandler(a,b,!1)},ioDentHandler:function(a,b,c){if(a&&a.ajaxId&&(b=HG.processActionErrors(a,b),a=HG.getInstance(a.ajaxId),a.ancestorRows=
null,!b&&a.selectedRows)){var b={},d;for(d in a.selectedRows){var e=a.selectedRows[d].row,f=c?HG.getPrevSiblingRow(a,e):HG.getGrandParentRow(a,e.id);if(f)b[f.id]=f;else if(!c)b.needTopLevel=!0;HG.getRow(a,e.id,!0)}a.ancestorRows=b;HG.doAncestorRequest(a);HG.uncheckSelectedRows(a,!0)}},doAncestorRequest:function(a){if(HG.isObject(a.ancestorRows))for(var b in a.ancestorRows){var c=a.ancestorRows[b];if(c){var d=b=="needTopLevel",e=d?"":c.hg_has_children;!e&&!d&&(e=HG.getUniqueRowId(c));var f=d?a.portletInstanceId:
a.portletInstanceId+"$::$"+c.id.substring(c.id.indexOf("#")+1),c=HG.getExpandRequestUrl(a,c,d?a.page:c.page,e)+"&hg_ancestor_path=true&ajax.id="+f,c=new DivAjaxCall("GET",null,c,!1,a.portletInstanceId,!0,null);c.addHandler(f,HG.ancestorHandler);a.ancestorRows[b]=null;c.call();break}}},getUniqueRowId:function(a){var b=a?a.hasChildren:null;if(!b&&a&&HG.isArray(a.td)&&a.td.length>0){var c=(a=a.td[0].content)?a.indexOf(" value="):0;c>0&&(b=a.substring(c+8,a.indexOf('"',c+8)))}return b},ancestorHandler:function(a,
b){if(a&&a.ajaxId){var c=HG.processActionErrors(a,b),d=a.ajaxId.indexOf("$::$"),e=a.ajaxId;d>0&&(e=a.ajaxId.substring(0,d));var f=HG.getInstance(e),g=d<0,d=!g?a.ajaxId.substr(d+4):null;g||(e+="#"+d);d=!g?HG.getRow(f,e):null;d=!g?HG.getUniqueRowId(d):null;if(!c){if(a.table&&HG.isArray(a.table.tr)){for(var c=0,h=!1,j=0;j<f.tr.length&&!h;j++)(h=!f.tr[j].header)||c++;for(var h=a.table.tr.length,j=g?"#":".",k=0;k<h;k++){var m=a.table.tr[k];if(m.hasChildren&&m.hasChildren==d||g){d=g?a.table.tr:a.table.tr.slice(k+
1);h=d.length;for(k=0;k<h;k++){d[k].id=e+j+((g?k+c:k)+0);if(!g)d[k].parentRow=m;if(d[k].hasChildren&&f.rowMap){var l=f.rowMap[d[k].hasChildren];l&&HG.copyProperties(l,d[k],["showRows","tr","page","pageSize","totalNumRows"])}}if(g){f.page=a.table.page;f.pageSize=a.table.pageSize;f.totalNumRows=a.table.totalNumRows;f.hasTopPagination=!1;e=f&&HG.isArray(f.tr)?f.tr.length:0;HG.isArray(f.tr)&&e==0&&(e=-1);g={};if(e==0)g[HG.getUniqueRowId(f.tr)]=f.tr;else for(j=0;j<e;j++)(m=HG.getUniqueRowId(f.tr[j]))&&
(g[m]=f.tr[j]);for(e=0;e<h;e++)(j=g[HG.getUniqueRowId(d[e])])&&d[e].hasChildren&&HG.copyProperties(j,d[e],["tr","showRows","hasChildren"]);f.tr.splice(c,f.tr.length-c);f.tr=f.tr.concat(d)}else HG.updateRow(f,m.hasChildren,m,d,g,a.table.page,a.table.pageSize,a.table.totalNumRows);break}else HG.updateRow(f,m.hasChildren,m,null,!1,null,null,null)}}c=!1;for(p in f.ancestorRows)if(f.ancestorRows[p]){c=!0;break}c?HG.doAncestorRequest(f):(HG.syncIds(f,f.portletInstanceId+"#",0),HG.renderTable(f))}}},syncIds:function(a,
b,c){if(a&&a.tr)if(HG.isArray(a.tr))for(var d=a.tr.length,e=0;e<d;e++){if(a.tr[e])a.tr[e].id=b+(e+c),HG.syncIds(a.tr[e],a.tr[e].id+".",0)}else a.tr.id=b+"0",HG.syncIds(a.tr,a.tr.id+".",0)},updateRow:function(a,b,c,d,e,f,g,h){var j=["id","showRows","parentRow"];d||(j=["id","showRows","parentRow","tr","hasChildren","page","pageSize","totalNumRows"]);var k=!1;if(a&&b&&HG.isArray(a.tr))for(var m=a.tr.length,l=0;l<m&&!k;l++){var o=HG.getUniqueRowId(a.tr[l]);if(a.tr[l]&&o==b){HG.copyProperties(a.tr[l],
c,j);if(d)c.tr=d,c.showRows=!0,c.page=f,c.pageSize=g,c.totalNumRows=h;a.tr[l]=c;k=!0}else HG.updateRow(a.tr[l],b,c,d,e,f,g,h)}else if(a&&b&&HG.isObject(a.tr)&&(o=HG.getUniqueRowId(a.tr),o==b)){HG.copyProperties(a.tr,c,j);if(d)c.tr=d,c.showRows=!0,c.page=f,c.pageSize=g,c.totalNumRows=h;a.tr=c;k=!0}return k},copyProperties:function(a,b,c){if(c&&a&&b)for(p in c){var d=c[p];b[d]=a[d]}},resetActionErrors:function(a,b){var c=null;if(a&&a.form){var d="pageError-"+a.form.name,c=document.getElementById(d);
if(!c&&b){for(var e=form.parentNode;e&&e.nodeName.toLowerCase()!="table";)e=e.parentNode;e&&e.nodeName.toLowerCase()=="table"&&(e=table.insertRow(0).insertCell(),c=document.createElement("div"),c.setAttribute("id",d),e.appendChild(c))}if(c)c.innerHTML=""}return c},processActionErrors:function(a,b){var c=!1;if(a&&b&&b.form&&HG.isArray(a.error)){var c=a.error.length,d=HG.resetActionErrors(b,!0);if(d){for(var e='<div class="ppm_error"><img src="{ui/uitk/images/s.gif}" style="width: 20px; height: 20px; background: url(ui/uitk/images/common.png) no-repeat -20px 0px;" align="absmiddle" alt="Error" title="Error"/><span>Error:</span>',
f=0;f<c;f++)e+=" "+a.error[f].value;d.innerHTML=e+"</div>"}c=!0}return c},noChange:function(a,b,c,d){var e=HG.getInstance(d);HG.saveSelectedRows(a.form,e);HG.submitEvent(a,b,c,d,HG.noChangeHandler,arguments,4)},noChangeHandler:function(a,b){if(a&&a.ajaxId){var c=HG.processActionErrors(a,b),d=HG.getInstance(a.ajaxId);c||HG.uncheckSelectedRows(d)}},uncheckSelectedRows:function(a){if(a&&a.selectedRows)for(var b in a.selectedRows)if(a.selectedRows[b].checkbox.checked)a.selectedRows[b].checkbox.checked=
!1},saveSelectedRows:function(a,b){if(a&&b){b.selectedRows={};b.selectedRowsHasChildren={};for(var c=a.selector,d=c?c.length:0,e=0;e<d;e++)if(c[e].checked){for(var f=c[e].parentNode;f&&f.nodeName.toLowerCase()!="tr";)f=f.parentNode;f&&f.nodeName.toLowerCase()=="tr"&&(b.selectedRows[f.id]={checkbox:c[e],row:f},(f=HG.getRow(b,f.id,!1))&&f.hasChildren&&(b.selectedRowsHasChildren[f.hasChildren]=f))}}},submitEvent:function(a,b,c,d,e,f,g){HG.resetActionErrors(a,!1);b=getFormNVP(a.form,f,g);b.portletInstanceId=
d;f="ajax.id="+d+b.nvp+getPageIdAndParamsNVP();a=new DivAjaxCall("POST",c,f,!1,b.portletInstanceId,!0,a);a.addHandler(d,e);a.call()},isArray:function(a){return HG.isObject(a)&&a.constructor==Array},isObject:function(a){return a&&typeof a=="object"}};window.DivAjaxCall=function(a,b,c,d,e,f,g){var h=this;this.requestType=a;this.sync=d;this.instanceId=e;this.responseType=f?"json":"xml";this.source=g;b&&c&&c.length>0&&c.charAt(0)!="&"&&(c="&"+c);a=="GET"?(this.url=b?"nu?uitk.vxml.form=1&action="+b+c:
c,this.queryString=null):(this.url="nu?uitk.vxml.form=1",this.queryString="action="+b+c);this.xhr=createAjaxCaller();if(!d)this.xhr.onreadystatechange=function(){doCallBack(h)};this.doCallback=doCallBack=function(a){a.callback()};this.doCancel=doCancel=function(a){if(a)try{a.cancel()}catch(b){}};this.addHandler=function(a,b){if(!this.handlers)this.handlers={};this.handlers[a]=b};this.getHandler=function(a){return this.handlers?this.handlers[a]:null};this.call=function(){this.sync||clarity.uitk.portlet.mask(!0,
this.instanceId,function(){doCancel(h)});this.xhr.open(this.requestType,this.url,!this.sync);this.requestType=="POST"&&this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this.xhr.send(this.queryString);this.sync&&doCallBack(this)};this.cancel=function(){this.cancelFlag=!0;this.xhr&&this.xhr.abort()};this.callback=function(){if(this.xhr.readyState==4)if(this.sync||clarity.uitk.portlet.mask(!1,this.instanceId),this.xhr.status==200)if(this.responseType=="xml")if(this.xhr.responseXML&&
this.xhr.responseXML.firstChild&&this.xhr.responseXML.firstChild.childNodes)for(var a=this.xhr.responseXML.firstChild.childNodes.length,b=0;b<a;b++){var c=this.xhr.responseXML.firstChild.childNodes[b],d=c.getAttribute("id"),e=this.getHandler(d);e?e(d,c.firstChild):(e=$("#"+d).empty().hide(),c.firstChild.data&&e.html(c.firstChild.data).show())}else navigateToPage("security.sessionExpired");else{if(this.responseType="json",(a=eval("("+this.xhr.responseText+")"))&&a.ajaxId)(e=this.getHandler(a.ajaxId))&&
e(a,this.source)}else this.cancelFlag||navigateToPage("union.internalServerError")}};window.trimUrlParams=function(a){var b="";if(a)for(var c="",a=a.split("&"),d=0;a&&d<a.length;d++){var e=a[d],f=e.split("=");f&&f.length==2&&c.indexOf(" "+f[0]+" ")<0&&(b+=e,c+=" "+f[0]+" ",d<a.length-1&&(b+="&"))}return b};window.pruneJS=function(a){return a.replace("<\!--","//<\!--")};window.optionSelectFirst=function(a){if((a=document.getElementsByName(a))&&a.length>0&&a[0].options&&a[0].options.length>0)a[0].options[0].selected=
!0};window.getPageIdAndParamsNVP=function(){var a=getPageQueryString();a!=""&&(a="&ajax.idAndParams="+escape(a));return a};window.getPageQueryString=function(){var a=window.location.href,b=a.indexOf("action:");return b>=0?a.substring(b+7):""};window.gridSetPage=function(a,b,c){b=trimUrlParams("ajax=true&grid_time_period_scroll=false&portlet_instance_id="+a+"&grid_page="+c+b+getPageIdAndParamsNVP());b=new DivAjaxCall("GET","npt.gridSetPageOrSort",b,!1,a);b.addHandler(portletContentDivIdPrefix+a,gridContentHandler);
b.call()};window.gridAjaxSort=function(a,b,c,d,e,f){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty();a.shiftKey==!0?timeoutGridSort(b,c,d,e,f,!1):timeoutGridSort(b,c,d,e,f,!0)};window.gridSort=function(a,b,c,d,e){e=getCurrentForm(e).elements.page_id.length>1?getCurrentForm(e).elements.page_id[0].value:getCurrentForm(e).elements.page_id.value;b=
trimUrlParams("ajax=true&grid_time_period_scroll=false&page_id="+e+"&portlet_instance_id="+a+"&grid_page=0&grid_sort_col="+b+"&grid_sort_dir="+c+d+getPageIdAndParamsNVP());b=new DivAjaxCall("GET","npt.gridSetPageOrSort",b,!1,a);b.addHandler(portletContentDivIdPrefix+a,gridContentHandler);b.call()};window.timeoutGridSort=function(a,b,c,d,e,f){var e=getCurrentForm(e).elements.page_id.length>1?getCurrentForm(e).elements.page_id[0].value:getCurrentForm(e).elements.page_id.value,g=trimUrlParams("ajax=true&grid_time_period_scroll=false&page_id="+
e+"&portlet_instance_id="+a+"&band_sort="+f+"&grid_page=0&grid_sort_col="+b+"&grid_sort_dir="+c+d+getPageIdAndParamsNVP()),b={};b.portletInstanceId=a;b.queryString=g;b.execute=function(){var b=new DivAjaxCall("GET","npt.gridSetPageOrSort",g,!1,a);b.addHandler(portletContentDivIdPrefix+a,gridContentHandler);b.call()};clarity.uitk.validation.AjaxDirtyValidator.validate(gridContentDivIdPrefix+a,b)};window.gridTimePeriodScroll=function(a,b){var c=gridTimePeriodScrollSetup(a,b);c!=null&&c.call()};window.gridTimePeriodScrollSetup=
function(a){var b=getCurrentForm(a);if(b){var c,d="";getCurrentForm(a).elements.page_id&&(d="&page_id="+getCurrentForm(a).elements.page_id.value);a="ajax=true&grid_time_period_scroll=true"+d;d=getPageQueryString();if(d!=""){var e=d.indexOf("&");e>=0&&(d=d.substr(e+1),a+="&"+d)}d="npt.gridSetPageOrSort";e=gridTimePeriodScroll.arguments;if(e==null)e=gridTimePeriodScrollSetup.arguments,d="npt.timePeriodScrollAjax";var f=e.length;if(f>2)for(var g=2;g<f;g++){var h=e[g];h&&h.indexOf("returnUrl=")<0&&(h.indexOf("portletInstanceId")==
0&&(c=h.substring(h.indexOf("=")+1)),a+=getParam(b.name,h))}a+=getPageIdAndParamsNVP();b=new DivAjaxCall("GET",d,a,!1,c);b.addHandler(portletContentDivIdPrefix+c,gridContentHandler);return b}return null};window.execScriptInDiv=function(a,b){var c=a.substring(a.lastIndexOf("-")+1);(c=document.getElementById(b+c))&&c.text&&eval(pruneJS(c.text))};window.powerFilterLabelHandler=function(a,b){var c=document.getElementById(a);if(c!=null&&b&&b.data&&(c.innerHTML=b.data,c.parentNode&&c.parentNode.title))c.parentNode.title=
b.data};window.gridContentHandler=function(a,b){var c=a;clarity.util.startsWith(a,portletDivIdPrefix)&&(c=a.substring(portletDivIdPrefix.length,a.length));clarity.uitk.widgets.grid.builder.ListViewBuilder.removeListViewHandler(c);c=document.getElementById(a);if(c!=null&&b&&b.data){var d="grid-update-"+a.substring(a.lastIndexOf("-")+1),e=document.getElementsByName(d),f=null;e&&e.length>0&&(f=e[0].getAttribute("onclick"));c.innerHTML=b.data;if(f!=null)for(var e=(d=document.getElementsByName(d))?d.length:
0,g=0;g<e;g++)d[g].setAttribute("onclick",f)}c=$(c).find(".ppm_grid_content");c!=null&&c!=""?c.focus():(c=$("#ppm_page_contents"),(f=$("div.ppm_gridcontent",c))&&f.length?clarity.util.focusTopGrid(c,f):clarity.util.focusFirst(dialog.resize()));clarity!=null&&clarity.uitk!=null&&clarity.uitk.navigation!=null&&clarity.uitk.navigation.NavigationContextManager!=null&&(c=clarity.uitk.navigation.NavigationContextManager.getEventContext(),clarity.uitk.grid.rebuildHeaders(c))};window.getFormNVP=function(a,
b,c){var d="",e=!1,f="";if(a){for(var g=b?b.length:0;c<g;c++){var h=typeof b[c]=="string"?b[c]:null;h&&(d+=getParam(a.name,h));!e&&h&&h.indexOf("retrieve_filter_id=")==0&&(e=(e=h.substring(h.indexOf("=")+1))&&e.length>0)}g=a.elements?a.elements.length:0;for(c=0;c<g;c++)if(b=a.elements[c],(h=b.name)&&h.length>0&&h.indexOf("retrieve_filter")<0){var j=b.childNodes?b.childNodes.length:0;if(j>0)for(var k=0;k<j;k++){var m=b.childNodes[k];m.selected&&(d+="&"+h+"="+encodeURIComponent(m.value))}else{j=encodeURIComponent(b.value);
k=!0;switch(b.type){case "checkbox":case "radio":k=b.checked}k&&(d+="&"+h+"="+j);h=="portlet_instance_id"&&(f=j)}}}return{nvp:d,isSavedFilter:e,portletInstanceId:f}};window.portletFilterAjax=function(a,b,c){var a=getCurrentForm(a),d=portletFilterAjax.arguments;if(a){var e=2;c&&typeof c==="object"&&(e=3);var f=getFormNVP(a,d,e),g=$("#portlet-"+f.portletInstanceId),h={};h.nvp=f;h.portlet=g;h.linkElement=c;h.pos=e;h.execute=function(){if(f&&f.isSavedFilter&&e==3){var a=$(c);g.find(".ppm_portlet_header_filter > span").html(a.text());
a.addClass("ppm_tab_menu_link_sel").siblings().removeClass("ppm_tab_menu_link_sel")}e==2&&(a=g.find(".ppm_saved_filter_menu > a"),g.find(".ppm_portlet_header_filter > span").html(a.first().text()),a.removeClass("ppm_tab_menu_link_sel"));a=f.nvp+getPageIdAndParamsNVP()+"&ajax=true";a=new DivAjaxCall("POST",b,a,!1,f.portletInstanceId);b=="npt.graphFilter"&&f.portletInstanceId&&a.addHandler("portlet-chart-content-"+f.portletInstanceId,clarity.uitk.chartFilterHandler);b=="npt.gridFilter"&&f.portletInstanceId&&
a.addHandler(portletContentDivIdPrefix+f.portletInstanceId,gridContentHandler);a.addHandler("filter-content-"+f.portletInstanceId+"-powerFilterLabel",powerFilterLabelHandler);a.call();f.isSavedFilter||optionSelectFirst("retrieve_filter_name_"+f.portletInstanceId)}}clarity.uitk.validation.AjaxDirtyValidator.validate(gridContentDivIdPrefix+f.portletInstanceId,h)};window.portletClearFilter=function(a,b){var c="ajax=true&portlet_instance_id="+a+"&clearFilter=true&clearExpression=true&page_"+a+"_collapseFilter=false"+
getPageIdAndParamsNVP(),c=new DivAjaxCall("GET",b,c,!1,a);c.addHandler("filter-content-"+a+"-powerFilterLabel",powerFilterLabelHandler);c.call();optionSelectFirst("retrieve_filter_name_"+a)}});var _searchWindow=null,_childWindow=null,_fieldArray=null,_parentForm;
define("uitk/js/legacy/LinkActions",[],function(){window.getEventTarget=function(a){var b=null;if(!a)a=window.event;if(a.target)b=a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;return b};window.stopEvent=function(a){if(!a)a=window.event;a.cancelBubble=!0;a.returnValue=!1;a.stopPropagation&&(a.stopPropagation(),a.preventDefault());return!1};window.getWindowCurrentForm=function(a,b){return b==eval("window")?getCurrentForm(a):b.document.forms[a]};window.getCurrentForm=function(a,
b){var c=clarity.uitk.Utility.getFormElementByName(a,b);return c?c:document.forms[a]};window.resetFormAndSubmitted=function(a){resetForm(a);controlFormSubmitDisabled(a,!1);isSubmitted=!1};window.resetForm=function(a){getCurrentForm(a).reset();parentArray.length=0};window.submitForm=function(a,b){disableFormSubmit(a);var c=getPathname()+"?action="+b,d=submitForm.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=getParam(a,d[f]);if(!isSubmitted)isSubmitted=!0,d=getCurrentForm(a),d.action=c,clarity.uitk.widget.form.FormBuilder.submitForm(d)};
window.rawSubmitForm=function(a){disableFormSubmit(a);isSubmitted||(isSubmitted=!0,a=getCurrentForm(a),clarity.uitk.widget.form.FormBuilder.submitRawForm(a))};window.submitFormTarget=function(a,b,c){disableFormSubmit(b);var c=getPathname()+"?action="+c,d=submitFormTarget.arguments,e=d.length;if(e>3)for(var f=3;f<e;f++)c+=getParam(b,d[f]);if(!isSubmitted)isSubmitted=!0,b=getCurrentForm(b),b.action=c,clarity.uitk.widget.form.FormBuilder.submitForm(b,a)};window.submitMultipartForm=function(a,b){disableFormSubmit(a);
var c=getPathname()+"?action="+b,d=submitMultipartForm.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=getParam(a,d[f]);if(!isSubmitted){isSubmitted=!0;d=getCurrentForm(a);d.action=c;d.encoding="multipart/form-data";try{clarity.uitk.widget.form.FormBuilder.submitForm(d)}catch(g){isSubmitted=!1,controlFormSubmitDisabled(a,!1),window.location="app?action=union.formSubmitError"}finally{}}};window.submitMultipartFormTarget=function(a,b,c){disableFormSubmit(b);var c=getPathname()+"?action="+c,d=submitMultipartFormTarget.arguments,
e=d.length;if(e>3)for(var f=3;f<e;f++)c+=getParam(b,d[f]);if(!isSubmitted){isSubmitted=!0;d=getCurrentForm(b);d.action=c;d.encoding="multipart/form-data";try{clarity.uitk.widget.form.FormBuilder.submitForm(d,a)}catch(g){isSubmitted=!1,controlFormSubmitDisabled(b,!1),window.location=_v13ServletContext+"?action=union.formSubmitError"}finally{}}};window.disableFormSubmit=function(a){controlFormSubmitDisabled(a,!0)};window.controlFormSubmitDisabled=function(a,b){var c=getCurrentForm(a);controlFormSubmitDisabled0(c,
b)};window.controlFormSubmitDisabled0=function(a,b){for(var c=a.length,d=0;d<c;d++){var e=a.elements[d];if(e.tagName.toLowerCase()!="embed"&&(e.type.toLowerCase()=="button"||e.type.toLowerCase()=="submit"))e.disabled=b,!b&&e.type.toLowerCase()=="submit"&&e.setAttribute("type","button")}};window.submitFormToWindow=function(a,b,c){submitFormToWindowRefresh(a,b,c,!1)};window.submitFormToWindowRefresh=function(a,b,c,d){var e=submitFormToWindowRefresh.arguments;e.length==1&&(c="medium");switch(c){case "status":case "small":case "medium":case "":case "large":break;
default:c=null}var b=getPathname()+"?action="+b,e=submitFormToWindowRefresh.arguments,f=e.length;if(f>4)for(var g=3;g<f-1;g++)b+=getParam(a,e[g]);if(!isSubmitted)isSubmitted=!0,a=getCurrentForm(a),a.action=b,d?clarity.uitk.widget.form.FormBuilder.submitForm(a,"ModalRefresh",c):clarity.uitk.widget.form.FormBuilder.submitForm(a,"Modal",c)};window.urlSubmitForm=function(a,b,c){var d=c,e=urlSubmitForm.arguments,f=e.length;if(f>3)for(var g=3;g<f;g++)d+=getParam(a,e[g]);if(!isSubmitted)isSubmitted=!0,a=
getCurrentForm(a),a.action=c,a.encoding=b,clarity.uitk.widget.form.FormBuilder.submitForm(a)};window.navigateTo=function(a,b){var c=getPathname()+"?action="+b,d=navigateTo.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=getParam(a,d[f]);clarity.uitk.service.Navigation.navigate(c)};window.navigateToTarget=function(a,b,c){var c=getPathname()+"?action="+c,d=navigateToTarget.arguments,e=d.length;if(e>3)for(var f=3;f<e;f++)c+=getParam(b,d[f]);clarity.uitk.service.Navigation.navigate(c,clarity.uitk.navigation.NavigationContextManager.getEventContext(),
a,!0)};window.navigateToParentPage=function(a){if(getWindowOpener()==window){var b=clarity.uitk.navigation.NavigationContextManager.getEventContext(),c=clarity.uitk.navigation.NavigationContextManager.getNavigationContext(b),c=clarity.uitk.navigation.NavigationContext.getOpener(c);if(b=="Modal"&&c!=null){var a=getPathname()+"?action="+a,d=navigateToParentPage.arguments,e=d.length;if(e>1)for(var f=1;f<e;f++)a+="&"+d[f];clarity.uitk.service.Navigation.navigate(a,b,c,!0);clarity.uitk.widget.navigation.ModalPopup.close()}}else{if(window.opener){a=
getPathname()+"?action="+a;d=navigateToParentPage.arguments;e=d.length;if(e>1)for(f=1;f<e;f++)a+="&"+d[f];window.opener.document.location=a}window.close()}};window.navigateToURLTarget=function(a,b){var c=b,d=navigateToURLTarget.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=d[f].indexOf("=")!=-1?"&"+d[f].substring(0,d[f].indexOf("="))+"="+escape(d[f].substring(d[f].indexOf("=")+1,d[f].length)):"&"+d[f];clarity.uitk.service.Navigation.navigate(c,clarity.uitk.navigation.NavigationContextManager.getEventContext(),
a,!0)};window.navigateToURLForm=function(a,b){var c=b,d=navigateToURLForm.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=getParam(a,d[f]);closeActiveMenu();clarity.uitk.service.Navigation.navigateForm(c)};window.setParentForm=function(a){_parentForm=getCurrentForm(a)};window.clearParentFields=function(){var a=getWindowOpener(),b=a._parentForm;if(b){var c=clearParentFields.arguments,d=c!=null?c.length:0;if(d>0)for(var e=0;e<d;e++)for(var f=c[e].split(" "),g=f.length,h=0;h<g;h++)clearFormElement(b.name,
getElementObject(a,f[h],b.name));else{a=b.length;for(e=0;e<a;e++)clearFormElement(b.name,b.elements[e])}}};window.clearFields=function(a){var b=clearFields.arguments,c=b.length;if(c>1)for(var d=1;d<c;d++)for(var e=b[d].split(" "),f=e.length,g=0;g<f;g++){var h=e[g];h.indexOf("_browse")!=-1?(h=h.substring(0,h.length-7),clearFormElementBrowse(a,getElementObject("window",h,a))):clearFormElement(a,getElementObject("window",h,a))}else{b=getCurrentForm(a).length;for(d=0;d<b;d++)clearFormElement(a,getCurrentForm(a).elements[d])}};
window.clearFormElementBrowse=function(a,b){if(b!=null&&b.type=="select-multiple")b.length=0};window.clearFormElement=function(a,b){if(b!=null){var c=b.length;if(b.type=="select-multiple")if(b.className.indexOf("autosuggest-mvl-select")>=0)b.options.length=0;else for(c=0;c<b.length;c++)b.options[c].selected=!1;else if(b.type=="select-one")b.options.selectedIndex=0;else if(c>0)for(var d=0;d<c;d++)clearFormElement(a,b[d]);else $(b).data("autocomplete")&&$(b).data("ppm_orig_value",""),(!b.name||!(b.name.indexOf("csrfKey_")!=
-1&&b.type=="hidden"))&&putValue(b,"")}};window.disableFields=function(a){for(var b=disableFields.arguments,c=b.length,d=1;d<c;d++)for(var e=getElementsInDocById("window",b[d],a),f=e.length,g=0;g<f;g++)switch(e[g].readOnly=!0,e[g].className){case "formFieldNoWidth":e[g].className="formFieldDisNoWidth";break;case "formFieldSetWidth":e[g].className="formFieldDisSetWidth"}};window.setField=function(a,b,c){a=getElementObject("window",b,a);putValue(a,c)};window.setHidden=function(a,b){var c=setHidden.arguments,
c=c.length<=2?getElementObject("window",b,a.form.name):getElementObject("window",b,c[2]);a.checked?putValue(c,a.value):putValue(c,"")};window.clearAndHideFields=function(a){var b=clearAndHideFields.arguments,c=b.length;if(c>1)for(var d=1;d<c;d++){var e=getElementObject("window",b[d],a);if(e!=null)e.style.display="none",putValue(e,"")}};window.enableFields=function(a){for(var b=enableFields.arguments,c=b.length,d=1;d<c;d++)for(var e=getElementsInDocById("window",b[d],a),f=e.length,g=0;g<f;g++)switch(e[g].readOnly=
!1,e[g].className){case "formFieldDisNoWidth":e[g].className="formFieldNoWidth";break;case "formFieldDisSetWidth":e[g].className="formFieldSetWidth"}};window.checkAll=function(a,b,c){var d=checkAll.arguments,e=!1,c=getElementsInDocById("window",c,b);if(c!=null){for(var f=c.length,g=0;g<f;g++)c[g].checked||(e=!0);if(d.length>3)switch(d[3]){case "true":case "false":for(b=0;b<f;b++)c[b].checked=d[3];break;default:d=getElementsInDocById("window",d[3],b);for(b=0;b<f;b++)(c[b].checked=e)?putValue(d[b],
c[b].value):putValue(d[b],"")}else for(b=0;b<f;b++)c[b].checked=e;clarity.uitk.widgets.grid.builder.ListViewBuilder.buildListViewFromHeader(a)}};window.checkAllOver=function(a,b){for(var c=!1,d=getCurrentForm(b).elements.length,e=0;e<d;e++)if(getCurrentForm(b).elements[e].type=="checkbox"&&getCurrentForm(b).elements[e].checked==!1){c=!0;break}for(e=0;e<d;e++)if(getCurrentForm(b).elements[e].type=="checkbox")getCurrentForm(b).elements[e].checked=c;clarity.uitk.widgets.grid.builder.ListViewBuilder.buildListViewFromHeader(a)};
window.optionMoveUp=function(a,b){for(var c=getElementInDocById("window",b,a),d=1;d<c.length;d++)if(c.options[d].selected&&d>=0){var e=new Option(c.options[d-1].text,c.options[d-1].value,!1,!1);if(c.options[d-1].attributes.required)e.required="true";var f=new Option(c.options[d].text,c.options[d].value,!1,!0);if(c.options[d].attributes.required)f.required="true";c.options[d-1]=f;c.options[d]=e}};window.optionMoveDown=function(a,b){for(var c=getElementInDocById("window",b,a),d=c.length-1;d>=0;d--)if(c.options[d].selected&&
d<c.length-1){var e=new Option(c.options[d].text,c.options[d].value,!1,!0);if(c.options[d].attributes.required)e.required="true";var f=new Option(c.options[d+1].text,c.options[d+1].value,!1,!1);if(c.options[d+1].attributes.required)f.required="true";c.options[d]=f;c.options[d+1]=e}};window.optionTransfer=function(a,b,c){var d=getElementInDocById("window",b,a),c=getElementInDocById("window",c,a),e=optionTransfer.arguments,f="false";e.length>3&&(f=e[3]);for(e=0;e<d.length;e++){var g=d.options[e],h=
g.attributes.required,h=!h||!h==!1&&h.value!="true"||f=="true";if(g.selected==!0&&h){h=new Option(g.text,g.value,!1,!0);if(g.attributes.required)h.required="true";c.options[c.length]=h}}optionRemove(a,b,null,f)};window.optionRemove=function(a,b,c,d,e,f){b=getElementInDocById("window",b,a);if(!e||e==null||e=="")e=";";if(c&&c!=""&&c!=null)for(var g=getElementInDocById("window",c,a),c=0;c<b.length;c++){var h=b.options[c];h.selected&&(g.value+=h.value+e)}for(c=b.length-1;c>=0;c--)if(h=b.options[c],g=
h.attributes.required,h.selected==!0&&(!g||!g==!1&&g.value!="true"||d==null||d=="true"))b.options[c]=null;if(f&&f!=""&&f!=null){a=getElementInDocById("window",f,a);a.value="";for(c=0;c<b.length;c++)h=b.options[c],h!=null&&(a.value+=h.text+_nameValueDelimiter+h.value+e)}if(b&&b.onchange)b.onchange()};window.submitFormNoAjax=function(a,b){disableFormSubmit(a);var c=getPathname()+"?action="+b,d=submitFormNoAjax.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=getParam(a,d[f]);if(!isSubmitted)isSubmitted=
!0,document.forms[a].action=c,document.forms[a].submit()};window.copySelectionToField=function(a,b,c){for(var b=getElementObject("window",b,a),a=getElementObject("window",c,a),c=b.length,d=0;d<c;d++)if(b.options[d].selected==!0)a.value=b.options[d].value};window.fillSelectWithEmptyValue=function(a){for(var b=fillSelectWithEmptyValue.arguments,c,d=b.length,e=1;e<d;e++)if(c=getElementInDocById("window",b[e],a),c.options.length==0){var f=document.createElement("OPTION");f.text="";f.value="";c.options.add(f)}};
window.optionSelectAll=function(a){for(var b=optionSelectAll.arguments,c,d=b.length,e=1;e<d;e++)if(c=getElementInDocById("window",b[e],a))for(var f=c.options.length,g=0;g<f;g++)c.options[g].selected=!0};window.optionUnSelectAll=function(a){for(var b=optionUnSelectAll.arguments,c,d=b.length,e=1;e<d;e++){c=getElementInDocById("window",b[e],a);for(var f=c.options.length,g=0;g<f;g++)c.options[g].selected=!1}};window.jumpMenu=function(a){for(var b=0;b<a.options.length;b++)if(a.options[b].selected==!0&&
a.options[b].value!=""){var c=a.options[b].value,d=c.indexOf("full_name_wildcard",0);d<0&&(d=c.indexOf("name_wildcard",0));if(d>0){var e=c.indexOf("&",d);e++;d=c.substr(d,e-d);c=c.replace(d,"")}eval(c);if(a.options[b].value.indexOf("Ajax('")==-1)a.options[b].value=""}};window.jumpMenu=function(a){for(var b=0;b<a.options.length;b++)if(a.options[b].selected==!0&&a.options[b].value!=""&&(eval(a.options[b].value),a.options[b].value.indexOf("Ajax('")==-1))a.options[b].value=""};window.closeWindow=function(a){if(clarity!=
null&&clarity.uitk!=null&&clarity.uitk.navigation!=null&&clarity.uitk.navigation.NavigationContextManager!=null){var b=clarity.uitk.navigation.NavigationContextManager.getEventContext();if(b=="Modal"||b=="MNP")getOpenerLocation(b)!=null&&(a=a=="true"||a==!0,b=clarity.uitk.navigation.NavigationContextManager.getNavigationContext(b),clarity.uitk.navigation.NavigationContext.setRefreshOpener(b,a)),clarity.uitk.widget.navigation.ModalPopup.close()}else(a=="true"||a==!0)&&window.opener&&parent.opener.window.location.reload(),
window.close()};window.showHelp=function(a){openWindow("page","union.help","help",a)};window.showHelpURL=function(a){openHelpWindow(a)};window.openNewWindow=function(a,b,c){var d=arguments.length;if(d>3)for(var e=a.form,f=3;f<d;f++)c+=getParam(e?e.name:null,arguments[f]);window.open(c)};window.openGanttWindow=function(a,b,c){var a="#action:",d="",e,f=screen.width-100,g=screen.height-100;navigator.userAgent.toLowerCase().indexOf("msie")!=-1?(e=window.screenLeft,d=window.screenTop,f=$(window).width()-
20,g=$(window).height()-20):(e=window.screenX+20,d=window.screenY+20,f=$(window).width()-40,g=$(window).height()-10);var h="Gantt";a+=b;c!=null&&c.length>0&&(a=c+a);b=b.substr(b.indexOf("&id=")+4,7);h+=b;d="menubar=no,status=no,toolbar=no,location=no,directories=no,scrollbars,resizable,top="+d+",left="+e+",width="+f+",height="+g;closeActiveMenu();b=window.open(encodeURI(a),h,d);b!=null&&focusGanttWindow(b)};window.openGanttPrintWindow=function(a,b,c){a=window.location.href.substring(0,window.location.href.indexOf("#"));
a+=a.indexOf("?")>0?"&print=true#action:":"?print=true#action:";var d="",e,f=screen.width-100,g=screen.height-100;navigator.userAgent.toLowerCase().indexOf("msie")!=-1?(e=window.screenLeft,d=window.screenTop,f=$(window).width()-20,g=$(window).height()-20):(e=window.screenX+20,d=window.screenY+20,f=$(window).width()-40,g=$(window).height()-10);var h="Gantt_Print";a+=b;c!=null&&c.length>0&&(a=c+a);a+="&print=true";b=b.substr(b.indexOf("&id=")+4,7);h+=b;d="menubar=yes,status=no,toolbar=no,location=no,directories=no,scrollbars,resizable,top="+
d+",left="+e+",width="+f+",height="+g;closeActiveMenu();b=window.open(encodeURI(a),h,d);b!=null&&focusGanttWindow(b)};window.closeActiveMenu=function(){if(document.activeElement!=null){var a=document.activeElement.getAttribute("class");if(a!=null&&a.indexOf("ppm_button_menu_item")!=-1&&(a=getMenuNode(document.activeElement,"ppm_toolbar_menu"),a!=null)){var b=getMenuNode(a,"ppm_page_actions");if(b!=null&&(b=b.firstChild,b!=null))for(var c=!1;b!=null&&!c;){var d=b.getAttribute("class");d!=null&&d.indexOf("ppm_toolbar_button")!=
-1?(c=!0,b.setAttribute("style","border-top-color: rgb(232, 235, 242); border-left-color: rgb(232, 235, 242); border-right-color: rgb(232, 235, 242); z-index: auto")):b=b.nextSibling}a.style.display="none"}}};window.getMenuNode=function(a,b){var c=null;if(a!=null&&a.parentNode!=null){var d=a.parentNode,e=d.getAttribute("class");if(e!=null&&e.indexOf(b)!=-1)c=d;else for(d=d.parentNode;d!=null&&c==null;)e=d.getAttribute("class"),e!=null&&e.indexOf(b)!=-1?c=d:d=d.parentNode}return c};window.focusGanttWindow=
function(a){newWindow=a;setTimeout("newWindow.focus()",10)};window.openWindow=function(a,b,c){var d=getPathname()+"?action=",e=openWindow.arguments;e.length==1?(d+=e[0],c="medium"):d+=b;switch(c){case "status":windowName="nikustatus"}b=e.length;if(b>3)for(var f=!1,g=3;g<b;g++)if(e[g]=="____gridEditModeBrowseLookupSrc")f=!0;else if(e[g].indexOf("__")==0){var h=e[g],j=h.substring(2,h.indexOf("=")),h=h.substring(h.indexOf("=")+3,h.length),k=getElementObject("window",h,a);if(k!=null){k=getValue(k);k=
escape(k);if(f){var f=h,m=0;h.charAt(h.length-1)=="]"&&(f=h.substring(0,h.length-1),m=f.substring(f.lastIndexOf("[")+1,f.length),f=f.substring(0,f.lastIndexOf("[")));h=getElementObject("window",f+".original["+m+"]",a);h=getValue(h);escape(h)==k&&(k=getElementObject("window",f+"_hiddenBrowseAttr["+m+"]",a),k=getValue(k),k=escape(k));f=!1}d+="&"+j+"="+k}}else d+=getParam(a,e[g]);a=clarity.uitk.service.Navigation.createNavigationData();clarity.uitk.service.Navigation.putStringData(a,"MODAL_SIZE_KEY",
c);clarity.uitk.service.Navigation.navigate(d,clarity.uitk.navigation.NavigationContextManager.getEventContext(),"Modal",!0,a)};window.openHelpWindow=function(a){var b="";b+=",width=800,height=550,top="+(screen.height-550)/2+",left="+(screen.width-800)/2;closeAllChildWindows();_childWindow=window.open(a,"niku",b);_childWindow.focus()};window.openAttachedWindow=function(a,b,c,d){var e=getPathname()+"?action=",f=openAttachedWindow.arguments,g="",h=-1,j=-1,k="niku";e+=f.length==1?f[0]:c;switch(d){case "datePicker":g=
"status,resizable";h=205;j=190;k="datePicker";break;case "datePickerMediumFont":g="status,resizable";h=215;j=200;k="datePicker";break;case "datePickerLargeFont":g="status,resizable";h=275;j=255;k="datePicker";break;default:g="status,resizable",h=205,j=190}var c=a.srcElement||a.target,d=a.screenX-(a.offsetX||(a.target?a.layerX-a.target.x:0)),a=a.screenY-(a.offsetY||(a.target?a.layerY-a.target.y:0)),m=d+h+c.width>screen.width-20,l=a+j>screen.height-60;m&!l?(d=d-h+6,a=a+c.height+4):l&!m?(d=d+c.width+
2,a=a-j-22):m&l?(d=d-h+6,a=a-j-c.height-24):d=d+c.width+2;g+=",width="+h+",height="+j+",top="+a+",left="+d;h=f.length;if(h>4)for(j=4;j<h;j++)e+=getParam(b,f[j]);closeAllChildWindows();_childWindow=window.open(e,k,g);_childWindow.focus()};window.openWindowURL=function(a,b,c){var d="",e=-1,f=-1,g="niku";switch(c){case "status":g="nikustatus";case "small":d="status,scrollbars,resizable";e=450;f=325;break;case "medium":d="status,scrollbars,resizable";e=550;f=600;break;case "large":d="status,scrollbars,resizable";
e=750;f=475;break;case "help":d="status=yes,toolbar=yes,scrollbars=yes,resizable=yes";break;case "standard":d="status=yes,toolbar=yes,scrollbars=yes,resizable=yes,location=yes,menubar=yes";break;default:d=c}e!=-1&&(d+=",width="+e+",height="+f+",top="+(screen.height-f)/2+",left="+(screen.width-e)/2);a=getElementInDocById("window",b,a);a!=null?(b=getValue(a),b!=""&&(closeAllChildWindows(),_childWindow=window.open(b,g,d))):(closeAllChildWindows(),_childWindow=window.open(b,g,d));_childWindow.focus()};
window.openWindowActionUrl=function(a,b,c){var a="",d="niku";c=="_blank"?(d="_blank",a="status=yes,toolbar=yes,scrollbars=yes,resizable=yes,location=yes,menubar=yes"):c==""&&(d="_self");window.open(b,d,a)};window.getWindowOpener=function(a){var b=arguments.length==0?window:a;if(getServletName()!=_v13ServletContext)b=window.opener;return b};window.setParentArray=function(a){var b=setParentArray.arguments;parentArray.length=0;var c=b.length;if(c>1)for(var d=1;d<c;d++)parentArray[parentArray.length]=
getElementObject("window",b[d],a)};window.putValue2ParentWithContext=function(a,b,c,d){var e=clarity.uitk.navigation.NavigationContextManager.getEventContext(),f=getOpenerLocation(e);clarity.uitk.navigation.NavigationContextManager.setEventContext(f);a.putValue(b,c,d);clarity.uitk.navigation.NavigationContextManager.setEventContext(e)};window.putSelValue2Parent=function(a,b,c){var d=putSelValue2Parent.arguments,e=d.length,f=getElementsInDocById("window",b,a),g=f.length,b=null,h=[],j=[];if(d.length>
3){for(var b=d[e-1],k=2;k<e-1;k++)j[k-2]=getElementsInDocById("window",d[k],a);for(k=0;k<g;k++)if(f[k].checked){c=h.length;h[c]=f[k].value;for(a=0;a<j.length;a++)h[c]+=j[a][k].value}}else{for(k=0;k<g;k++)if(f[k].checked)h[h.length]=f[k].value;b=c}f=getWindowOpener();if(f.parentArray.length>0)for(a=0;a<f.parentArray.length;a++)putValue2ParentWithContext(f,f.parentArray[a],h.join(f._arrayDelimiter),b)};window.putSelValues2Parent=function(a,b,c,d){for(var b=getElementsInDocById("window",b,a),c=getElementsInDocById("window",
c,a),e=b.length,a=[],f=0;f<e;f++)if(b[f].checked)a[a.length]=b[f].value,a[a.length]=":"+c[f].value+"}";b=getWindowOpener();if(b.parentArray.length>0)for(c=0;c<b.parentArray.length;c++)putValue2ParentWithContext(b,b.parentArray[c],a.join(b._arrayDelimiter),d)};window.putSelRow2Parent=function(a,b){for(var c=putSelRow2Parent.arguments,d=c.length,e=[],f=[],g=getElementsInDocById("window",b,a),h=g.length,j=0,k=getWindowOpener(),m=2;m<d;m++){f.length=0;for(var e=getElementsInDocById("window",c[m],a),l=
0;l<h;l++)g[l]!=null&&g[l].checked&&(f[f.length]=getValue(e[l]));k.parentArray.length>0&&j<k.parentArray.length&&(putValue2ParentWithContext(k,k.parentArray[j],f.join(k._arrayDelimiter)),e=$(k.parentArray[j]),e.data("autocomplete")&&e.data("ppm_selectedViaBrowse",!0),j++)}};window.putValues2Parent=function(a){for(var b=putValues2Parent.arguments,c=b.length,d=[],e=0,f=getWindowOpener(),g=1;g<c;g++){d.length=0;for(var d=getElementsInDocById("window",b[g],a),h=[],e=0;e<d.length;e++)if(d[e].type=="checkbox"||
d[e].type=="radio"){if(d[e].checked)h[h.length]=d[e].value}else h[h.length]=d[e].value;e=g-1;f.parentArray.length>0&&e<f.parentArray.length&&(h.length>0?putValue2ParentWithContext(f,f.parentArray[e],h.join(f._arrayDelimiter)):putValue2ParentWithContext(f,f.parentArray[e],""))}};window.putGivenValues2Parent=function(){for(var a=putGivenValues2Parent.arguments,b=0,c=getWindowOpener(),d=1;d<a.length;d++)b=d-1,c.parentArray.length>0&&b<c.parentArray.length&&(c.parentArray[b].length?putValue2ParentWithContext(c,
c.parentArray[b][c.parentArray[b].length-1],a[d]):putValue2ParentWithContext(c,c.parentArray[b],a[d]))};window.putGivenSelectValues2Parent=function(){for(var a=putGivenSelectValues2Parent.arguments,b=[],c=getWindowOpener(),d=1;d<a.length;d++)b[b.length]=a[d];c.parentArray.length>0&&(b.length>0?putValue2ParentWithContext(c,c.parentArray[0],b.join(c._arrayDelimiter)):putValue2ParentWithContext(c,window.opener.parentArray[0],""))};window.openMultiSearchWindow=function(a,b,c,d){var e=b.split(" "),a=location.pathname+
"?action="+a;_fieldArray=[];for(b=0;b<e.length;b++)getElementObject(d,e[b],c)!=null&&(_fieldArray[b]=getElementObject(d,e[b],c));e=openMultiSearchWindow.arguments;if(e.length>4)for(b=4;b<e.length;b++){var f=getElementObject(d,e[b],c);f!=null&&(a+="&"+e[b]+"="+getValue(f))}c=clarity.uitk.service.Navigation.createNavigationData();clarity.uitk.service.Navigation.putStringData(c,"MODAL_SIZE_KEY","medium");clarity.uitk.service.Navigation.navigate(a,clarity.uitk.navigation.NavigationContextManager.getEventContext(),
"Modal",!0,c)};window.closeSearchWindow=function(){clarity.e1.closePopup(!1);_fieldArray=_searchWindow=null};window.submitParentForm=function(a,b){var c=getPathname()+"?action="+b,d=submitParentForm.arguments,e=d.length;if(e>2)for(var f=2;f<e;f++)c+=getParam(a,d[f]);if(!isSubmitted)isSubmitted=!0,getWindowOpener(parent)==parent?(d=clarity.uitk.navigation.NavigationContextManager.getEventContext(),d=clarity.uitk.navigation.NavigationContextManager.getNavigationContext(d),d=clarity.uitk.navigation.NavigationContext.getOpener(d),
e=getCurrentForm(a,d),e.action=c,clarity.uitk.widget.form.FormBuilder.submitForm(e,d)):(e=getWindowCurrentForm(a,parent.opener.window),e.action=c,e.submit())};window.getOpenerLocation=function(a){a=clarity.uitk.navigation.NavigationContextManager.getNavigationContext(a);return clarity.uitk.navigation.NavigationContext.getOpener(a)};window.refreshParentWindow=function(a){var b=clarity.uitk.navigation.NavigationContextManager.getEventContext(),b=getOpenerLocation(b);(a=="true"||a==!0)&&b!=null&&clarity.uitk.service.Navigation.refreshLocation(b)};
window.openURLWindow=function(a,b,c){switch(c){case "datePicker":c="status,resizable,width=185,height=185";break;case "small":c="status,scrollbars,resizable,width=450,height=325";break;case "medium":c="status,scrollbars,resizable,width=550,height=600";break;case "large":c="status,scrollbars,resizable,width=750,height=475";break;default:c=""}a=getElementInDocById("window",b,a);a=getValue(a);a!=""&&(closeAllChildWindows(),_childWindow=window.open(a,"niku",c),_childWindow.focus())};window.closeAllChildWindows=
function(){try{_searchWindow&&_searchWindow.open&&!_searchWindow.closed&&_searchWindow.close(),_childWindow&&_childWindow.open&&!_childWindow.closed&&_childWindow.close()}catch(a){}};window.showHideElementByOrCondition=function(a,b,c){for(var b=getElementInDocById("window",b,a),d=showHideElementByOrCondition.arguments,e=d.length-3,f=0;f<b.length;f++)if(b.options[f].selected){var g=b.options[f].value;if(e>0)for(var h=0;h<e;h++)if(d[h+3]==g){showElement(a,c);return}}hideElement(a,c)};window.showHideElementByNotAndCondition=
function(a,b,c){for(var b=getElementInDocById("window",b,a),d=showHideElementByNotAndCondition.arguments,e=d.length-3,f=0;f<b.length;f++)if(b.options[f].selected){var g=b.options[f].value;if(e>0)for(var h=0;h<e;h++)if(d[h+3]==g){hideElement(a,c);return}}showElement(a,c)};window.showElement=function(a,b){getElementInDocById("window",b,a).parentNode.parentNode.style.display=""};window.hideElement=function(a,b){getElementInDocById("window",b,a).parentNode.parentNode.style.display="none"};window.toggleSection=
function(a){document.getElementById(a).style.display=="none"?document.getElementById(a).style.display="block":document.getElementById(a).style.display="none"};window.showAndPositionSection=function(a,b){if(document.getElementById(b)!=null&&document.getElementById(a)!=null)document.getElementById(a).style.position="absolute";showSection(a)};window.showSection=function(a){if(document.getElementById(a)!=null)document.getElementById(a).style.display="block"};window.hideSection=function(a){if(document.getElementById(a)!=
null)document.getElementById(a).style.display="none"};window.hideMenuOverflow=function(a){document.getElementById(a)!=null&&(hideSection(a),visibleFlyoutDivs.pop())};window.hideSectionOnFocusOut=function(a,b){a=a?a:window.event?event:null;a.srcElement.id==b&&hideSection(b)};window.displaySection=function(a,b){if((a=a?a:window.event?event:null)&&a.keyCode==68)showSection(b),a.stopPropagation&&a.stopPropagation()};window.actionIfKey=function(a,b,c){(a=a?a:window.event?event:null)&&a.keyCode==b&&eval(c)};
window.documentExport=function(a){var b=documentExport.arguments,c=b.length;if(c>1)for(var d=1;d<c;d++)a+=b[d].indexOf("=")!=-1?"&"+b[d].substring(0,b[d].indexOf("="))+"="+escape(b[d].substring(b[d].indexOf("=")+1,b[d].length)):"&"+b[d];clarity.uitk.exportToFile(a)};window.rowLayoutTransfer=function(a,b,c){b=getElementInDocById("window",b,a);a=getElementInDocById("window",c,a);for(c=0;c<b.length;c++)if(b.options[c].selected){var d=new Option(b.options[c].text,b.options[c].value,!1,!0),e=new Option(a.options[c].text,
a.options[c].value,!1,!1);b.options[c]=e;a.options[c]=d}else a.options[c].selected=!1};window.updatePercentageLabels=function(a,b,c,d){b=getElementInDocById("window",b,a);c=getElementInDocById("window",c,a);a=getElementInDocById("window",d,a);for(d=0;d<b.length;d++){var e=(b[d].value==-1?0:1)+(c[d].value==-1?0:1)+(a[d].value==-1?0:1);if(e>0){e="("+Math.floor(100/e)+"%)";if(b[d].value!=-1)b[d].text=updatePercentageLabel(b[d].text,e);if(c[d].value!=-1)c[d].text=updatePercentageLabel(c[d].text,e);if(a[d].value!=
-1)a[d].text=updatePercentageLabel(a[d].text,e)}}};window.callFunction=function(a,b){for(var c=a+"(",d=0;d<b.length;d++)d>0&&(c+=","),c+="'"+b[d]+"'";c+=")";eval("("+c+")")};window.updatePercentageLabel=function(a,b){return a.substring(0,a.lastIndexOf("("))+b}});
var isIE=navigator.userAgent.toLowerCase().indexOf("msie")>=0,ELEMENT_NODE=1,_v13ServletContext="nu",autoSuggestIdPrefix="uixsl-autosuggest-location-",parentArray=[],isSubmitted=!1,windowObject,_pageId="npt.personal",_arrayDelimiter="~:~",_originalArrayDelimiter=_arrayDelimiter,_nameValueDelimiter="^=^",_minSelectOptions=2,_maxSelectOptions=5;
define("uitk/js/legacy/common",[],function(){window.setArrayDelimiter=function(a){_arrayDelimiter=a};window.clearArrayDelimiter=function(){_arrayDelimiter=_originalArrayDelimiter};window.isArray=function(a){return typeof a=="object"?/array/i.test(a.constructor.toString()):!1};window.removeItemFromArray=function(a,b){var c=[];if(a)for(var d=0;d<a.length;d++)a[d]!=b&&c.push(a[d]);return c};window.getPathname=function(){var a=location.pathname;return a.substring(a.lastIndexOf("\\")+1,a.length)=="app"?
location.pathname:a.substring(0,a.lastIndexOf("\\")+1)+"app"};window.getParam=function(a,b){var c;if(b.indexOf("=")!=-1)c="&"+b.substring(0,b.indexOf("="))+"="+encodeURIComponent(b.substring(b.indexOf("=")+1,b.length));else if(b.length==0)c="";else{c="&"+b;var d=getElementObject("window",b,a);d!=null&&(d=getValue(d),d=escape(d),c+="="+d)}return c};window.getElementObject=function(a,b,c){return b.indexOf("[")!=-1&&b.indexOf("]")!=-1?(startCap=b.indexOf("["),endCap=b.indexOf("]"),elementId=b.substring(0,
startCap),elementIndex=b.substring(startCap+1,endCap),a=getElementsInDocById(a,elementId,c),a!=null&&a.length>=elementIndex?a[elementIndex]:null):(a=getElementsInDocById(a,b,c),a==null?null:a.length>1?a:a[0])};window.getElementInDocById=function(a,b,c){a=eval(a);if(a==b)return a;c=getWindowCurrentForm(c,a);if(!c)return null;if(c.name==b)return c;for(var a=c.elements.length,d=0;d<a;d++)if(c.elements[d].name==b)return c.elements[d];return null};window.getElementsInDocById=function(a,b,c){var d=eval(a),
a=[];if(d==b)return d;var e=getWindowCurrentForm(c,d);if(!e)return null;if(e.name==b)return e;for(var f=e.elements.length,c=0;c<f;c++)e.elements[c].name==b&&(a[a.length]=e.elements[c]);if(a.length>0)return a;else if(d.document.all)if(b=d.document.getElementsByName(b),b!=null&&b.length==null)a[a.length]=b;else{if(b!=null)for(c=0;c<b.length;c++)a[a.length]=b[c]}else a[a.length]=d.document.getElementById(b);return a.length>0?a:null};window.getValue=function(a){a=a.length&&!a.type?a[0]:a;switch(a.type){case "button":case "hidden":case "password":case "reset":case "submit":case "text":case "textarea":case "file":case "radio":return a.value;
case "checkbox":return a.checked.toString();case "select-one":if(a.selectedIndex!=-1)return a.options[a.selectedIndex].value;break;case "select-multiple":for(var b=[],c=0;c<a.options.length;c++)if(a.options[c].selected==!0)b[b.length]=a.options[c].value;return b.join(_arrayDelimiter)}};window.putValue=function(a,b,c){if(a)switch(a.length&&!a.type?a[0].type:a.type){case "file":a.value=b;break;case "hidden":case "password":case "text":c==!0?a.value+=b:a.value=b;if(a.onchange)a.onchange();break;case "textarea":a.value+=
b;if(a.onchange)a.onchange();break;case "checkbox":case "radio":if(a.length)for(var d=0;d<a.length;d++)if(b!="")if(a[d].value==b&&a[d].defaultChecked==!0)a[d].checked=0;else{if(a[d].value==b&&a[d].defaultChecked==!1)a[d].checked=1}else a[d].checked=0;else if(b!=""){if(a.value==b)if(a.value==b&&a.checked==!0)a.checked=!1;else if(a.value==b&&a.checked==!1)a.checked=!0}else a.checked=0;break;case "select-one":case "select-multiple":if(b=="")a.selectedIndex=-1;else{c=[];c=isArray(b)?b:b.split(_arrayDelimiter);
for(b=0;b<c.length;b++){var e=-1,d=null;c[b].indexOf(_nameValueDelimiter)!=-1?d=_nameValueDelimiter:c[b].indexOf("=")!=-1&&(d="=");var f=null,g=null;d==null?(f=c[b],g=c[b]):(d=c[b].split(d),f=d[0],g=d[1]);for(d=0;d<a.length;d++)if(a.options[d].value==g)e=d,a.options[d].selected=!0;e==-1&&a.add(new Option(f,g,!1,!0),null)}}c=a.length;c<_minSelectOptions?c=_minSelectOptions:c>_maxSelectOptions&&(c=_maxSelectOptions);a.size=c;if(a.onchange)a.onchange()}};window.handleEnter=function(a,b,c){if((a.keyCode?
a.keyCode:a.which?a.which:a.charCode)==13)if(a=getElementInDocById("window",b,c),a!=null)return a.click(),!1;return!0};window.setMultiSelectSize=function(a){var b=a.options.length;a.size=b<_minSelectOptions?_minSelectOptions:b>_maxSelectOptions?_maxSelectOptions:b;clarity!=null&&clarity.uitk!=null&&clarity.uitk.navigation!=null&&clarity.uitk.navigation.NavigationContextManager!=null&&(a=clarity.uitk.navigation.NavigationContextManager.getEventContext(),clarity.uitk.grid.rebuildHeaders(a))};window.resizeMultiBrowseParent=
function(a){for(var b=resizeMultiBrowseParent.arguments,c=b.length,d=1;d<c;d++)if(selectObject=getElementInDocById("window",b[d],a),selectObject.clientWidth&&selectObject.offsetWidth){selectObject.size=3;var e=0;if(selectObject.nextSibling)e=selectObject.nextSibling.offsetWidth;selectObject.parentNode.style.width=selectObject.offsetWidth+e+7+"px"}};window.taLimit=function(a,b){if(a.value.length>0&&b>0&&a.value.length>b)a.value=a.value.substring(0,b)};window.cancelEvent=function(a){window.event?a.cancelBubble=
!0:a&&a.stopPropagation&&a.stopPropagation()};window.submitActionexternallink=function(){clarity.uitk.widgets.objectactions.listener.ExternalLinkObjectActionListener.submitActionexternallink(arguments)};window.submitActioninternallink=function(){clarity.uitk.widgets.objectactions.listener.InternalLinkObjectActionListener.submitActioninternallink(arguments)};window.submitActionGanttinternallink=function(){clarity.uitk.widgets.objectactions.listener.GanttInternalLinkObjectActionListener.submitActioninternallink(arguments)};
window.submitActionprocess=function(){clarity.uitk.widgets.objectactions.listener.ProcessObjectActionListener.submitActionprocess(arguments)};window.submitActionjob=function(){clarity.uitk.widgets.objectactions.listener.JobObjectActionListener.submitActionjob(arguments)};window.submitActionreport=function(){clarity.uitk.widgets.objectactions.listener.ReportObjectActionListener.submitActionreport(arguments)};window.getServletName=function(){var a=location.pathname,b=a.lastIndexOf("/")+1;return a.substring(b,
a.length)};window.doOnSubmit=function(a,b){return a.action==b||getServletName()==_v13ServletContext?!1:!0};window.lookupAutosuggestObj=function(a,b){var c,d,e=setupMatchString(b);if(a.displayValues&&a.displayValues.results&&a.displayValues.results.length>1){d=a.displayValues.results[0];c=a.displayValues.results[0].replace(RegExp(e,"gi"),function(a){return"<b>"+a+"</b>"});for(var f=1;f<a.displayValues.results.length;f++)d+=" | "+a.displayValues.results[f],c+=" | "+a.displayValues.results[f].replace(RegExp(e,
"gi"),function(a){return"<b>"+a+"</b>"})}else if(a.displayValues&&a.displayValues.string&&a.displayValues.string.length>1){d=a.displayValues.string[0];c=a.displayValues.string[0].replace(RegExp(e,"gi"),function(a){return"<b>"+a+"</b>"});for(f=1;f<a.displayValues.string.length;f++)d+=" | "+a.displayValues.string[f],c+=" | "+a.displayValues.string[f].replace(RegExp(e,"gi"),function(a){return"<b>"+a+"</b>"})}else d=a.labelAttribute,c=a.labelAttribute.replace(RegExp(e,"gi"),function(a){return"<b>"+a+
"</b>"});this.label=c;this.value=a.labelAttribute;this.key=a.keyAttribute;this.hint=d;this.selectable=!0};window.obsLookupAutosuggestObj=function(a,b){var c=setupMatchString(b);this.label=a.path.replace(RegExp(c,"gi"),function(a){return"<b>"+a+"</b>"});this.value=this.hint=a.path;this.key=a.unitId;this.typeId=a.typeId;this.entity=a.entity;this.entityDescription=a.entityDescription;this.obsDepartmentId=a.obsDepartmentId;this.selectable=!0};window.setupMatchString=function(a){a=a.replace(RegExp("\\*",
"gi"),function(){return".*"});a=a.replace(RegExp("%","gi"),function(){return".*"});return a=a.replace(RegExp("\\\\","gi"),function(){return"\\\\"})};window.lookupAutosuggestMaxMessageObj=function(a){this.value=this.label=a;this.key="";this.selectable=!1};window.isLookupAutoSuggestDataValid=function(a){return a!=null&&a.d!=null&&a.d.lookupSuggestions!=null&&a.d.lookupSuggestions.results!=null};window.isOBSLookupAutoSuggestDataValid=function(a){return a!=null&&a.d!=null&&a.d.lookupSuggestions!=null&&
a.d.lookupSuggestions.results!=null};window.lookupAutosuggest=function(a,b,c,d,e,f,g,h){setupAutoComplete(a,b,c,d,e,f,g,h,handleSingleAutoSuggestSelect(a,d,e,!1),autoSuggestSuccess,getAutosuggestDataStringPrefix(b,c),getAutosuggestDataStringSuffix(b,c),"GetSuggestionsForLookup")};window.lookupMultiAutosuggest=function(a,b,c,d,e,f,g,h,j){setupAutoComplete(j,b,c,d,e,f,g,h,handleMultiAutoSuggestSelect(d,e,!1),autoSuggestSuccess,getAutosuggestDataStringPrefix(b,c),getAutosuggestDataStringSuffix(b,c),
"GetSuggestionsForLookup")};window.obsAutosuggest=function(a,b,c,d,e,f,g,h){setupAutoComplete(a,b,c,d,e,f,g,h,handleSingleAutoSuggestSelect(a,d,e,!1),obsAutoSuggestSuccess,getOBSAutosuggestDataStringPrefix(b,c,"false"),getOBSAutosuggestDataStringSuffix(b,c,"false"),"GetSuggestionsForOBSLookupByOBSType")};window.obsFilterAutosuggest=function(a,b,c,d,e,f,g,h){setupAutoComplete(a,b,c,d,e,f,g,h,handleSingleAutoSuggestSelect(a,d,e,!0),obsAutoSuggestSuccess,getOBSAutosuggestDataStringPrefix(b,c,"false"),
getOBSAutosuggestDataStringSuffix(b,c,"false"),"GetSuggestionsForOBSLookupByOBSType")};window.obsMultiFilterAutosuggest=function(a,b,c,d,e,f,g,h,j){setupAutoComplete(j,b,c,d,e,f,g,h,handleMultiAutoSuggestSelect(d,e,!0),obsAutoSuggestSuccess,getOBSAutosuggestDataStringPrefix(b,c,"false"),getOBSAutosuggestDataStringSuffix(b,c,"false"),"GetSuggestionsForOBSLookupByOBSType")};window.obsDepartmentAutosuggest=function(a,b,c,d,e,f,g,h,j){setupAutoComplete(a,b,c,d,e,f,g,h,handleOBSDepartmentAutoSuggestSelect(a,
d,j,e),obsAutoSuggestSuccess,getOBSAutosuggestDataStringPrefix(b,c,"true"),getOBSAutosuggestDataStringSuffix(b,c,"true"),"GetSuggestionsForOBSLookupByOBSType")};window.getAutosuggestDataStringPrefix=function(a){return'{"LookupType": "'+a+'"'};window.getAutosuggestDataStringSuffix=function(a,b){return', "ParameterValues": "'+b+'"'};window.getOBSAutosuggestDataStringPrefix=function(a,b){return'{"ObjectCode": "'+b+'"'};window.getOBSAutosuggestDataStringSuffix=function(a,b,c){b=', "IsDepartment": "'+
c+'"';b+=a&&a!=null&&a!=""?', "TypeId": "'+a+'"':', "TypeId": "-1"';return b};window.autoSuggestSuccess=function(a,b,c){return function(d){c.data("ppm_selectedViaBrowse",!1);var e=[];isLookupAutoSuggestDataValid(d)?(c.autocomplete("option","autoFocus",!0),$(d.d.lookupSuggestions.results).each(function(){e.push(new lookupAutosuggestObj(this,a))}),d.d.suggestionSettings.maxSuggestionsMessage!=null&&d.d.suggestionSettings.maxSuggestionsMessage!=""&&e.push(new lookupAutosuggestMaxMessageObj(d.d.suggestionSettings.maxSuggestionsMessage))):
(c.autocomplete("option","autoFocus",!1),e.push(new lookupAutosuggestMaxMessageObj("<b>["+clarity.app.userBundles.uitk["No results match"]+"]</b>")));b(e)}};window.obsAutoSuggestSuccess=function(a,b,c){return function(d){c.data("ppm_selectedViaBrowse",!1);c.autocomplete("option","autoFocus",!0);var e=[];isOBSLookupAutoSuggestDataValid(d)?($(d.d.lookupSuggestions.results).each(function(){e.push(new obsLookupAutosuggestObj(this,a))}),d.d.maxSuggestionsMessage!=null&&d.d.maxSuggestionsMessage!=""&&e.push(new lookupAutosuggestMaxMessageObj(d.d.maxSuggestionsMessage))):
(c.autocomplete("option","autoFocus",!1),e.push(new lookupAutosuggestMaxMessageObj("<b>["+clarity.app.userBundles.uitk["No results match"]+"]</b>")));b(e)}};window.handleSingleAutoSuggestSelect=function(a,b,c,d){return function(e,f){var g=getElementObject("window",b,c);if(g)if(d){if(f.item)g.value=f.item.typeId+":"+f.item.key}else if(f.item)g.value=f.item.key;f.item&&$("#"+a).val(f.item.value);if(g&&g.onchange)g.onchange();return!1}};window.handleOBSDepartmentAutoSuggestSelect=function(a,b,c,d){return function(e,
f){$("#"+a).value=f.item.value;var g=getElementObject("window",b,d);if(g)g.value=f.item.key;if(g=getElementObject("window",c,d))g.value=f.item.key}};window.handleMultiAutoSuggestSelect=function(a,b,c){return function(d,e){var f=getElementInDocById("window",a,b);if(f){var g=e.item.key;c&&(g=e.item.typeId+":"+g+"::"+e.item.value);for(var h=!0,j=0;j<f.options.length;j++)f.options[j].value==g&&(h=!1);if(h&&(g=new Option(e.item.value,g,!1,!1),f.add(g,null),f.onchange))f.onchange()}e.item.value=""}};window.setupAutoComplete=
function(a,b,c,d,e,f,g,h,j,k,m,l,o){var n=$("#"+a),a=clarity.uitk.navigation.NavigationContextManager.getEventContext(),a=autoSuggestIdPrefix+a;$("#"+a).length<1&&$('<div id="'+a+'"/>').appendTo("#ppm_workspace");b=n.attr("readonly");b!=null&&b.toString()=="false"&&n.removeAttr("readonly");setTimeout(function(){n.data("ppm_orig_value",n.val())},30);n.autocomplete({close:function(a){a.which=="27"&&a.stopImmediatePropagation()},source:function(a,b){var d=processDataString(m,a.term,l,c,e);$.ajax({url:h+
"/odata/"+o,type:"POST",contentType:"text/plain",data:d,success:k(a.term,b,n),dataType:"json"})},select:j,noCache:!0,autoFocus:!0,appendTo:"#"+a,delay:f,position:{my:"left top",at:"left bottom",collision:"none flip"},minLength:g}).bind("blur",function(a){var b=$(this),c=b.data("autocomplete"),f=RegExp("^"+$.ui.autocomplete.escapeRegex(b.val())+"$","i");c.widget().children(".ui-menu-item").each(function(){var a=$(this).data("item.autocomplete");if(f.test(a.label)||f.test(a.value)||f.test(a))c.selectedItem=
a});var g=getElementObject("window",d,e);if(c.selectedItem||b.data("ppm_selectedViaBrowse"))c._trigger("select",a,{item:c.selectedItem}),g.type=="select-multiple"&&(a=n.data("ppm_orig_value"),b.val(a).attr("value",""));else if(b.val()=="undefined"||b.val()=="")g.type!="select-multiple"&&clearFormElement(e,g);else{a=n.data("ppm_orig_value");if(a==null||a=="undefined")a="";b.val(a).attr("value",a)}}).data("autocomplete")._renderItem=renderAutoSuggestItem};window.doAutoSuggestRenderMenu=function(a){this._renderMenu(this.menu.element.empty().zIndex(this.element.zIndex()+
1),a);this.menu.deactivate();this.menu.refresh();this.menu.element.show();this.menu.element.position($.extend({of:this.element},this.options.position));this._resizeMenu()};window.processDataString=function(a,b,c,d,e){if(d.indexOf("__")>-1){c=c.substring(0,c.length-1);for(d=d.substring(d.indexOf("__"),d.length);d.indexOf("__")>-1;){var f=d.substring(2,d.indexOf("=")),g;d.indexOf(":")>-1?(g=d.substring(d.indexOf("=")+3,d.indexOf(":")),d=d.substring(d.indexOf(":")+1,d.length)):(g=d.substring(d.indexOf("=")+
3,d.length),d="");g=getElementObject("window",g,e);g!=null&&(g=getValue(g),g=escape(g),c+=":"+f+"="+g)}c+='"'}return a+', "SearchString": "'+encodeURIComponent(b)+'"'+c+"}"};window.renderAutoSuggestItem=function(a,b){var c=parseInt(a.zIndex());(isNaN(c)||c<11110)&&a.zIndex("11110");return b.selectable?$('<li><a class=autosuggest-item alt="'+b.hint+'" title="'+b.hint+'" role="menuitem">'+b.label+"</a></li>").data("item.autocomplete",b).appendTo(a):$('<li><div class="autosuggest-item-non-selectable" role="menuitem" style="display: inline">'+
b.label+"</div></li>").data("item.autocomplete",b).appendTo(a)};window.fireEnterEvent=function(a){if(document.createEventObject){var b=document.createEventObject();b.keyCode=13;a.fireEvent("onkeydown",b)}else b=document.createEvent("KeyboardEvent"),b.initKeyEvent("keypress",!0,!0,window,0,0,0,0,0,"e".charCodeAt(0)),a.dispatchEvent(b);return!1}});
define("uitk/js/legacy/lookupManagement",[],function(){var a=[,"ff","ee","dd","cc","bb","aa","99"],b=0;window.clearBrowseField=function(a,b,e){var f=a.getAttributeNode("name").nodeValue,g=!1;a.elements[e]!=null&&a.elements[e].value!=null&&a.elements[e].value.length!=0&&(g=!0,clearFormElement(a,a.elements[e]));a.elements[b]!=null&&a.elements[b].value.length!=0&&clearFormElement(a,a.elements[b]);g&&LookupFade(7,f,e)};window.clearMultiBrowseField=function(a,b,e,f){var g=a.getAttributeNode("name").nodeValue,
h=!1;a.elements[e][f]!=null&&a.elements[e][f].value!=null&&a.elements[e][f].value.length!=0&&(h=!0,clearFormElement(a,a.elements[e][f]));a.elements[b][f]!=null&&a.elements[b][f].value.length!=0&&clearFormElement(a,a.elements[b][f]);h&&MultiLookupFade(7,g,e,f)};window.clearParamLkFields=function(a,b){var e=!1,f=a.getAttributeNode("name").nodeValue;a.elements[b].value!=null&&a.elements[b].value!=""?e=!0:a.elements[b]&&clearFormElement(a,a.elements[b]);e&&LookupFade(7,f,b)};window.LookupFade=function(b,
d,e){if(b>=1){getCurrentForm(d).elements[e].style.backgroundColor="#FFFF"+a[b];if(b==1)getCurrentForm(d).elements[e].style.backgroundColor="#FFFFFF";b--;setTimeout("LookupFade("+b+",'"+d+"','"+e+"')",300)}};window.MultiLookupFade=function(b,d,e,f){if(b>=1){getCurrentForm(d).elements[e][f].style.backgroundColor="#FFFF"+a[b];if(b==1)getCurrentForm(d).elements[e][f].style.backgroundColor="#FFFFFF";b--;setTimeout("MultiLookupFade("+b+",'"+d+"','"+e+"', "+f+")",300)}};window.lookupChange=function(a,d,
e,f,g){var h=[],j=a.getAttributeNode("name").nodeValue;if(a.elements[d].type=="hidden")clearBrowseField(a,d,d+"_text");else if(a.elements[d].type=="select-multiple")clearBrowseField(a,d,d);else{for(i=0;i<a.elements.length;i++){var k=a.elements[i];if(k.type=="text"||k.type=="select"||k.type=="select-one"||k.type=="hidden"){var m;m=k.type=="text"||k.type=="hidden"?k.value:k.options[k.selectedIndex].value;h.push(k.name);h.push(escape(m))}}h.push("lookupAttribute");h.push(d);h.push("sourceFormName");
h.push(j);h.push("lookupType");h.push(e);h.push("odf_pk");h.push(f);h.push("odf_code");h.push(g);a="";for(d=0;d<h.length;d+=2)a+=h[d],a+="=",a+=h[d+1],d+2<h.length&&(a+="&");(new LookupChangeCall(++b,"app?action=odf.getLookupValues&RhXm0r7tSeUqEr=true",a)).call()}};window.lookupGridChange=function(a,d,e,f,g,h){var j=[],k=a.getAttributeNode("name").nodeValue;if(a.elements[d][h]==void 0)lookupChange(a,d,e,f,g);else if(a.elements[d][h].type=="hidden")clearMultiBrowseField(a,d,d+"_text",h);else if(a.elements[d][h].type==
"select-multiple")clearMultiBrowseField(a,d,d,h);else{for(i=0;i<a.elements.length;i++){var m=a.elements[i];if(m.type=="text"||m.type=="select"||m.type=="select-one"||m.type=="hidden"){var l;l=m.type=="text"||m.type=="hidden"?m.value:m.options[m.selectedIndex].value;j.push(m.name);j.push(escape(l))}}j.push("lookupAttribute");j.push(d[h]);j.push("sourceFormName");j.push(k);j.push("lookupType");j.push(e);j.push("odf_pk");j.push(f);j.push("odf_code");j.push(g);a="";for(d=0;d<j.length;d+=2)a+=j[d],a+=
"=",a+=j[d+1],d+2<j.length&&(a+="&");(new LookupChangeCall(++b,"app?action=odf.getLookupValues&RhXm0r7tSeUqEr=true",a)).call()}};window.LookupChangeCall=function(a,b,e){var f=this;this.formParams=e;this.req=createAjaxCaller();this.req.onreadystatechange=function(){doCallBack(f)};this.url=b;this.id=a;this.call=function(){if(this.req&&this.req.readyState!=0)this.req.abort(),this.req.onreadystatechange=null,this.req=createAjaxCaller(),this.req.onreadystatechange=function(){doCallBack(this)};isIE?this.req.open("POST",
this.url,!0):this.req.open("POST",this.url,!1);this.req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this.req.send(this.formParams);isIE||innerWorkings(this.req)};doCallBack=function(a){a.callback()};this.callback=function(){this.req.readyState==4&&(this.req.status==200?innerWorkings(this.req):navigateToPage("union.internalServerError"))}};window.innerWorkings=function(a){if(a.responseXML!=null){var b=a.responseXML.getElementsByTagName("ajax")[0].getElementsByTagName("lookupChange")[0],
a=b.getAttribute("lookupAttribute"),e=b.getAttribute("sourceFormName"),f=getCurrentForm(e).elements[a],g="";if(f.options[f.selectedIndex]!=null)g=f.options[f.options.selectedIndex].value;var h=[];if(f.options[0].value=="")h.push(f.options[0]),h[0].defaultSelected=!0;for(var b=b.getElementsByTagName("lookupValue"),j=0;j<b.length;j++)label=b[j].getAttribute("label"),value=b[j].getAttribute("value"),h.push(new Option(label,value));for(b=1;b<h.length;b++)if(h[b].value==g)h[b].selected=!0;for(g=f.options.length=
0;g<h.length;g++)f.options[g]=h[g];LookupFade(7,e,a);if(f.onchange!=null)f.onchange()}else navigateToPage("security.sessionExpired")}});
define("uitk/js/legacy/rpt_launch",[],function(){window.launchReportUsingFormField=function(){var a;try{a=getElementInDocById("window","reportUrl","page")}catch(b){}if(a){var c=getValue(a);putValue(a,"");a="";for(var d=0;d<c.length;d++){var e=c.charAt(d);a+=e=="|"?"&":e}a&&a.length>0&&launchreports(a)}};window.launchreports=function(a){var b=window.open("",null,"status,toolbar,scrollbars,resizable,location,width=760,height=540"),c=a.lastIndexOf("&logOffUrl");if(c>0){logOffUrl=a.substring(c+11);a=
a.substring(0,c);a="<iframe id='rptFrame' src='"+logOffUrl+"' style='visibility:hidden' onload='window.location=\""+a+"\"'></iframe>";try{var d=b.document.createElement(a);b.document.body.appendChild(d)}catch(e){b.document.body.innerHTML=a}}else b.location=a;b.focus()}});
define("uitk/js/login",["jquery","uif/js/clarity","uitk/js/shell"],function(a,b){b.uitk.login=b.uitk.login||{render:function(c){a("html").attr("lang",b.session.lang);b.uitk.shell.setIFrameAttrs();var d=b.app.id&&b.app.id=="nsa";b.util.removeCss("clarity_sr");b.uitk.shell.resetGlobals();document.title=window.clarity.app.productName;for(var d='<img src="ui/uitk/images/wait_header.gif" id="ppm_header_wait" style="display: none;position:absolute; top: 10px; right: 10px" alt="wait"/><table class="ppm_login_abs_center" role="presentation"><tr><td align="center"><table><tr><td id="ppm_login_message_top"><span/></td></tr></table> <table role="presentation"><tr><td align="left">   <div style="margin: 0px 0px 9px 5px;"><img src="'+
b.uitk.SPACER_SRC+'" id="ppm_login_logo" style="margin: auto; vertical-align: middle" alt="CA"/><span class="ppm_login_product">'+c.product+(d?" - CSA":"")+'</span></div>   <form name="page" type="form" onsubmit="return false;" method="POST" autocomplete="off" action="'+b.uitk.SERVLET+'">   <table class="ppm_login_box" role="presentation">    <tr><td colspan="2"><h1 class="ppm_login_title">'+c.labels.login+"</h1></td></tr>"+(d?"":'    <tr><td class="ppm_login_field_label"><label for="ppm_login_username">'+
c.labels.username+'</label></td><td><input type="text" id="ppm_login_username" name="userName" size="40" maxlength="240"/></td></tr>')+'    <tr><td class="ppm_login_field_label" style="padding-top: 22px"><label for="ppm_login_password">'+c.labels.password+'</label></td><td style="padding-top: 22px"><input type="password" id="ppm_login_password" name="passWord" size="40" maxlength="80"/></td></tr>    <tr><td/><td class="ppm_login_msg"> <div id="ppm_login_msg_aria_live"  role="alert" aria-live="rude" aria-atomic="true"> </div> ',
e=c.hidden&&c.hidden.length?c.hidden.length:0,f=0;f<e;f++)c.hidden[f].v&&(d+='<input type="hidden" name="'+c.hidden[f].n+'" value="'+c.hidden[f].v+'"/>');d+='    </td></tr>    <tr><td colspan="2" style="position: relative"><input type="button" id="ppm_login_button" value="'+c.labels.login+'"/></td></tr>   </table>   </form>   <div class="ppm_login_copyright">'+c.copyright+'</div> </td></tr></table><table><tr><td id="ppm_login_message_bottom"><span/></td></tr></table></td></tr></table>';a("#ppm_app").html(d);
d=a(".ppm_login_box");d.css("width",d.width()+"px");for(var e=c.msgs&&c.msgs.length?c.msgs.length:0,f=0;f<e;f++)c.msgs[f].v&&a("#ppm_login_msg_aria_live").append("<div>"+c.msgs[f].v+"</div>");var g=a("#ppm_login_button");a("#ppm_login_username").focus();a("#ppm_login_password").keypress(function(a){b.handleEnter(a,g)});a("#ppm_login_button").click(function(){a("#ppm_header_wait").show();submitForm("page","security.loginAction")})},loginRedirect:function(a){if(typeof a=="string"){var d=a.indexOf("<\!-- //start_json_context:");
if(d>=0){var e=a.indexOf("//end_json_context --\>"),a=a.substring(d+26,e),a=eval("("+a+")");if(a!=null&&a.page!=null&&a.page.login!=null)return b.uitk.login.render(b.uitk.login.getLoginOpt(a.page.login)),!0}}return!1}}});
define("uitk/js/uitk",["jquery","uif/js/clarity","uitk/js/button","uitk/js/legacy","uitk/js/log","uitk/js/login","uitk/js/shell","uitk/js/ubermenu"],function(a,b){var c=0;b.uitk.xhr=function(c,e){if(c&&c.url){var f=b.util.extend({type:"POST",dataType:"json",cache:!1,contentType:"text/plain; charset=UTF-8",processData:!1,success:function(){},error:function(a){switch(a.status){case 403:case 408:b.uitk.service.Navigation.refreshLocation("Workspace")}}},c),g=f.success;f.success=function(c){b.uitk.login.loginRedirect(c)||
g.apply(null,[c]);e&&a("#ppm_header_wait").hide()};e&&a("#ppm_header_wait").show();a.ajax(f)}};b.uitk.exportToFileWithCheck=function(c,e){var f="numOfDataPoints-".concat(e);(f=a('[name="'+f+'"]').attr("value"))&&f>255?b.uitk.displayAlert():b.uitk.exportToFile(c)};b.uitk.exportToFile=function(d,e,f){var g=!0,h=b.session.username;if(getCookie("exportToken")==h){var e=b.app.userBundles.uitk.Alert,j=b.uitk.dialog.render({content:'<div class="ppm_alert" style="margin-left: 8px">'+b.uitk.SPACER+' title="'+
e+'" alt="'+e+'" style="width: 20px; height: 20px; background: url(ui/uitk/images/common.png) no-repeat 0px 0px;"/><span>'+e+":</span>"+b.app.userBundles.uitk["Processing another export request. Please wait."]+'</div><div class="ppm_button_bar" style="float:right; margin-right: 8px"><button id="ppm_e2e_close" class="ppm_button">'+b.app.userBundles.uitk.Close+"</button></div>"});a("#ppm_e2e_close").click(function(){b.uitk.dialog.close(j)})}else{var k="ppm_export_file_form"+c++;showLoadingIcon=function(){var c;
createCookie("exportToken",h,"");a('<form name="'+k+'" method="POST" action="'+getPathname()+"?action="+d+'"/>').appendTo(b.uitk.ppm_workspace).submit();a("#ppm_header_wait").show();var e=0;c=window.setInterval(function(){e+=1;if(getCookie("exportToken")=='""'||e==300)window.clearInterval(c),a("#ppm_header_wait").hide(),deleteCookie("exportToken")},1E3)};if(e&&e>0){g=null;try{g=parseInt(a(b.util.escapeSel("#ppm_grid_row_count_"+f)).text())}catch(m){}g&&g>e?((f=b.app.userBundles.uitk["Maximum rows exceeded. Filter your list to less than {0} rows or choose Yes to export the first {0} rows only"])&&
(f=f.replace(/\{0\}/g,e)),e=b.app.userBundles.uitk.Alert,j=b.uitk.dialog.render({content:'<div class="ppm_alert" style="margin-left: 8px">'+b.uitk.SPACER+' title="'+e+'" alt="'+e+'" style="width: 20px; height: 20px; background: url(ui/uitk/images/common.png) no-repeat 0px 0px;"/><span>'+e+":</span>"+f+'</div><div class="ppm_button_bar" style="float:right; margin-right: 8px"><button id="ppm_e2e_yes" class="ppm_button">'+b.app.userBundles.uitk.Yes+'</button><button id="ppm_e2e_no" class="ppm_button">'+
b.app.userBundles.uitk.No+"</button></div>"}),a("#ppm_e2e_no").click(function(){b.uitk.dialog.close(j)}),a("#ppm_e2e_yes").click(function(){b.uitk.dialog.close(j);showLoadingIcon()}),g=!1):g=!0}g&&showLoadingIcon()}};getCookie=function(a){if(document.cookie.length>0){var b=document.cookie.indexOf(a+"=");if(b!=-1){b=b+a.length+1;a=document.cookie.indexOf(";",b);if(a==-1)a=document.cookie.length;return unescape(document.cookie.substring(b,a))}}return""};createCookie=function(a,b,c){document.cookie=
encodeURIComponent(a)+"="+b+"; expires= "+c};deleteCookie=function(a){document.cookie=encodeURIComponent(a)+"=deleted; expires="+(new Date(0)).toUTCString()};a(window).unload(function(){deleteCookie("exportToken")});window.onkeyup=function(b){b.keyCode==27&&(a("#ppm_header_wait").hide(),deleteCookie("exportToken"))};window.onhashchange=function(){navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&deleteCookie("exportToken")};b.uitk.displayE2ESeriesNotMatchingAlert=function(c){var e=b.app.userBundles.uitk.Alert,
f=b.uitk.dialog.render({content:'<div class="ppm_alert" style="margin-left: 8px">'+b.uitk.SPACER+' title="'+e+'" alt="'+e+'" style="width: 20px; height: 20px; background: url(ui/uitk/images/common.png) no-repeat 0px 0px;"/><span>'+e+':</span>The exported Chart may not match with CA Clarity Chart, as the series display types donot match with Chart display type.</div><div class="ppm_button_bar" style="float:right; margin-right: 8px"><button id="ppm_e2e_no" class="ppm_button">OK</button></div>'});a("#ppm_e2e_no").click(function(){b.uitk.dialog.close(f);
clarity.uitk.exportToFile(c)})};b.uitk.displayAlert=function(){var c=b.app.userBundles.uitk.Alert,e=b.uitk.dialog.render({content:'<div class="ppm_alert" style="margin-left: 8px">'+b.uitk.SPACER+' title="'+c+'" alt="'+c+'" style="width: 20px; height: 20px; background: url(ui/uitk/images/common.png) no-repeat 0px 0px;"/><span>'+c+':</span>Excel and Powerpoint only support charts with less than 255 data series.  Reduce your data before exporting</div><div class="ppm_button_bar" style="float:right; margin-right: 8px"><button id="ppm_e2e_no" class="ppm_button">OK</button></div>'});
a("#ppm_e2e_no").click(function(){b.uitk.dialog.close(e)})};window.UPK_GetContext=function(){return b.uitk.navigation.NavigationContext.getPageID(b.uitk.navigation.NavigationContextManager.getNavigationContext("Workspace"))};window.UPK_GetTags=function(){return null}});
define("uitk/js/shell",["jquery","uif/js/clarity","uitk/js/uitk","uitk/js/util","uitk/js/automation","uitk/js/dialog","uitk/js/tabs","uitk/js/ubermenu","uitk/js/grid/grid","uitk/js/portlet","uitk/js/log"],function(a,b){function c(c,d,e){var f="";b.automation.enabled&&(f='<a href="javascript:clarity.automation.configure()" class="ppm_header_links_div ppm_automation_link_div">Automation</a>');a('<div class="ppm_header" role="banner"><table role="presentation" cellspacing="0" cellpadding="0"><tr><td><img id="ppm_header_logo" src="'+
b.uitk.SPACER_SRC+'" alt="CA"/></td><td id="ppm_header_product"><span/></td></tr></table><div class="ppm_header_links"><img src="'+b.uitk.IMAGE_BASE+'uitk/images/wait_header.gif" id="ppm_header_wait" style="display: none; margin-right: 6px;" alt="wait"/><img src="'+b.uitk.IMAGE_BASE+'uitk/images/s.gif" id="ppm_header_user_img" alt=""/>'+(e?"":'<span id="ppm_header_user">'+b.session.fullname+"</span>")+'<a id="ppm_header_logout" href="#">'+d.logout+"</a>"+(e||!b.app.hasCapa?"":'<a id="ppm_header_learn" href="#" class="ppm_header_links_div">'+
d.learn+"</a>")+'<a id="ppm_header_help" href="#" class="ppm_header_links_div">'+d.help+'</a><a id="ppm_header_about" href="#" class="ppm_header_links_div">'+d.about+"</a>"+f+"</div></div>").appendTo(c);a("#ppm_header_logout").click(function(a){a.preventDefault();b.uitk.service.Navigation.navigate("#action:security.logoutAction")});b.app.hasCapa&&a("#ppm_header_learn").click(function(a){a.preventDefault();require(["uitk/js/help"],function(){b.uitk.help.showCapa()})});a("#ppm_header_help").click(function(a){a.preventDefault();
require(["uitk/js/help"],function(){b.uitk.help.showHelp()})});a("#ppm_header_about").click(function(a){a.preventDefault();b.uitk.xhr({dataType:"html",url:b.uitk.SERVLET_Q+"&action=mainnav.about",success:function(a){var c=a.indexOf("<\!-- //start_content:"),e=a.indexOf("//end_content --\>"),a=a.substring(c+21,e);b.uitk.dialog.render({id:"ppm_about_dialog",title:d.about,content:a,labels:d})}})});b.automation.updateAutomationLink()}function d(c,d,f,k,q){c=a('<div id="ppm_omnibar" role="navigation"><button id="ppm_history_back" title="'+
d.back+'" alt="'+d.back+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+d.back+'"/></button><span id="ppm_history_dd" title="'+d.recentPages+'" alt="'+d.recentPages+'" role="button" aria-pressed="false" tabindex="0"><img src="'+b.uitk.SPACER_SRC+'" alt="'+d.recentPages+'"/><div id="ppm_history_menu" tabindex="0"/></span><span id="ppm_nav_app" class="ppm_nav_menu" role="menu" tabindex="0" alt="'+d.home+'" title="'+d.home+'">'+d.home+'</span><img src="'+b.uitk.SPACER_SRC+'" class="ppm_omnibar_div" alt=""/><span id="ppm_nav_admin" class="ppm_nav_menu" role="menu" tabindex="0" alt="'+
d.administration+'" title="'+d.administration+'">'+d.administration+'</span><img src="'+b.uitk.SPACER_SRC+'" class="ppm_omnibar_div" alt=""/>'+(k?'<span id="ppm_nav_favs" class="ppm_nav_menu" role="menu" tabindex="0" alt="'+d.favorites+'" title="'+d.favorites+'">'+d.favorites+'</span><img src="'+b.uitk.SPACER_SRC+'" class="ppm_omnibar_div" alt=""/>':"")+'<div style="float:right; margin-right: 8px;"> <button id="ppm_refresh" class="ppm_omnibar_button" title="'+d.refresh+'" alt="'+d.refresh+'"><img src="'+
b.uitk.SPACER_SRC+'" alt="'+d.refresh+'"/></button> <button id="ppm_home_go" class="ppm_omnibar_button" title="'+d.home+'" alt="'+d.home+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+d.home+'"/></button>'+(q?' <button id="ppm_timesheet" class="ppm_omnibar_button" title="'+d.timesheet+'" alt="'+d.timesheet+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+d.timesheet+'"/></button>':"")+e(f,d)+"</div></div>").appendTo(c);g(d,k);var r=a("#ppm_history_back"),s=a("#ppm_history_dd"),t=a("#ppm_history_menu");t.keypress(function(a){b.handleEnter(a,
t)});s.blur(function(){var a=this;setTimeout(function(){b.util.sameOrChild(a,document.activeElement)||(s.attr("aria-pressed","false"),t.hide())},0)});r.click(function(){if(h){var a=h.attr("href");a&&a!=""&&(b.uitk.service.Navigation.navigate(a),j=!0);h=h.next()}});r.keypress(function(a){b.handleEnter(a,r)});s.click(function(){"true"==a(this).attr("aria-pressed")?(a(this).attr("aria-pressed","false"),t.hide()):(a(this).attr("aria-pressed","true"),t.show().position({my:"left top",at:"left bottom",of:r,
offset:"0 -6",collision:"none none"}))});s.keypress(function(c){b.handleEnter(c,a("#ppm_history_dd"))});f&&(a("#ppm_search").click(function(){a("#ppm_search_con").toggle();a("#ppm_search_text:visible").focus().select()}),a("#ppm_search_submit").click(function(){window.submitForm("search.basicSearchForm","search.basicSearchValidate");a("#ppm_search_con").hide()}),a("#ppm_search_text").keypress(function(c){b.handleEnter(c,a("#ppm_search_submit"))}),a("#ppm_search_advanced").click(function(){a("#ppm_search_con").hide()}));
q&&a("#ppm_timesheet").click(function(){b.uitk.service.Navigation.navigate("#action:timeadmin.currentTimesheet")});a("#ppm_home_go").click(function(){b.uitk.service.Navigation.navigate("#action:homeActionId")});return c}function e(a,c){var d="";a&&(d='<span id="ppm_search_con" role="search"> <a id="ppm_search_advanced" href="#action:search.advancedSearchForm&includeFileContents=true&objectTypeId=4&objectTypeId=7&objectTypeId=3&objectTypeId=1&objectTypeId=11&allUsers=true&backAction=homeActionId" title="'+
c.advanced+'">'+c.advanced+'</a> <div id="ppm_search_box"> <form style="display: inline" name="search.basicSearchForm" method="POST" onsubmit="return false;">  <input type="text" id="ppm_search_text" name="searchKeywords" title="'+c.search+'"/> </form> <button id="ppm_search_submit" title="'+c.search+'" alt="'+c.search+'"><img src="'+b.uitk.SPACER_SRC+'" alt="'+c.search+'"/></button></div></span><button id="ppm_search" class="ppm_omnibar_button" title="'+c.search+'" alt="'+c.search+'"><img src="'+
b.uitk.SPACER_SRC+'" alt="'+c.search+'"/></button>');return d}function f(c,d,e,f){return a('<button class="ppm_umenu_button ppm_umenu_refresh">'+e.refresh+"</button>").click(function(){b.uitk.shell.refreshUbermenus(c,d,e,f)})}function g(c,d,e){b.uitk.xhr({data:"{}",url:b.uitk.ODATA_REL_PATH+"/GetNavigatorMenuBean",success:function(e){var e=e.d.navigatorEntryList.results,g=b.uitk.ubermenu.render("ppm_nav_app_menu",e[0],a("#ppm_nav_app"),c),h=a("<div/>").append(a('<button id="ppm_nav_set_home" class="ppm_umenu_button">'+
c.setAsHome+"</button>").click(function(){b.uitk.xhr({data:"{Url: "+encodeURIComponent(window.location.href)+"}",url:b.uitk.ODATA_REL_PATH+"/SetAsHomePage",success:function(){b.uitk.ubermenu.close("ppm_nav_app_menu",g)}},!0)})).append(a('<button id="ppm_nav_reset_home" class="ppm_umenu_button">'+c.resetHome+"</button>").click(function(){b.uitk.xhr({data:"{}",url:b.uitk.ODATA_REL_PATH+"/ResetHome",success:function(){b.uitk.ubermenu.close("ppm_nav_app_menu",g)}},!0)})).append(f("ppm_nav_app_menu",g,
c,d));g.append(h);var k=e[1]&&e[1].portletCode=="union.adminLeftNav";k&&(a("#ppm_nav_admin").css("display","inline-block"),a("#ppm_nav_admin + img").show(),g=b.uitk.ubermenu.render("ppm_nav_admin_menu",e[1],a("#ppm_nav_admin"),c),h=a("<div/>").append(f("ppm_nav_admin_menu",g,c,d)),g.append(h));if(d){for(var e=k?e[2]:e[1],h=e.childNavEntries.results.shift(),j=h.actionCode,k=h.parameterList&&h.parameterList.results?h.parameterList.results.length:0,o=0;o<k;o++)j+="&"+h.parameterList.results[o].parameterCode+
"="+h.parameterList.results[o].parameterValue;g=b.uitk.ubermenu.render("ppm_nav_favs_menu",e,a("#ppm_nav_favs"),c);h=a("<div/>").append(a('<button class="ppm_umenu_button">'+c.addCurrent+"</button>").click(function(){var a=b.uitk.shell.escapeHtml(document.title),a=encodeURIComponent(a);b.uitk.xhr({data:'{Url: "'+b.uitk.shell.getFavoritesLink()+'", LinkName: "'+a+'"}',url:b.uitk.ODATA_REL_PATH+"/AddFavorites",success:function(){b.uitk.shell.refreshUbermenus("ppm_nav_favs_menu",g,c,d)}},!0)})).append(a('<button class="ppm_umenu_button">'+
c.configure+"</button>").click(function(){b.uitk.ubermenu.close("ppm_nav_favs_menu",g);b.uitk.service.Navigation.navigate("#action:"+j)})).append(f("ppm_nav_favs_menu",g,c,d));g.append(h)}}},e)}var h=null,j=!1,k=!0;b.uitk.shell={};b.uitk.shell.resetGlobals=function(){b.uitk.ppm_workspace=null};b.uitk.shell.escapeHtml=function(b){return b==null?"":a("<div/>").text(b).html()};b.uitk.shell.rawPageRender=function(c,d){var e;d&&d.match&&(e=d.match(RegExp("<link[^>]*/>","img")));if(e&&e.length)for(var f=
e.length,g=0;g<f;g++){var h=e[g],k=h.indexOf(">"),j=h.indexOf("rel=");j>0&&(j=h.indexOf("stylesheet",j));j>0&&(j=h.indexOf("href"),j>0?(k=h.substring(j+5,j+6),k=h.indexOf(k,j+6),b.util.addCss("hdr_link_id_"+g,h.substring(j+6,k))):b.util.addCssInline("hdr_link_id_"+g,h.substring(k+1,h.length-7)))}b.uitk.shell.resetGlobals();a("#ppm_app").empty().html(c);var u=!1;a("form").each(function(){(!a(this).attr("name")||a(this).attr("name")=="")&&a(this).attr("name","tmp_form_name");var b=a(this).attr("name");
a(this).submit(function(){u||(u=!0,window.rawSubmitForm(b));return!1})})};b.uitk.shell.render=function(e,f,g,h){b.log.startPerf("render","pageShell");b.uitk.grid.processing=!1;var j=b.uitk.ppm_app;if(!j)j=b.uitk.ppm_app=a("#ppm_app");var k=b.uitk.ppm_workspace;if(!k)k=b.uitk.ppm_workspace=a("#ppm_workspace");var s=b.app.id&&b.app.id=="nsa";g&&g.full?(j.addClass("ppm_app_full").empty().html(e),b.uitk.shell.resetGlobals()):k.length<1||b.app.langNeedsUpdate?(a("html").attr("lang",b.session.lang),b.uitk.shell.setIFrameAttrs(),
b.session.screenReaderOpt&&b.util.addCss("clarity_sr","ui/uitk/css/clarity_sr.css"),j=j.removeClass("ppm_app_full").addClass("ppm_page_bg").empty(),g&&g.headerFunc?g.headerFunc.apply(null,[j,f,g]):(c(j,f,s),h=h?h(j):d(j,f,!s,!s,!s),s&&g&&g.id=="nsa.eula"&&h.hide()),s=a('<div class="ppm_tabs" role="tablist"/>').appendTo(j),g&&g.tabs&&b.uitk.tabs.render(s,f,g.tabs),a("#ppm_refresh").click(function(){a("#ppm_header_wait").show();var c;c=navigator.userAgent.toLowerCase().indexOf("firefox")==-1?decodeURIComponent(window.location.hash):
window.location.hash;b.uitk.service.Navigation.navigate(c)}),k=b.uitk.ppm_workspace=a('<div id="ppm_workspace" class="ppm_workspace_bg" role="main"/>').appendTo(j).position({my:"left top",at:"left bottom",of:s,collision:"none none"}).append(e),e=a('<div id="ppm_workspace_bb" class="ppm_fixed_button_bar"/>').appendTo(j),a(document).keydown(function(b){if(b.ctrlKey&&b.altKey)switch(b.which){case 72:a("#ppm_nav_app_menu").is(":visible")?a("#ppm_nav_app").mouseout():a("#ppm_nav_app").mouseover();break;
case 65:a("#ppm_nav_admin_menu").is(":visible")?a("#ppm_nav_admin").mouseout():a("#ppm_nav_admin").mouseover();break;case 70:a("#ppm_nav_favs_menu").is(":visible")?a("#ppm_nav_favs").mouseout():a("#ppm_nav_favs").mouseover();break;case 83:a("#ppm_search").click();break;case 86:a("#ppm_history_menu").is(":visible")?a("#ppm_history_menu").hide():a("#ppm_history_dd").focus().click();break;case 36:a("#ppm_home_go").click();break;case 66:a("#ppm_history_back").focus().click();break;case 116:a("#ppm_refresh").click();
break;case 33:a("#prevPageButton").click();break;case 34:a("#nextPageButton").click()}else b.keyCode==112&&(a("#ppm_header_help").click(),b.preventDefault())}),b.uitk.button.fixedButtonBar({resizeCon:a(window),barCon:k,fixedBar:e})):(s&&!a("#ppm_omnibar").is(":visible")&&a("#ppm_omnibar").show(),b.uitk.shell.setIFrameAttrs(),s=a(".ppm_tabs:not('.ppm_dialog .ppm_tabs')"),b.uitk.tabs.render(s.empty(),f,g.tabs),k.empty().position({my:"left top",at:"left bottom",of:s,collision:"none none"}).html(e),setTimeout(function(){b.uitk.button.fixedButtonBar({resizeCon:a(window),
barCon:k,fixedBar:a("#ppm_workspace_bb")})},1));setTimeout(function(){b.uitk.grids=b.uitk.grid.init("Workspace",k)},950);b.util.focusFirst(k);b.util.bindPageKeyDownElement(k);b.util.focusScreenReadersOnErrorMessage(k);if(g)g=(g.context&&g.context.length>0?g.context.replace(/&amp;nbsp;/g," ")+" - ":"")+g.title,document.title=window.clarity.app.productName+" :: "+g;a("#ppm_header_wait").hide();b.log.stopPerf("render","pageShell")};b.uitk.shell.setIFrameAttrs=function(){k==!0&&(a('iframe[tabindex="-1"]').each(function(){var b=
a(this).attr("title");(typeof b=="undefined"||b==!1)&&a(this).attr("title","No user content")}),k=!1)};b.uitk.shell.refreshUbermenus=function(c,d,e,f){b.uitk.ubermenu.close(c,d);a("#ppm_nav_app, #ppm_nav_admin, #ppm_nav_favs").removeClass("ppm_nav_menu_hover");a("#ppm_nav_app_menu, #ppm_nav_admin_menu, #ppm_nav_favs_menu").remove();g(e,f,!0)};b.uitk.shell.getFavoritesLink=function(){return b.uitk.shell.formatHrefForFavorites(window.location.href)};b.uitk.shell.formatHrefForFavorites=function(a){var c=
a.indexOf("/"+b.uitk.SERVLET),d=a.indexOf("#action"),a=a.substring(0,c)+"/app?action="+a.substring(d+8);return encodeURIComponent(a)};b.uitk.shell.addHistory=function(c,d,e){c&&d&&(d=b.util.normalizeLegacyUrl(d),c=b.uitk.shell.escapeHtml(c),e=b.uitk.shell.escapeHtml(e),e=a('<a href="'+d+'" title="'+c+'" data-ppm_page_context="'+e+'">'+c+"</a>"),a("#ppm_history_menu").prepend(e).children(":gt(19)").remove(),j?j=!1:h=e.next())};b.uitk.shell.setFirstHistory=function(c,d,e){c&&d&&(d=b.util.normalizeLegacyUrl(d),
c=b.uitk.shell.escapeHtml(c),e=b.uitk.shell.escapeHtml(e),a("#ppm_history_menu a:first").attr({href:d,title:c,"data-ppm_page_context":e}).html(c),j=!1)}});
define("uif/js/clarity_main",["jquery","uif/js/clarity","knockout","knockout.mapping","pfm/js/nkdate","pfm/js/nktime","pfm/js/nksegment","pfm/js/nksegmentlist","pfm/js/nkcurve","pfm/js/nkcalendar","ext/globalize","uitk/js/shell","uitk/js/legacy","uitk/js/login","uitk/js/legacy/ajax","uitk/js/legacy/ajax-impls","uitk/js/legacy/LinkActions","uitk/js/legacy/common","uitk/js/legacy/lookupManagement","uitk/js/legacy/rpt_launch"],function(a,b,c){loadApps=function(){var a=overrideDocWrite();require(["ui/uitk/gwt/com.ca.clarity.container/com.ca.clarity.container.nocache.js",
"ui/uitk/gwt/com.ca.clarity.uitk.widget.Grid/com.ca.clarity.uitk.widget.Grid.nocache.js","ui/uitk/gwt/com.ca.clarity.uitk.widget.ObjectActions/com.ca.clarity.uitk.widget.ObjectActions.nocache.js","projmgr/js/gantt","ui/uitk/gwt/com.ca.clarity.Gantt/com.ca.clarity.Gantt.nocache.js","ui/uitk/gwt/com.ca.clarity.PFMPriorityView/com.ca.clarity.PFMPriorityView.nocache.js"],function(){document.write=a})};overrideDocWrite=function(){var a=document.write;document.write=function(a){if(a&&a.indexOf("<script")==
0){var b=a.indexOf(">");if(b>0){var c=a.indexOf("<\/script>");c>0&&eval(a.substring(b+1,c))}}};return a};c.bindingHandlers.htmlValue={init:function(b,e,f){a(b).keydown(function(a){var h=e(),j=b.innerHTML,k=f(),m=a.which==13,l=!1;switch(a.which){case 8:case 9:case 35:case 36:case 37:case 39:case 45:case 46:l=!0}if(!m&&(l||typeof k.maxLength=="undefined"||j.length<k.maxLength))setTimeout(function(){c.isWriteableObservable(h)?h(b.innerHTML):k._ko_property_writers&&k._ko_property_writers.htmlValue&&k._ko_property_writers.htmlValue(b.innerHTML)},
1);else return a.preventDefault(),!1}).bind("paste",function(){event.preventDefault();return!1})},update:function(a,b){var f=c.utils.unwrapObservable(b())||"";if(a.innerHTML!==f)a.innerHTML=f}};c.dirtyFlag=function(a,b){var f=function(){},g=c.observable(c.toJSON(a)),h=c.observable(b);f.isDirty=c.computed(function(){return h()||g()!==c.toJSON(a)});f.reset=function(){g(c.toJSON(a));h(!1)};return f};loadApps()});